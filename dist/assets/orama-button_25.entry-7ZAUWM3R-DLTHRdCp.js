var Bu=Object.defineProperty;var Cl=r=>{throw TypeError(r)};var Uu=(r,e,t)=>e in r?Bu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var N=(r,e,t)=>Uu(r,typeof e!="symbol"?e+"":e,t),Vu=(r,e,t)=>e.has(r)||Cl("Cannot "+t);var El=(r,e,t)=>e.has(r)?Cl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t);var oi=(r,e,t)=>(Vu(r,e,"access private method"),t);import{e as i,O as Re,X as y,i as Ke,j as $e,a as st,w as lr,C as Il,D as Ol}from"./index-DayQNZBd.js";import"./layout-BYGXMm53.js";import"./with-props-DoBTHMzA.js";import"./chunk-D4RADZKF-CU2tjOne.js";import"./context-30KFl0KO.js";import"./index-DeXDfT6P.js";import"./virtual_xyd-settings-vuBK2bWI.js";var Fu=Object.create,Bc=Object.defineProperty,qu=Object.getOwnPropertyDescriptor,Gu=Object.getOwnPropertyNames,Wu=Object.getPrototypeOf,Ku=Object.prototype.hasOwnProperty,qr=i((r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),"A$1"),Yu=i((r,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Gu(e))!Ku.call(r,s)&&s!==t&&Bc(r,s,{get:i(()=>e[s],"get"),enumerable:!(a=qu(e,s))||a.enumerable});return r},"Dt"),So=i((r,e,t)=>(t=r!=null?Fu(Wu(r)):{},Yu(e||!r||!r.__esModule?Bc(t,"default",{value:r,enumerable:!0}):t,r)),"Y$1"),Uc=qr(r=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isBytes=a,r.number=e,r.bool=t,r.bytes=s,r.hash=n,r.exists=o,r.output=l;function e(d){if(!Number.isSafeInteger(d)||d<0)throw new Error(`positive integer expected, not ${d}`)}i(e,"R");function t(d){if(typeof d!="boolean")throw new Error(`boolean expected, not ${d}`)}i(t,"me");function a(d){return d instanceof Uint8Array||d!=null&&typeof d=="object"&&d.constructor.name==="Uint8Array"}i(a,"ge");function s(d,...m){if(!a(d))throw new Error("Uint8Array expected");if(m.length>0&&!m.includes(d.length))throw new Error(`Uint8Array expected of length ${m}, not of length=${d.length}`)}i(s,"X");function n(d){if(typeof d!="function"||typeof d.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(d.outputLen),e(d.blockLen)}i(n,"ye");function o(d,m=!0){if(d.destroyed)throw new Error("Hash instance has been destroyed");if(m&&d.finished)throw new Error("Hash#digest() has already been called")}i(o,"Se");function l(d,m){s(d);let b=m.outputLen;if(d.length<b)throw new Error(`digestInto() expects output buffer of length at least ${b}`)}i(l,"be");var h={number:e,bool:t,bytes:s,hash:n,exists:o,output:l};r.default=h}),Qu=qr(r=>{Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=void 0,r.fromBig=a,r.split=s,r.add=$;var e=BigInt(2**32-1),t=BigInt(32);function a(P,V=!1){return V?{h:Number(P&e),l:Number(P>>t&e)}:{h:Number(P>>t&e)|0,l:Number(P&e)|0}}i(a,"ee");function s(P,V=!1){let S=new Uint32Array(P.length),_=new Uint32Array(P.length);for(let B=0;B<P.length;B++){let{h:he,l:T}=a(P[B],V);[S[B],_[B]]=[he,T]}return[S,_]}i(s,"Ie");var n=i((P,V)=>BigInt(P>>>0)<<t|BigInt(V>>>0),"Te");r.toBig=n;var o=i((P,V,S)=>P>>>S,"we");r.shrSH=o;var l=i((P,V,S)=>P<<32-S|V>>>S,"xe");r.shrSL=l;var h=i((P,V,S)=>P>>>S|V<<32-S,"Ae");r.rotrSH=h;var d=i((P,V,S)=>P<<32-S|V>>>S,"Oe");r.rotrSL=d;var m=i((P,V,S)=>P<<64-S|V>>>S-32,"Ee");r.rotrBH=m;var b=i((P,V,S)=>P>>>S-32|V<<64-S,"Pe");r.rotrBL=b;var k=i((P,V)=>V,"ve");r.rotr32H=k;var A=i((P,V)=>P,"Ce");r.rotr32L=A;var z=i((P,V,S)=>P<<S|V>>>32-S,"_e");r.rotlSH=z;var I=i((P,V,S)=>V<<S|P>>>32-S,"Ne");r.rotlSL=I;var F=i((P,V,S)=>V<<S-32|P>>>64-S,"De");r.rotlBH=F;var U=i((P,V,S)=>P<<S-32|V>>>64-S,"ke");r.rotlBL=U;function $(P,V,S,_){let B=(V>>>0)+(_>>>0);return{h:P+S+(B/2**32|0)|0,l:B|0}}i($,"Le");var W=i((P,V,S)=>(P>>>0)+(V>>>0)+(S>>>0),"Re");r.add3L=W;var ne=i((P,V,S,_)=>V+S+_+(P/2**32|0)|0,"Me");r.add3H=ne;var pe=i((P,V,S,_)=>(P>>>0)+(V>>>0)+(S>>>0)+(_>>>0),"Be");r.add4L=pe;var te=i((P,V,S,_,B)=>V+S+_+B+(P/2**32|0)|0,"Ue");r.add4H=te;var E=i((P,V,S,_,B)=>(P>>>0)+(V>>>0)+(S>>>0)+(_>>>0)+(B>>>0),"ze");r.add5L=E;var H=i((P,V,S,_,B,he)=>V+S+_+B+he+(P/2**32|0)|0,"He");r.add5H=H;var le={fromBig:a,split:s,toBig:n,shrSH:o,shrSL:l,rotrSH:h,rotrSL:d,rotrBH:m,rotrBL:b,rotr32H:k,rotr32L:A,rotlSH:z,rotlSL:I,rotlBH:F,rotlBL:U,add:$,add3L:W,add3H:ne,add4L:pe,add4H:te,add5H:H,add5L:E};r.default=le}),Xu=qr(r=>{Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0}),Ju=qr(r=>{var S;Object.defineProperty(r,"__esModule",{value:!0}),r.Hash=r.nextTick=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=void 0,r.isBytes=a,r.byteSwap32=m,r.bytesToHex=k,r.hexToBytes=I,r.asyncLoop=U,r.utf8ToBytes=$,r.toBytes=W,r.concatBytes=ne,r.checkOpts=E,r.wrapConstructor=H,r.wrapConstructorWithOpts=le,r.wrapXOFConstructorWithOpts=P,r.randomBytes=V;var e=Xu(),t=Uc();function a(_){return _ instanceof Uint8Array||_!=null&&typeof _=="object"&&_.constructor.name==="Uint8Array"}i(a,"Rt");var s=i(_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength),"Mt");r.u8=s;var n=i(_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4)),"Bt");r.u32=n;var o=i(_=>new DataView(_.buffer,_.byteOffset,_.byteLength),"Ut");r.createView=o;var l=i((_,B)=>_<<32-B|_>>>B,"zt");r.rotr=l;var h=i((_,B)=>_<<B|_>>>32-B>>>0,"Ht");r.rotl=h,r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var d=i(_=>_<<24&4278190080|_<<8&16711680|_>>>8&65280|_>>>24&255,"Ft");r.byteSwap=d,r.byteSwapIfBE=r.isLE?_=>_:_=>(0,r.byteSwap)(_);function m(_){for(let B=0;B<_.length;B++)_[B]=(0,r.byteSwap)(_[B])}i(m,"Wt");var b=Array.from({length:256},(_,B)=>B.toString(16).padStart(2,"0"));function k(_){(0,t.bytes)(_);let B="";for(let he=0;he<_.length;he++)B+=b[_[he]];return B}i(k,"$t");var A={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function z(_){if(_>=A._0&&_<=A._9)return _-A._0;if(_>=A._A&&_<=A._F)return _-(A._A-10);if(_>=A._a&&_<=A._f)return _-(A._a-10)}i(z,"Ve");function I(_){if(typeof _!="string")throw new Error("hex string expected, got "+typeof _);let B=_.length,he=B/2;if(B%2)throw new Error("padded hex string expected, got unpadded hex of length "+B);let T=new Uint8Array(he);for(let D=0,ee=0;D<he;D++,ee+=2){let se=z(_.charCodeAt(ee)),x=z(_.charCodeAt(ee+1));if(se===void 0||x===void 0){let q=_[ee]+_[ee+1];throw new Error('hex string expected, got non-hex character "'+q+'" at index '+ee)}T[D]=se*16+x}return T}i(I,"jt");var F=i(async()=>{},"Jt");r.nextTick=F;async function U(_,B,he){let T=Date.now();for(let D=0;D<_;D++){he(D);let ee=Date.now()-T;ee>=0&&ee<B||(await(0,r.nextTick)(),T+=ee)}}i(U,"Kt");function $(_){if(typeof _!="string")throw new Error(`utf8ToBytes expected string, got ${typeof _}`);return new Uint8Array(new TextEncoder().encode(_))}i($,"$e");function W(_){return typeof _=="string"&&(_=$(_)),(0,t.bytes)(_),_}i(W,"U");function ne(..._){let B=0;for(let T=0;T<_.length;T++){let D=_[T];(0,t.bytes)(D),B+=D.length}let he=new Uint8Array(B);for(let T=0,D=0;T<_.length;T++){let ee=_[T];he.set(ee,D),D+=ee.length}return he}i(ne,"qt");var pe=(S=class{clone(){return this._cloneInto()}},i(S,"te"),S);r.Hash=pe;var te={}.toString;function E(_,B){if(B!==void 0&&te.call(B)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(_,B)}i(E,"Yt");function H(_){let B=i(T=>_().update(W(T)).digest(),"e"),he=_();return B.outputLen=he.outputLen,B.blockLen=he.blockLen,B.create=()=>_(),B}i(H,"Xt");function le(_){let B=i((T,D)=>_(D).update(W(T)).digest(),"e"),he=_({});return B.outputLen=he.outputLen,B.blockLen=he.blockLen,B.create=T=>_(T),B}i(le,"Qt");function P(_){let B=i((T,D)=>_(D).update(W(T)).digest(),"e"),he=_({});return B.outputLen=he.outputLen,B.blockLen=he.blockLen,B.create=T=>_(T),B}i(P,"Zt");function V(_=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(_));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(_);throw new Error("crypto.getRandomValues must be defined")}i(V,"en")}),ep=qr(r=>{var pe;Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=void 0,r.keccakP=U;var e=Uc(),t=Qu(),a=Ju(),s=[],n=[],o=[],l=BigInt(0),h=BigInt(1),d=BigInt(2),m=BigInt(7),b=BigInt(256),k=BigInt(113);for(let te=0,E=h,H=1,le=0;te<24;te++){[H,le]=[le,(2*H+3*le)%5],s.push(2*(5*le+H)),n.push((te+1)*(te+2)/2%64);let P=l;for(let V=0;V<7;V++)E=(E<<h^(E>>m)*k)%b,E&d&&(P^=h<<(h<<BigInt(V))-h);o.push(P)}var[A,z]=(0,t.split)(o,!0),I=i((te,E,H)=>H>32?(0,t.rotlBH)(te,E,H):(0,t.rotlSH)(te,E,H),"Je"),F=i((te,E,H)=>H>32?(0,t.rotlBL)(te,E,H):(0,t.rotlSL)(te,E,H),"Ke");function U(te,E=24){let H=new Uint32Array(10);for(let le=24-E;le<24;le++){for(let S=0;S<10;S++)H[S]=te[S]^te[S+10]^te[S+20]^te[S+30]^te[S+40];for(let S=0;S<10;S+=2){let _=(S+8)%10,B=(S+2)%10,he=H[B],T=H[B+1],D=I(he,T,1)^H[_],ee=F(he,T,1)^H[_+1];for(let se=0;se<50;se+=10)te[S+se]^=D,te[S+se+1]^=ee}let P=te[2],V=te[3];for(let S=0;S<24;S++){let _=n[S],B=I(P,V,_),he=F(P,V,_),T=s[S];P=te[T],V=te[T+1],te[T]=B,te[T+1]=he}for(let S=0;S<50;S+=10){for(let _=0;_<10;_++)H[_]=te[S+_];for(let _=0;_<10;_++)te[S+_]^=~H[(_+2)%10]&H[(_+4)%10]}te[0]^=A[le],te[1]^=z[le]}H.fill(0)}i(U,"Xe");var $=(pe=class extends a.Hash{constructor(E,H,le,P=!1,V=24){if(super(),this.blockLen=E,this.suffix=H,this.outputLen=le,this.enableXOF=P,this.rounds=V,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,e.number)(le),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,a.u32)(this.state)}keccak(){a.isLE||(0,a.byteSwap32)(this.state32),U(this.state32,this.rounds),a.isLE||(0,a.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(E){(0,e.exists)(this);let{blockLen:H,state:le}=this;E=(0,a.toBytes)(E);let P=E.length;for(let V=0;V<P;){let S=Math.min(H-this.pos,P-V);for(let _=0;_<S;_++)le[this.pos++]^=E[V++];this.pos===H&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:E,suffix:H,pos:le,blockLen:P}=this;E[le]^=H,H&128&&le===P-1&&this.keccak(),E[P-1]^=128,this.keccak()}writeInto(E){(0,e.exists)(this,!1),(0,e.bytes)(E),this.finish();let H=this.state,{blockLen:le}=this;for(let P=0,V=E.length;P<V;){this.posOut>=le&&this.keccak();let S=Math.min(le-this.posOut,V-P);E.set(H.subarray(this.posOut,this.posOut+S),P),this.posOut+=S,P+=S}return E}xofInto(E){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(E)}xof(E){return(0,e.number)(E),this.xofInto(new Uint8Array(E))}digestInto(E){if((0,e.output)(E,this),this.finished)throw new Error("digest() was already called");return this.writeInto(E),this.destroy(),E}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(E){let{blockLen:H,suffix:le,outputLen:P,rounds:V,enableXOF:S}=this;return E||(E=new pe(H,le,P,S,V)),E.state32.set(this.state32),E.pos=this.pos,E.posOut=this.posOut,E.finished=this.finished,E.rounds=V,E.suffix=le,E.outputLen=P,E.enableXOF=S,E.destroyed=this.destroyed,E}},i(pe,"t"),pe);r.Keccak=$;var W=i((te,E,H)=>(0,a.wrapConstructor)(()=>new $(E,te,H)),"T");r.sha3_224=W(6,144,224/8),r.sha3_256=W(6,136,256/8),r.sha3_384=W(6,104,384/8),r.sha3_512=W(6,72,512/8),r.keccak_224=W(1,144,224/8),r.keccak_256=W(1,136,256/8),r.keccak_384=W(1,104,384/8),r.keccak_512=W(1,72,512/8);var ne=i((te,E,H)=>(0,a.wrapXOFConstructorWithOpts)((le={})=>new $(E,te,le.dkLen===void 0?H:le.dkLen,!0)),"Qe");r.shake128=ne(31,168,128/8),r.shake256=ne(31,136,256/8)}),tp=qr((r,e)=>{var{sha3_512:t}=ep(),a=24,s=32,n=i((F=4,U=Math.random)=>{let $="";for(;$.length<F;)$=$+Math.floor(U()*36).toString(36);return $},"re");function o(F){let U=BigInt(8),$=BigInt(0);for(let W of F.values()){let ne=BigInt(W);$=($<<U)+ne}return $}i(o,"nt");var l=i((F="")=>o(t(F)).toString(36).slice(1),"rt"),h=Array.from({length:26},(F,U)=>String.fromCharCode(U+97)),d=i(F=>h[Math.floor(F()*h.length)],"un"),m=i(({globalObj:F=typeof global<"u"?global:typeof window<"u"?window:{},random:U=Math.random}={})=>{let $=Object.keys(F).toString(),W=$.length?$+n(s,U):n(s,U);return l(W).substring(0,s)},"st"),b=i(F=>()=>F++,"ot"),k=476782367,A=i(({random:F=Math.random,counter:U=b(Math.floor(F()*k)),length:$=a,fingerprint:W=m({random:F})}={})=>function(){let ne=d(F),pe=Date.now().toString(36),te=U().toString(36),E=n($,F),H=`${pe+E+te+W}`;return`${ne+l(H).substring(1,$)}`},"it"),z=A(),I=i((F,{minLength:U=2,maxLength:$=s}={})=>{let W=F.length,ne=/^[a-z][0-9a-z]+$/;try{if(typeof F=="string"&&W>=U&&W<=$&&ne.test(F))return!0}finally{}return!1},"fn");e.exports.getConstants=()=>({defaultLength:a,bigLength:s}),e.exports.init=A,e.exports.createId=z,e.exports.bufToBigInt=o,e.exports.createCounter=b,e.exports.createFingerprint=m,e.exports.isCuid=I}),Ao=qr((r,e)=>{var{createId:t,init:a,getConstants:s,isCuid:n}=tp();e.exports.createId=t,e.exports.init=a,e.exports.getConstants=s,e.exports.isCuid=n}),rp=So(Ao(),1),ap={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},sp=Object.keys(ap);Date.now().toString().slice(5);var Ll=BigInt(1e3),Ml=BigInt(1e6),Pl=BigInt(1e9);function Vc(r){return typeof r=="number"&&(r=BigInt(r)),r<Ll?`${r}ns`:r<Ml?`${r/Ll}Î¼s`:r<Pl?`${r/Ml}ms`:`${r/Pl}s`}i(Vc,"dt");sp.join(`
 - `);function eo(r){return{raw:Number(r),formatted:Vc(r)}}i(eo,"oe");var Fc="2.1.4",ip={version:Fc},$l=So(Ao(),1),np="https://answer.api.orama.com",op="/v1/indexes",Rl="orama_user_id";function qc(r){let[e,...t]=r.split(`
`),a=t.join(`
`).replace("data: ","");return{event:e.replace("event: ",""),data:a}}i(qc,"bt");function to(r){return typeof r=="object"?JSON.stringify(r):`${r}`}i(to,"ae");var na,lp=(na=class{constructor(e){N(this,"messages");N(this,"inferenceType");N(this,"oramaClient");N(this,"endpoint");N(this,"abortController");N(this,"events");N(this,"userContext");N(this,"conversationID");N(this,"lastInteractionParams");N(this,"state",[]);N(this,"systemPrompts");let t=e.oramaClient.answersApiBaseURL||np;this.messages=e.initialMessages||[],this.inferenceType=e.inferenceType,this.oramaClient=e.oramaClient,this.endpoint=`${t}/v1/answer?api-key=${this.oramaClient.api_key}`,this.events=e.events,this.conversationID=(0,$l.createId)(),this.userContext=e.userContext}async askStream(e){return this.messages.push({role:"user",content:e.term??""}),this.fetchAnswer(e)}async ask(e){var s;let t=await this.askStream(e),a="";for await(let n of t)a=n;return(s=this.events)!=null&&s.onMessageChange&&this.events.onMessageChange(this.messages),a}getMessages(){return this.messages}clearSession(){var e,t;this.messages=[],this.state=[],(e=this.events)!=null&&e.onMessageChange&&this.events.onMessageChange(this.messages),(t=this.events)!=null&&t.onStateChange&&this.events.onStateChange(this.state)}abortAnswer(){if(!this.abortController)throw new Error("AbortController is not ready");this.abortController.abort(),this.abortController=void 0,this.state[this.state.length-1].aborted=!0}async regenerateLast({stream:e=!0}={}){var t;if(this.state.length===0||this.messages.length===0)throw new Error("No messages to regenerate");if(((t=this.messages.at(-1))==null?void 0:t.role)!=="assistant")throw new Error("Last message is not an assistant message");return this.messages.pop(),this.state.pop(),e?this.askStream(this.lastInteractionParams):this.ask(this.lastInteractionParams)}addNewEmptyAssistantMessage(){this.messages.push({role:"assistant",content:""})}async*fetchAnswer(e){var n,o,l,h,d,m,b,k,A,z,I,F,U,$,W,ne,pe,te;this.abortController=new AbortController,this.lastInteractionParams=e;let t=(0,$l.createId)(),a=null,s=this.state.length;this.state.push({interactionId:t,query:e.term??"",response:"",relatedQueries:null,sources:null,translatedQuery:null,segment:null,trigger:null,aborted:!1,loading:!0,error:!1,errorMessage:null});try{(n=this.events)!=null&&n.onNewInteractionStarted&&this.events.onNewInteractionStarted(t),(o=this.events)!=null&&o.onStateChange&&this.events.onStateChange(this.state);let E=new URLSearchParams;E.append("type",this.inferenceType),E.append("messages",JSON.stringify(this.messages)),E.append("query",e.term??""),E.append("conversationId",this.conversationID),E.append("userId",this.oramaClient.getUserId()),E.append("endpoint",this.oramaClient.endpoint),E.append("searchParams",JSON.stringify(e)),E.append("identity",this.oramaClient.getIdentity()??""),E.append("interactionId",t),E.append("alias",this.oramaClient.getAlias()??"");let H=this.getSystemPromptConfiguration();if(H&&E.append("systemPrompts",JSON.stringify(H)),this.userContext&&E.append("userContext",to(this.userContext)),e.userData&&E.append("userData",to(e.userData)),e.related){if((l=e.related)!=null&&l.howMany&&((h=e.related)==null?void 0:h.howMany)>5)throw new Error("Can generate at most 5 related queries");E.append("related",JSON.stringify({enabled:!0,howMany:e.related.howMany??3,format:e.related.format??"question"}))}let le=await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:E.toString(),signal:this.abortController.signal});if(!le.ok||!le.body)throw new Error(le.statusText);a=le.body.getReader();let P=new TextDecoder,V=[],S="";(d=this.events)!=null&&d.onMessageLoading&&this.events.onMessageLoading(!0),this.addNewEmptyAssistantMessage();let _=this.messages.at(-1);for(;;){let{value:B,done:he}=await a.read();if(he)break;S+=P.decode(B,{stream:!0});let T;for(;(T=S.indexOf(`

`))!==-1;){let D=S.slice(0,T);S=S.slice(T+2);try{let ee=qc(D),se=JSON.parse(ee.data);if(se.type==="sources")this.state[s].sources=se.message,(m=this.events)!=null&&m.onSourceChange&&this.events.onSourceChange(se.message),(b=this.events)!=null&&b.onStateChange&&this.events.onStateChange(this.state);else if(se.type==="query-translated")this.state[s].translatedQuery=se.message,(k=this.events)!=null&&k.onQueryTranslated&&this.events.onQueryTranslated(se.message),(A=this.events)!=null&&A.onStateChange&&this.events.onStateChange(this.state);else if(se.type==="conversation-metadata"){let{segment:x,trigger:q}=se.message;x&&(this.state[s].segment=x),q&&(this.state[s].trigger=q),(z=this.events)!=null&&z.onStateChange&&this.events.onStateChange(this.state)}else if(se.type==="related-queries")this.state[s].relatedQueries=se.message,(I=this.events)!=null&&I.onRelatedQueries&&this.events.onRelatedQueries(se.message),(F=this.events)!=null&&F.onStateChange&&this.events.onStateChange(this.state);else if(se.type==="text")for(V.push(se.message);V.length>0;)_.content+=V.shift(),this.state[s].response=_.content,(U=this.events)!=null&&U.onStateChange&&this.events.onStateChange(this.state),($=this.events)!=null&&$.onMessageChange&&this.events.onMessageChange(this.messages),yield _.content}catch(ee){console.error("Error parsing SSE event:",ee),console.error("Raw message:",D)}}}}catch(E){if(E.name==="AbortError")this.state[s].aborted=!0,(W=this.events)!=null&&W.onAnswerAborted&&this.events.onAnswerAborted(!0);else throw this.state[s].error=!0,this.state[s].errorMessage=E.message??"Unknown error",E}finally{a==null||a.releaseLock(),this.state[s].loading=!1,(ne=this.events)!=null&&ne.onStateChange&&this.events.onStateChange(this.state),(pe=this.events)!=null&&pe.onInteractionDone&&this.events.onInteractionDone(this.state[s]),(te=this.events)!=null&&te.onMessageLoading&&this.events.onMessageLoading(!1)}}setSystemPromptConfiguration(e){if(Array.isArray(e.systemPrompts)){if(!e.systemPrompts.every(t=>typeof t=="string"))throw new Error("Invalid system prompt configuration");this.systemPrompts=e.systemPrompts}return this}getSystemPromptConfiguration(){return this.systemPrompts}},i(na,"H$1"),na),oa,cp=(oa=class{constructor(e){N(this,"cache");N(this,"config");this.cache=new Map,this.config=e}set(e,t){this.cache.set(e,t)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}size(){return this.cache.size}},i(oa,"F$1"),oa);function mn(r,e){if(typeof navigator<"u"){typeof navigator.sendBeacon<"u"&&navigator.sendBeacon(r,e);return}fetch(r,{method:"POST",body:e,headers:{"Content-Type":"application/json"}}).then(()=>{},t=>console.log(t))}i(mn,"O$3");var Lr,hp=(Lr=class{constructor(e,t){N(this,"data");N(this,"params");N(this,"config");N(this,"profile");this.data=[],this.config=e,this.profile=t}setParams(e){this.params=e}static create(e,t){let a=new Lr(e,t);return a.start(),a}add(e){this.data.push({rawSearchString:e.rawSearchString,query:e.query,resultsCount:e.resultsCount,roundTripTime:e.roundTripTime,searchedAt:e.searchedAt,userId:this.profile.getUserId(),identity:this.profile.getIdentity(),alias:this.profile.getAlias(),referer:typeof location<"u"?location.toString():void 0}),this.params!=null&&this.data.length>=this.config.flushSize&&this.flush()}flush(){var a;if(this.params==null||this.data.length===0)return;let e=this.data;this.data=[];let t={source:"fe",deploymentID:this.params.deploymentID,index:this.params.index,oramaId:this.config.id,oramaVersion:ip.version,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,events:e};(a=mn(`${this.params.endpoint}?api-key=${this.config.api_key}`,JSON.stringify(t)))==null||a.catch(s=>console.log(s))}start(){let e=setInterval(this.flush.bind(this),this.config.flushInterval);e.unref!=null&&e.unref()}},i(Lr,"t"),Lr),la,dp=(la=class{constructor(e){N(this,"intervalId");this.params=e}start(){this.stop(),this.intervalId=setInterval(this.beat.bind(this),this.params.frequency)}stop(){this.intervalId!==void 0&&clearInterval(this.intervalId)}beat(){var e;(e=mn(this.params.endpoint))==null||e.catch(t=>console.log(t))}},i(la,"V$1"),la),Bn=So(Ao(),1),ca,up=(ca=class{constructor({endpoint:e,apiKey:t}){N(this,"endpoint");N(this,"apiKey");N(this,"userId");N(this,"identity");N(this,"userAlias");N(this,"params");if(!e||!t)throw new Error("Endpoint and API Key are required to create a Profile");if(typeof e!="string"||typeof t!="string")throw new Error("Endpoint and API Key must be strings");if(typeof localStorage<"u"){let a=localStorage.getItem(Rl);a?this.userId=a:(this.userId=(0,Bn.createId)(),localStorage.setItem(Rl,this.userId))}else this.userId=(0,Bn.createId)();this.endpoint=e,this.apiKey=t}setParams(e){let{protocol:t,host:a}=new URL(e.identifyUrl),s=`${t}//${a}/identify`;this.params={identifyUrl:s,index:e.index}}getIdentity(){return this.identity}getUserId(){return this.userId}getAlias(){return this.userAlias}async sendProfileData(e){var a;if(!this.params)throw new Error("Orama Profile is not initialized");let t=JSON.stringify({...e,visitorId:this.getUserId(),index:this.params.index});await mn(`${(a=this.params)==null?void 0:a.identifyUrl}?api-key=${this.apiKey}`,t)}async identify(e,t){if(typeof t!="string")throw new Error("Identity must be a string");await e,await this.sendProfileData({entity:"identity",id:t}),this.identity=t}async alias(e,t){if(typeof t!="string")throw new Error("Identity must be a string");await e,await this.sendProfileData({entity:"alias",id:t}),this.userAlias=t}reset(){this.userId=(0,Bn.createId)(),this.identity=void 0,this.userAlias=void 0}},i(ca,"j$1"),ca);function Gc(r){return r!==void 0&&(r==null?void 0:r.signal)!==void 0}i(Gc,"vn");var ha,zl=(ha=class{constructor(e){N(this,"id",(0,rp.createId)());N(this,"api_key");N(this,"endpoint");N(this,"multiIndexSearch");N(this,"mergeResults");N(this,"multiIndexIndexes");N(this,"answersApiBaseURL");N(this,"collector");N(this,"cache");N(this,"profile");N(this,"searchDebounceTimer");N(this,"searchRequestCounter",0);N(this,"blockSearchTillAuth",!1);N(this,"heartbeat");N(this,"initPromise");N(this,"customerUserToken");N(this,"searchToken");N(this,"onAuthTokenExpired");N(this,"expirationTimer");var t,a;if("indexes"in e){this.api_key=e.indexes[0].api_key,this.multiIndexIndexes=e.indexes;let s=new URL(e.indexes[0].endpoint).origin;if(e.indexes.some(n=>new URL(n.endpoint).origin!==s))throw new Error("All indexes must have the same endpoint origin");this.endpoint=s+op,this.multiIndexSearch=!0,this.mergeResults=e.mergeResults??!0}else this.api_key=e.api_key,this.endpoint=e.endpoint,this.multiIndexSearch=!1,this.mergeResults=!0;if(this.answersApiBaseURL=e.answersApiBaseURL,this.profile=new up({endpoint:this.endpoint,apiKey:this.api_key}),e.telemetry!==!1){let s={id:this.id,api_key:this.api_key,flushInterval:((t=e.telemetry)==null?void 0:t.flushInterval)??5e3,flushSize:((a=e.telemetry)==null?void 0:a.flushSize)??25};this.collector=hp.create(s,this.profile)}if(e.cache!==!1){let s={};this.cache=new cp(s)}this.init()}setAuthToken(e){e===null?(this.customerUserToken=void 0,this.searchToken=void 0):(this.customerUserToken=e,this.searchToken=void 0),this.init()}setOnAuthTokenExpired(e){this.onAuthTokenExpired=e}addSearchResultsToCollector(e,t,a,s){var n,o;if(this.collector)if(Array.isArray(e))for(let l of e)this.collector.add({rawSearchString:a.term,resultsCount:((n=l.hits)==null?void 0:n.length)??0,roundTripTime:t,query:a,cached:s,searchedAt:new Date,userId:this.profile.getUserId()});else this.collector.add({rawSearchString:a.term,resultsCount:((o=e==null?void 0:e.hits)==null?void 0:o.length)??0,roundTripTime:t,query:a,cached:s,searchedAt:new Date,userId:this.profile.getUserId()})}async search(e,t){var m;if(await this.initPromise,this.blockSearchTillAuth)return console.warn("Search request blocked until user is authenticated"),null;let a=++this.searchRequestCounter,s=`search-${JSON.stringify(e)}`,n=null,o,l=!1,h=(t==null?void 0:t.fresh)!==!0&&((m=this.cache)==null?void 0:m.has(s)),d=i(async()=>{var b;try{let k=Date.now();this.multiIndexSearch?n=await this.fetch("multi_search","POST",{q:{...e,mergeResults:this.mergeResults},sst:this.searchToken,indexes:this.multiIndexIndexes},t==null?void 0:t.abortController):n=await this.fetch("search","POST",{q:e,sst:this.searchToken},t==null?void 0:t.abortController);let A=Date.now();o=A-k;let z=await eo(BigInt(A*1e6-k*1e6));if(!Array.isArray(n))n.elapsed=z;else for(let I of n)I.elapsed=z;(b=this.cache)==null||b.set(s,n)}catch(k){if(k.name!=="AbortError")throw console.error("Search request failed",k),k}return this.addSearchResultsToCollector(n,o,e,l),n},"h");if(h&&this.cache)o=0,n=this.cache.get(s),l=!0,this.addSearchResultsToCollector(n,o,e,l);else return t!=null&&t.debounce?new Promise((b,k)=>{clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(async()=>{try{await d(),b(n)}catch(A){A.name!=="AbortError"&&(console.error("Search request failed",A),k(A))}},(t==null?void 0:t.debounce)||300),"unref"in this.searchDebounceTimer&&this.searchDebounceTimer.unref()}):d();return a===this.searchRequestCounter?n:null}async vectorSearch(e,t){var l,h,d;await this.initPromise;let a=`vectorSearch-${JSON.stringify(e)}`,s,n,o=!1;if(((t==null?void 0:t.fresh)!==!0&&((l=this.cache)==null?void 0:l.has(a)))===!0&&this.cache!=null)s=0,n=this.cache.get(a),o=!0;else{let m=Date.now();n=await this.fetch("vector-search2","POST",{q:e},(t==null?void 0:t.abortSignal)??(t==null?void 0:t.abortController));let b=Date.now();n.elapsed=await eo(BigInt(b*1e6-m*1e6)),s=b-m,(h=this.cache)==null||h.set(a,n)}return this.collector!=null&&this.collector.add({rawSearchString:e.term,resultsCount:((d=n.hits)==null?void 0:d.length)??0,roundTripTime:s,query:e,cached:o,searchedAt:new Date,userId:this.profile.getUserId()}),n}createAnswerSession(e){return new lp({inferenceType:(e==null?void 0:e.inferenceType)||"documentation",initialMessages:(e==null?void 0:e.initialMessages)||[],oramaClient:this,events:e==null?void 0:e.events,userContext:e==null?void 0:e.userContext,systemPrompts:(e==null?void 0:e.systemPrompts)??[]})}startHeartBeat(e){var t;(t=this.heartbeat)==null||t.stop(),this.heartbeat=new dp({...e,endpoint:`${this.endpoint}/health?api-key=${this.api_key}`}),this.heartbeat.start()}stopHeartBeat(){var e;(e=this.heartbeat)==null||e.stop()}async getPop(){var e;return((e=await this.initPromise)==null?void 0:e.pop)??""}init(){let e=["init","GET",void 0,void 0,{token:this.customerUserToken}];this.multiIndexSearch&&(e=["init_multi_search","POST",{indexes:this.multiIndexIndexes},void 0,{token:this.customerUserToken}]),this.initPromise=this.fetch(...e).then(t=>{var a,s;if((a=this.collector)==null||a.setParams({endpoint:t.collectUrl,deploymentID:t.deploymentID,index:t.index}),(s=this.profile)==null||s.setParams({identifyUrl:t.collectUrl,index:t.index}),t.searchSession){if("required"in t.searchSession&&t.searchSession.required===!0)this.blockSearchTillAuth=!0;else if("token"in t.searchSession){let n=t.searchSession.token;this.searchToken=n;let o=t.searchSession.maxAge;this.blockSearchTillAuth=!1,this.expirationTimer&&clearTimeout(this.expirationTimer),this.expirationTimer=setTimeout(()=>{var l;this.searchToken===n&&(this.searchToken=void 0,this.blockSearchTillAuth=!0,(l=this.onAuthTokenExpired)==null||l.call(this,n))},o*1e3),"unref"in this.expirationTimer&&this.expirationTimer.unref()}}return t}).catch(t=>(console.log(t),null))}async fetch(e,t,a,s,n){let o=Gc(s)?s==null?void 0:s.signal:s;if((o==null?void 0:o.aborted)===!0)throw new Error("Request aborted");let l={method:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},signal:o};if(t==="POST"&&a!==void 0){let m=a;m.version=Fc,m.id=this.id,m.visitorId=this.profile.getUserId(),l.body=Object.entries(m).filter(([b,k])=>!!k).map(([b,k])=>`${b}=${encodeURIComponent(JSON.stringify(k))}`).join("&")}let h=new URL(`${this.endpoint}/${e}`);if(this.multiIndexSearch||h.searchParams.append("api-key",this.api_key),n)for(let[m,b]of Object.entries(n))b&&h.searchParams.append(m,b);let d=await fetch(h,l);if(!d.ok){let m=new Error;throw m.httpResponse=d,m}return await d.json()}getIdentity(){return this.profile.getIdentity()}getUserId(){return this.profile.getUserId()}getAlias(){return this.profile.getAlias()}async identify(e){if(this.initPromise===void 0)throw new Error("OramaClient not initialized");await this.profile.identify(this.initPromise,e)}async alias(e){if(this.initPromise===void 0)throw new Error("OramaClient not initialized");await this.profile.alias(this.initPromise,e)}reset(){this.profile.reset()}},i(ha,"It"),ha);function Wc(r,e,t="[focus-on-arrow-nav]"){if(e.key!=="ArrowDown"&&e.key!=="ArrowUp")return;e.stopPropagation(),e.preventDefault();let a=r.querySelectorAll(t),s=Array.from(a);s=s.filter(m=>m.tabIndex!==-1);let n=s[0],o=s[s.length-1],l=r.querySelector(":focus"),h=s.indexOf(l),d;e.key==="ArrowDown"?(d=h===s.length-1?n:s[h+1],d==null||d.focus()):e.key==="ArrowUp"&&(d=h===0?o:s[h-1],d==null||d.focus())}i(Wc,"arrowKeysNavigation");function Kc(r){var e;if(!((e=navigator.clipboard)===null||e===void 0)&&e.writeText)navigator.clipboard.writeText(r).catch(t=>{console.error("Could not copy text: ",t)});else{let t=document.createElement("textarea");t.value=r,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}i(Kc,"copyToClipboard");function Ai(r,e){return Array.from(r.attributes).reduce((t,a)=>(e.includes(a.name)||(t[a.name]=a.value),t),{})}i(Ai,"getNonExplicitAttributes");function To(r,e,t,a){let s=`
    Component: ${r.tagName.toLowerCase()}
    Id: ${r.id}
  `;if(!e&&!t&&!a)throw new Error(`Invalid component configuration. Please provide a valid index or instance prop. ${s}`);if(e){if(t||a)throw new Error(`Invalid component configuration. Only one of indexOrIndexes, instance, or oramaCoreInstance can be provided. ${s}`);if((Array.isArray(e)?e:[e]).some(n=>!(n!=null&&n.api_key)||!(n!=null&&n.endpoint)))throw new Error(`Invalid cloud index configuration. Please provide a valid api_key and endpoint ${s}`);return}if(t){if(e||a)throw new Error(`Invalid component configuration. Only one of indexOrIndexes, instance, or oramaCoreInstance can be provided. ${s}`);return}if(a){if(e||t)throw new Error(`Invalid component configuration. Only one of indexOrIndexes, instance, or oramaCoreInstance can be provided. ${s}`);return}throw new Error(`Invalid instance. Expected either an OramaClient, Orama OSS database, or CollectionManager-like object. ${s}`)}i(To,"validateCloudIndexConfig");function Co(r){if(Array.isArray(r)){let t=r;return new zl({mergeResults:!0,indexes:t})}let e=r;return new zl({api_key:e.api_key,endpoint:e.endpoint})}i(Co,"initOramaClient");function gn(r){return`${`orama-ui-${r}`}-${Math.random().toString(36).substring(2,15)}`}i(gn,"generateRandomID");function bn(r,e,t){let a=e==="system"?t:e;return r&&a&&(r.classList.remove("theme-light","theme-dark"),r.classList.add(`theme-${a}`)),a}i(bn,"updateThemeClasses");function yn(r,e,t){var a;if(!(!r||!t||!e))for(let s of Object.keys(t))if(s==="colors"){if(!((a=t[s])===null||a===void 0)&&a[e])for(let n of Object.keys(t[s][e]))r.style.setProperty(`${n}`,t[s][e][n])}else for(let n of Object.keys(t[s]))r.style.setProperty(`${n}`,t[s][n])}i(yn,"updateCssVariables");var pp='.button.sc-orama-button{align-items:center;border:0;border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-family:font("primary");font-family:var(--font-primary,font("primary"));gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:relative;text-align:left;transition:all .2s;transition-property:color,background-color,opacity;width:100%}.button__tooltip.sc-orama-button{animation:fadeInOut 1s ease-in-out 1;background-color:#151515;background-color:var(--text-color-primary,#151515);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));color:#fbfbfb;color:var(--background-color-primary,#fbfbfb);display:block;font-size:10px;opacity:0;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:absolute;top:-28px;z-index:1}.button--small.sc-orama-button{padding:.25rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.button--medium.sc-orama-button{padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.button--large.sc-orama-button{padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.button__label.sc-orama-button{align-items:center;display:flex;flex-grow:1;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.button--primary.sc-orama-button{background-color:#432d77;background-color:var(--button-background-color-primary,#432d77);color:#fbfbfb;color:var(--button-text-color-primary,#fbfbfb)}.button--primary.sc-orama-button:disabled{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);color:var(--text-color-tertiary)}.button--secondary.sc-orama-button{background-color:#fff;background-color:var(--button-background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--button-border-color-secondary,#dadada);color:#838289;color:var(--button-text-color-secondary,#838289);transition:all .3s}@media (hover:hover){.button--secondary.sc-orama-button:hover{background-color:#eee9f6;background-color:var(--button-background-color-secondary-hover,#eee9f6)}}.button--secondary.sc-orama-button:focus-visible{border:1px solid #9671b0;outline:none}.button--secondary.sc-orama-button:disabled{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);color:var(--text-color-tertiary)}.button--icon.sc-orama-button{align-items:center;background-color:transparent;border-radius:50%;color:#99989d;color:var(--icon-color-tertiary,#99989d);font-family:font("primary");font-family:var(--font-primary,font("primary"));height:-moz-fit-content;height:fit-content;justify-content:center;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));width:-moz-fit-content;width:fit-content}.button--icon.sc-orama-button:disabled{opacity:.6}.button--icon.sc-orama-button:disabled,.button--icon.sc-orama-button:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}.sc-orama-button-s>*{align-items:center;display:inline-flex}.sc-orama-button-s>[slot=adorment-end],.sc-orama-button-s>[slot=adorment-start]{flex-grow:0}@keyframes fadeInOut{0%{opacity:0}50%{opacity:1}to{opacity:0}}',fp=pp,da,mp=(da=class{constructor(e){Re(this,e),this.as="button",this.variant="primary",this.size="medium"}render(){let e=this.as,t=["as","class","variant"],a=Ai(this.el,t),s=`button button--${this.variant} button--${this.size} ${this.class||""}`;return y(e,Object.assign({key:"af470570a767787e5e85ec5c0ecc4cfb66e5b142",class:s},a,{disabled:this.disabled}),y("span",{key:"483fb6a261decf60053ec78726912e11ae271e74",class:"button__label"},y("slot",{key:"3d00cc8a7fe04471095f87b9989eebf38c79764a",name:"adorment-start"}),this.withTooltip&&y("span",{key:"bdda78c3dc2e39b53254a5506dcfb53bffdb9ed3",class:"button__tooltip"},this.withTooltip),y("slot",{key:"6582b9e1c0481f18ac91844b0f09ff09b9fa1fbf"})),y("slot",{key:"31d3bcf229c837809ccf3ba74986a179fe028c87",name:"adorment-end"}))}get el(){return Ke(this)}},i(da,"OramaButton"),da);mp.style=fp;var et;(function(r){r.idle="idle",r.loading="loading",r.rendering="rendering",r.streaming="streaming",r.error="error",r.aborted="aborted",r.done="done"})(et||(et={}));var Ji=globalThis,Eo=Ji.ShadowRoot&&(Ji.ShadyCSS===void 0||Ji.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Io=Symbol(),Nl=new WeakMap,ua,Yc=(ua=class{constructor(e,t,a){if(this._$cssResult$=!0,a!==Io)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Eo&&e===void 0){let a=t!==void 0&&t.length===1;a&&(e=Nl.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),a&&Nl.set(t,e))}return e}toString(){return this.cssText}},i(ua,"l$5"),ua),gp=i(r=>new Yc(typeof r=="string"?r:r+"",void 0,Io),"h$2"),Ve=i((r,...e)=>{let t=r.length===1?r[0]:e.reduce((a,s,n)=>a+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+r[n+1],r[0]);return new Yc(t,r,Io)},"p$3"),bp=i((r,e)=>{if(Eo)r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(let t of e){let a=document.createElement("style"),s=Ji.litNonce;s!==void 0&&a.setAttribute("nonce",s),a.textContent=t.cssText,r.appendChild(a)}},"d$5"),Hl=Eo?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(let a of e.cssRules)t+=a.cssText;return gp(t)})(r):r,{is:yp,defineProperty:vp,getOwnPropertyDescriptor:wp,getOwnPropertyNames:kp,getOwnPropertySymbols:xp,getPrototypeOf:_p}=Object,Ys=globalThis,Dl=Ys.trustedTypes,Sp=Dl?Dl.emptyScript:"",Un=Ys.reactiveElementPolyfillSupport,fi=i((r,e)=>r,"l$4"),an={toAttribute(r,e){switch(e){case Boolean:r=r?Sp:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},Oo=i((r,e)=>!yp(r,e),"y$2"),Zl={attribute:!0,type:String,converter:an,reflect:!1,hasChanged:Oo};Symbol.metadata!=null||(Symbol.metadata=Symbol("metadata")),Ys.litPropertyMetadata!=null||(Ys.litPropertyMetadata=new WeakMap);var pa,ia=(pa=class extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!=null?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Zl){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){let a=Symbol(),s=this.getPropertyDescriptor(e,a,t);s!==void 0&&vp(this.prototype,e,s)}}static getPropertyDescriptor(e,t,a){var s;let{get:n,set:o}=(s=wp(this.prototype,e))!=null?s:{get(){return this[t]},set(l){this[t]=l}};return{get(){return n==null?void 0:n.call(this)},set(l){let h=n==null?void 0:n.call(this);o.call(this,l),this.requestUpdate(e,h,a)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!=null?t:Zl}static _$Ei(){if(this.hasOwnProperty(fi("elementProperties")))return;let e=_p(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(fi("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fi("properties"))){let t=this.properties,a=[...kp(t),...xp(t)];for(let s of a)this.createProperty(s,t[s])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[a,s]of t)this.elementProperties.set(a,s)}this._$Eh=new Map;for(let[t,a]of this.elementProperties){let s=this._$Eu(t,a);s!==void 0&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let a=new Set(e.flat(1/0).reverse());for(let s of a)t.unshift(Hl(s))}else e!==void 0&&t.push(Hl(e));return t}static _$Eu(e,t){let a=t.attribute;return a===!1?void 0:typeof a=="string"?a:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t,a;((t=this._$EO)!=null?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((a=e.hostConnected)==null||a.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let a of t.keys())this.hasOwnProperty(a)&&(e.set(a,this[a]),delete this[a]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;let t=(e=this.shadowRoot)!=null?e:this.attachShadow(this.constructor.shadowRootOptions);return bp(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var a;return(a=t.hostConnected)==null?void 0:a.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var a;return(a=t.hostDisconnected)==null?void 0:a.call(t)})}attributeChangedCallback(e,t,a){this._$AK(e,a)}_$EC(e,t){var a;let s=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,s);if(n!==void 0&&s.reflect===!0){let o=(((a=s.converter)==null?void 0:a.toAttribute)!==void 0?s.converter:an).toAttribute(t,s.type);this._$Em=e,o==null?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(e,t){var a;let s=this.constructor,n=s._$Eh.get(e);if(n!==void 0&&this._$Em!==n){let o=s.getPropertyOptions(n),l=typeof o.converter=="function"?{fromAttribute:o.converter}:((a=o.converter)==null?void 0:a.fromAttribute)!==void 0?o.converter:an;this._$Em=n,this[n]=l.fromAttribute(t,o.type),this._$Em=null}}requestUpdate(e,t,a){var s;if(e!==void 0){if(a!=null||(a=this.constructor.getPropertyOptions(e)),!((s=a.hasChanged)!=null?s:Oo)(this[e],t))return;this.P(e,t,a)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,t,a){var s;this._$AL.has(e)||this._$AL.set(e,t),a.reflect===!0&&this._$Em!==e&&((s=this._$Ej)!=null?s:this._$Ej=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[n,o]of this._$Ep)this[n]=o;this._$Ep=void 0}let s=this.constructor.elementProperties;if(s.size>0)for(let[n,o]of s)o.wrapped!==!0||this._$AL.has(n)||this[n]===void 0||this.P(n,this[n],o)}let t=!1,a=this._$AL;try{t=this.shouldUpdate(a),t?(this.willUpdate(a),(e=this._$EO)==null||e.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(a)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(a)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(a=>{var s;return(s=a.hostUpdated)==null?void 0:s.call(a)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(e){}firstUpdated(e){}},i(pa,"c$4"),pa),jl;ia.elementStyles=[],ia.shadowRootOptions={mode:"open"},ia[fi("elementProperties")]=new Map,ia[fi("finalized")]=new Map,Un==null||Un({ReactiveElement:ia}),((jl=Ys.reactiveElementVersions)!=null?jl:Ys.reactiveElementVersions=[]).push("2.0.4");var sn=globalThis,nn=sn.trustedTypes,Bl=nn?nn.createPolicy("lit-html",{createHTML:i(r=>r,"createHTML")}):void 0,Qc="$lit$",or=`lit$${Math.random().toFixed(9).slice(2)}$`,Xc="?"+or,Ap=`<${Xc}>`,jr=document,yi=i(()=>jr.createComment(""),"x"),vi=i(r=>r===null||typeof r!="object"&&typeof r!="function","H"),Jc=Array.isArray,Tp=i(r=>Jc(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function","Z$1"),Vn=`[ 	
\f\r]`,li=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ul=/-->/g,Vl=/>/g,Cr=RegExp(`>|${Vn}(?:([^\\s"'>=/]+)(${Vn}*=${Vn}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Fl=/'/g,ql=/"/g,eh=/^(?:script|style|textarea|title)$/i,th=i(r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),"O$1"),Fe=th(1),L=th(2),Qs=Symbol.for("lit-noChange"),Ue=Symbol.for("lit-nothing"),Gl=new WeakMap,Ir=jr.createTreeWalker(jr,129);function Lo(r,e){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return Bl!==void 0?Bl.createHTML(e):e}i(Lo,"z");var Cp=i((r,e)=>{let t=r.length-1,a=[],s,n=e===2?"<svg>":"",o=li;for(let l=0;l<t;l++){let h=r[l],d,m,b=-1,k=0;for(;k<h.length&&(o.lastIndex=k,m=o.exec(h),m!==null);)k=o.lastIndex,o===li?m[1]==="!--"?o=Ul:m[1]!==void 0?o=Vl:m[2]!==void 0?(eh.test(m[2])&&(s=RegExp("</"+m[2],"g")),o=Cr):m[3]!==void 0&&(o=Cr):o===Cr?m[0]===">"?(o=s??li,b=-1):m[1]===void 0?b=-2:(b=o.lastIndex-m[2].length,d=m[1],o=m[3]===void 0?Cr:m[3]==='"'?ql:Fl):o===ql||o===Fl?o=Cr:o===Ul||o===Vl?o=li:(o=Cr,s=void 0);let A=o===Cr&&r[l+1].startsWith("/>")?" ":"";n+=o===li?h+Ap:b>=0?(a.push(d),h.slice(0,b)+Qc+h.slice(b)+or+A):h+or+(b===-2?l:A)}return[Lo(r,n+(r[t]||"<?>")+(e===2?"</svg>":"")),a]},"q"),Mr,ro=(Mr=class{constructor({strings:e,_$litType$:t},a){let s;this.parts=[];let n=0,o=0,l=e.length-1,h=this.parts,[d,m]=Cp(e,t);if(this.el=Mr.createElement(d,a),Ir.currentNode=this.el.content,t===2){let b=this.el.content.firstChild;b.replaceWith(...b.childNodes)}for(;(s=Ir.nextNode())!==null&&h.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(let b of s.getAttributeNames())if(b.endsWith(Qc)){let k=m[o++],A=s.getAttribute(b).split(or),z=/([.?@])?(.*)/.exec(k);h.push({type:1,index:n,name:z[2],strings:A,ctor:z[1]==="."?Ip:z[1]==="?"?Op:z[1]==="@"?Lp:vn}),s.removeAttribute(b)}else b.startsWith(or)&&(h.push({type:6,index:n}),s.removeAttribute(b));if(eh.test(s.tagName)){let b=s.textContent.split(or),k=b.length-1;if(k>0){s.textContent=nn?nn.emptyScript:"";for(let A=0;A<k;A++)s.append(b[A],yi()),Ir.nextNode(),h.push({type:2,index:++n});s.append(b[k],yi())}}}else if(s.nodeType===8)if(s.data===Xc)h.push({type:2,index:n});else{let b=-1;for(;(b=s.data.indexOf(or,b+1))!==-1;)h.push({type:7,index:n}),b+=or.length-1}n++}}static createElement(e,t){let a=jr.createElement("template");return a.innerHTML=e,a}},i(Mr,"T"),Mr);function Br(r,e,t=r,a){var s,n,o;if(e===Qs)return e;let l=a!==void 0?(s=t._$Co)==null?void 0:s[a]:t._$Cl,h=vi(e)?void 0:e._$litDirective$;return(l==null?void 0:l.constructor)!==h&&((n=l==null?void 0:l._$AO)==null||n.call(l,!1),h===void 0?l=void 0:(l=new h(r),l._$AT(r,t,a)),a!==void 0?((o=t._$Co)!=null?o:t._$Co=[])[a]=l:t._$Cl=l),l!==void 0&&(e=Br(r,l._$AS(r,e.values),l,a)),e}i(Br,"f$7");var fa,Ep=(fa=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:a},parts:s}=this._$AD,n=((t=e==null?void 0:e.creationScope)!=null?t:jr).importNode(a,!0);Ir.currentNode=n;let o=Ir.nextNode(),l=0,h=0,d=s[0];for(;d!==void 0;){if(l===d.index){let m;d.type===2?m=new Mo(o,o.nextSibling,this,e):d.type===1?m=new d.ctor(o,d.name,d.strings,this,e):d.type===6&&(m=new Mp(o,this,e)),this._$AV.push(m),d=s[++h]}l!==(d==null?void 0:d.index)&&(o=Ir.nextNode(),l++)}return Ir.currentNode=jr,n}p(e){let t=0;for(let a of this._$AV)a!==void 0&&(a.strings!==void 0?(a._$AI(e,a,t),t+=a.strings.length-2):a._$AI(e[t])),t++}},i(fa,"G"),fa),Pr,Mo=(Pr=class{get _$AU(){var e,t;return(t=(e=this._$AM)==null?void 0:e._$AU)!=null?t:this._$Cv}constructor(e,t,a,s){var n;this.type=2,this._$AH=Ue,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=a,this.options=s,this._$Cv=(n=s==null?void 0:s.isConnected)!=null?n:!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Br(this,e,t),vi(e)?e===Ue||e==null||e===""?(this._$AH!==Ue&&this._$AR(),this._$AH=Ue):e!==this._$AH&&e!==Qs&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Tp(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==Ue&&vi(this._$AH)?this._$AA.nextSibling.data=e:this.T(jr.createTextNode(e)),this._$AH=e}$(e){var t;let{values:a,_$litType$:s}=e,n=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=ro.createElement(Lo(s.h,s.h[0]),this.options)),s);if(((t=this._$AH)==null?void 0:t._$AD)===n)this._$AH.p(a);else{let o=new Ep(n,this),l=o.u(this.options);o.p(a),this.T(l),this._$AH=o}}_$AC(e){let t=Gl.get(e.strings);return t===void 0&&Gl.set(e.strings,t=new ro(e)),t}k(e){Jc(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,a,s=0;for(let n of e)s===t.length?t.push(a=new Pr(this.S(yi()),this.S(yi()),this,this.options)):a=t[s],a._$AI(n),s++;s<t.length&&(this._$AR(a&&a._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var a;for((a=this._$AP)==null?void 0:a.call(this,!1,!0,t);e&&e!==this._$AB;){let s=e.nextSibling;e.remove(),e=s}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}},i(Pr,"b$1"),Pr),ma,vn=(ma=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,a,s,n){this.type=1,this._$AH=Ue,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=n,a.length>2||a[0]!==""||a[1]!==""?(this._$AH=Array(a.length-1).fill(new String),this.strings=a):this._$AH=Ue}_$AI(e,t=this,a,s){let n=this.strings,o=!1;if(n===void 0)e=Br(this,e,t,0),o=!vi(e)||e!==this._$AH&&e!==Qs,o&&(this._$AH=e);else{let l=e,h,d;for(e=n[0],h=0;h<n.length-1;h++)d=Br(this,l[a+h],t,h),d===Qs&&(d=this._$AH[h]),o||(o=!vi(d)||d!==this._$AH[h]),d===Ue?e=Ue:e!==Ue&&(e+=(d??"")+n[h+1]),this._$AH[h]=d}o&&!s&&this.j(e)}j(e){e===Ue?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},i(ma,"M$4"),ma),ga,Ip=(ga=class extends vn{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ue?void 0:e}},i(ga,"J"),ga),ba,Op=(ba=class extends vn{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ue)}},i(ba,"K"),ba),ya,Lp=(ya=class extends vn{constructor(e,t,a,s,n){super(e,t,a,s,n),this.type=5}_$AI(e,t=this){var a;if((e=(a=Br(this,e,t,0))!=null?a:Ue)===Qs)return;let s=this._$AH,n=e===Ue&&s!==Ue||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Ue&&(s===Ue||n);n&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,a;typeof this._$AH=="function"?this._$AH.call((a=(t=this.options)==null?void 0:t.host)!=null?a:this.element,e):this._$AH.handleEvent(e)}},i(ya,"Q"),ya),va,Mp=(va=class{constructor(e,t,a){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=a}get _$AU(){return this._$AM._$AU}_$AI(e){Br(this,e)}},i(va,"X"),va),Fn=sn.litHtmlPolyfillSupport,Wl;Fn==null||Fn(ro,Mo),((Wl=sn.litHtmlVersions)!=null?Wl:sn.litHtmlVersions=[]).push("3.1.4");var Pp=i((r,e,t)=>{var a,s;let n=(a=t==null?void 0:t.renderBefore)!=null?a:e,o=n._$litPart$;if(o===void 0){let l=(s=t==null?void 0:t.renderBefore)!=null?s:null;n._$litPart$=o=new Mo(e.insertBefore(yi(),l),l,void 0,t??{})}return o._$AI(r),o},"et"),wa,Ne=(wa=class extends ia{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;let t=super.createRenderRoot();return(e=this.renderOptions).renderBefore!=null||(e.renderBefore=t.firstChild),t}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Pp(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Qs}},i(wa,"n$1"),wa),Kl;Ne._$litElement$=!0,Ne.finalized=!0,(Kl=globalThis.litElementHydrateSupport)==null||Kl.call(globalThis,{LitElement:Ne});var qn=globalThis.litElementPolyfillSupport;qn==null||qn({LitElement:Ne});var Yl;((Yl=globalThis.litElementVersions)!=null?Yl:globalThis.litElementVersions=[]).push("4.0.6");var qe=i(r=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(r,e)}):customElements.define(r,e)},"s$5"),$p=Object.defineProperty,Rp=Object.defineProperties,zp=Object.getOwnPropertyDescriptors,Ql=Object.getOwnPropertySymbols,Np=Object.prototype.hasOwnProperty,Hp=Object.prototype.propertyIsEnumerable,Xl=i((r,e,t)=>e in r?$p(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,"d$3"),Dp=i((r,e)=>{for(var t in e||(e={}))Np.call(e,t)&&Xl(r,t,e[t]);if(Ql)for(var t of Ql(e))Hp.call(e,t)&&Xl(r,t,e[t]);return r},"l$3"),Zp=i((r,e)=>Rp(r,zp(e)),"u$b"),jp={attribute:!0,type:String,converter:an,reflect:!1,hasChanged:Oo},Bp=i((r=jp,e,t)=>{let{kind:a,metadata:s}=t,n=globalThis.litPropertyMetadata.get(s);if(n===void 0&&globalThis.litPropertyMetadata.set(s,n=new Map),n.set(t.name,r),a==="accessor"){let{name:o}=t;return{set(l){let h=e.get.call(this);e.set.call(this,l),this.requestUpdate(o,h,r)},init(l){return l!==void 0&&this.P(o,void 0,r),l}}}if(a==="setter"){let{name:o}=t;return function(l){let h=this[o];e.call(this,l),this.requestUpdate(o,h,r)}}throw Error("Unsupported decorator location: "+a)},"w$5");function K(r){return(e,t)=>typeof t=="object"?Bp(r,e,t):((a,s,n)=>{let o=s.hasOwnProperty(n);return s.constructor.createProperty(n,o?Zp(Dp({},a),{wrapped:!0}):a),o?Object.getOwnPropertyDescriptor(s,n):void 0})(r,e,t)}i(K,"O");var Up=Object.defineProperty,Vp=Object.getOwnPropertyDescriptor,Ti=i((r,e,t,a)=>{for(var s=a>1?void 0:a?Vp(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&Up(e,t,s),s},"a$6"),ka,zt=(ka=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(ka,"t$d"),ka);zt.weightsMap=new Map([["thin",L`<path d="M224.47,31.52a11.87,11.87,0,0,0-11.82-3L20.74,86.67a12,12,0,0,0-1.91,22.38L105,151l41.92,86.15A11.88,11.88,0,0,0,157.74,244c.34,0,.69,0,1,0a11.89,11.89,0,0,0,10.52-8.63l58.21-192,0-.08A11.85,11.85,0,0,0,224.47,31.52Zm-4.62,9.54-58.23,192a4,4,0,0,1-7.48.59l-41.3-84.86,50-50a4,4,0,1,0-5.66-5.66l-50,50-84.9-41.31a3.88,3.88,0,0,1-2.27-4,3.93,3.93,0,0,1,3-3.54L214.9,36.16A3.93,3.93,0,0,1,216,36a4,4,0,0,1,2.79,1.19A3.93,3.93,0,0,1,219.85,41.06Z"/>`],["light",L`<path d="M225.88,30.12a13.83,13.83,0,0,0-13.7-3.58l-.11,0L20.14,84.77A14,14,0,0,0,18,110.85l85.56,41.64L145.12,238a13.87,13.87,0,0,0,12.61,8c.4,0,.81,0,1.21-.05a13.9,13.9,0,0,0,12.29-10.09l58.2-191.93,0-.11A13.83,13.83,0,0,0,225.88,30.12Zm-8,10.4L159.73,232.43l0,.11a2,2,0,0,1-3.76.26l-40.68-83.58,49-49a6,6,0,1,0-8.49-8.49l-49,49L23.15,100a2,2,0,0,1,.31-3.74l.11,0L215.48,38.08a1.94,1.94,0,0,1,1.92.52A2,2,0,0,1,217.92,40.52Z"/>`],["regular",L`<path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"/>`],["bold",L`<path d="M230.14,25.86a20,20,0,0,0-19.57-5.11l-.22.07L18.44,79a20,20,0,0,0-3.06,37.25L99,157l40.71,83.65a19.81,19.81,0,0,0,18,11.38c.57,0,1.15,0,1.73-.07A19.82,19.82,0,0,0,177,237.56L235.18,45.65a1.42,1.42,0,0,0,.07-.22A20,20,0,0,0,230.14,25.86ZM156.91,221.07l-34.37-70.64,46-45.95a12,12,0,0,0-17-17l-46,46L34.93,99.09,210,46Z"/>`],["fill",L`<path d="M231.4,44.34s0,.1,0,.15l-58.2,191.94a15.88,15.88,0,0,1-14,11.51q-.69.06-1.38.06a15.86,15.86,0,0,1-14.42-9.15L107,164.15a4,4,0,0,1,.77-4.58l57.92-57.92a8,8,0,0,0-11.31-11.31L96.43,148.26a4,4,0,0,1-4.58.77L17.08,112.64a16,16,0,0,1,2.49-29.8l191.94-58.2.15,0A16,16,0,0,1,231.4,44.34Z"/>`],["duotone",L`<path d="M223.69,42.18l-58.22,192a8,8,0,0,1-14.92,1.25L108,148,20.58,105.45a8,8,0,0,1,1.25-14.92l192-58.22A8,8,0,0,1,223.69,42.18Z" opacity="0.2"/><path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"/>`]]);zt.styles=Ve`
    :host {
      display: contents;
    }
  `;Ti([K({type:String,reflect:!0})],zt.prototype,"size",2);Ti([K({type:String,reflect:!0})],zt.prototype,"weight",2);Ti([K({type:String,reflect:!0})],zt.prototype,"color",2);Ti([K({type:Boolean,reflect:!0})],zt.prototype,"mirrored",2);zt=Ti([qe("ph-paper-plane-tilt")],zt);var Fp=Object.defineProperty,qp=Object.getOwnPropertyDescriptor,Ci=i((r,e,t,a)=>{for(var s=a>1?void 0:a?qp(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&Fp(e,t,s),s},"o$7"),xa,Nt=(xa=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Nt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(xa,"t$c"),xa);Nt.weightsMap=new Map([["thin",L`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM160,92H96a4,4,0,0,0-4,4v64a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V96A4,4,0,0,0,160,92Zm-4,64H100V100h56Z"/>`],["light",L`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM160,90H96a6,6,0,0,0-6,6v64a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V96A6,6,0,0,0,160,90Zm-6,64H102V102h52Z"/>`],["regular",L`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM160,88H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V96A8,8,0,0,0,160,88Zm-8,64H104V104h48Z"/>`],["bold",L`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40-112v56a12,12,0,0,1-12,12H100a12,12,0,0,1-12-12V100a12,12,0,0,1,12-12h56A12,12,0,0,1,168,100Z"/>`],["fill",L`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm32,132a4,4,0,0,1-4,4H100a4,4,0,0,1-4-4V100a4,4,0,0,1,4-4h56a4,4,0,0,1,4,4Z"/>`],["duotone",L`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm32,128H96V96h64Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM160,88H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V96A8,8,0,0,0,160,88Zm-8,64H104V104h48Z"/>`]]);Nt.styles=Ve`
    :host {
      display: contents;
    }
  `;Ci([K({type:String,reflect:!0})],Nt.prototype,"size",2);Ci([K({type:String,reflect:!0})],Nt.prototype,"weight",2);Ci([K({type:String,reflect:!0})],Nt.prototype,"color",2);Ci([K({type:Boolean,reflect:!0})],Nt.prototype,"mirrored",2);Nt=Ci([qe("ph-stop-circle")],Nt);var Gp=Object.defineProperty,Wp=Object.getOwnPropertyDescriptor,Ei=i((r,e,t,a)=>{for(var s=a>1?void 0:a?Wp(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&Gp(e,t,s),s},"a$5"),_a,Ht=(_a=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ht.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(_a,"t$b"),_a);Ht.weightsMap=new Map([["thin",L`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",L`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",L`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",L`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",L`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",L`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]);Ht.styles=Ve`
    :host {
      display: contents;
    }
  `;Ei([K({type:String,reflect:!0})],Ht.prototype,"size",2);Ei([K({type:String,reflect:!0})],Ht.prototype,"weight",2);Ei([K({type:String,reflect:!0})],Ht.prototype,"color",2);Ei([K({type:Boolean,reflect:!0})],Ht.prototype,"mirrored",2);Ht=Ei([qe("ph-arrow-down")],Ht);var Kp={chatService:null,interactions:[],sourceBaseURL:"",linksTarget:"_blank",linksRel:"noopener noreferrer",prompt:"",sourcesMap:{title:"title",description:"description",path:"path"}},Yp=i((r,e,t)=>{let a=r.get(e);a?a.includes(t)||a.push(t):r.set(e,[t])},"appendToMap"),Qp=i((r,e)=>{let t;return(...a)=>{t&&clearTimeout(t),t=setTimeout(()=>{t=0,r(...a)},e)}},"debounce"),Xp=i(r=>!("isConnected"in r)||r.isConnected,"isConnected"),Jl=Qp(r=>{for(let e of r.keys())r.set(e,r.get(e).filter(Xp))},2e3),Jp=i(()=>{if(typeof Il!="function")return{};let r=new Map;return{dispose:i(()=>r.clear(),"dispose"),get:i(e=>{let t=Il();t&&Yp(r,e,t)},"get"),set:i(e=>{let t=r.get(e);t&&r.set(e,t.filter(Ol)),Jl(r)},"set"),reset:i(()=>{r.forEach(e=>e.forEach(Ol)),Jl(r)},"reset")}},"stencilSubscription"),Gn=i(r=>typeof r=="function"?r():r,"unwrap"),e0=i((r,e=(t,a)=>t!==a)=>{let t=Gn(r),a=new Map(Object.entries(t??{})),s={dispose:[],get:[],set:[],reset:[]},n=i(()=>{a=new Map(Object.entries(Gn(r)??{})),s.reset.forEach(b=>b())},"reset"),o=i(()=>{s.dispose.forEach(b=>b()),n()},"dispose"),l=i(b=>(s.get.forEach(k=>k(b)),a.get(b)),"get"),h=i((b,k)=>{let A=a.get(b);e(k,A,b)&&(a.set(b,k),s.set.forEach(z=>z(b,k,A)))},"set"),d=typeof Proxy>"u"?{}:new Proxy(t,{get(b,k){return l(k)},ownKeys(b){return Array.from(a.keys())},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(b,k){return a.has(k)},set(b,k,A){return h(k,A),!0}}),m=i((b,k)=>(s[b].push(k),()=>{t0(s[b],k)}),"on");return{state:d,get:l,set:h,on:m,onChange:i((b,k)=>{let A=m("set",(I,F)=>{I===b&&k(F)}),z=m("reset",()=>k(Gn(r)[b]));return()=>{A(),z()}},"onChange"),use:i((...b)=>{let k=b.reduce((A,z)=>(z.set&&A.push(m("set",z.set)),z.get&&A.push(m("get",z.get)),z.reset&&A.push(m("reset",z.reset)),z.dispose&&A.push(m("dispose",z.dispose)),A),[]);return()=>k.forEach(A=>A())},"use"),dispose:o,reset:n,forceUpdate:i(b=>{let k=a.get(b);s.set.forEach(A=>A(b,k,k))},"forceUpdate")}},"createObservableMap"),t0=i((r,e)=>{let t=r.indexOf(e);t>=0&&(r[t]=r[r.length-1],r.length--)},"removeFromArray"),rh=i((r,e)=>{let t=e0(r,e);return t.use(Jp()),t},"createStore"),ah={open:!1,currentTask:"search",currentTerm:""};rh(ah);var r0={count:0,facets:[],facetProperty:"",results:[],resultMap:{},highlightedIndex:-1,loading:!1,error:!1,searchService:null,searchParams:null},a0={global:ah,search:r0,chat:Kp},mi=new Map,s0=i((r,e)=>{let t=mi.get(r);if(!t)throw new Error("Invalid parent component Id");let a=t[e];if(!a)throw new Error("Store not initialized");return a},"getParentComponentStore"),en=i((r,e)=>{let t=a0[r];if(!t)throw new Error("Invalid store name");let a=rh(t);if(mi.has(e)){let s=mi.get(e);s[r]=a}else mi.set(e,{[r]:a});return a},"initStore"),sh=i(r=>{mi.delete(r)},"removeAllStores");function ih(r,e){let t=nh(e);if(!t)throw new Error("Failed to get store");return s0(t.id,r)}i(ih,"getStore");var i0=["orama-search-box","orama-chat-box"];function nh(r){var e;let t=r;for(;;){if(!t)return null;if(t instanceof ShadowRoot){let a=t.host;if(i0.includes(a.tagName.toLowerCase()))return a;t=a}else t=(e=t.parentNode)!==null&&e!==void 0?e:null}}i(nh,"getExternalParentComponentHTMLElement");var Yi=Symbol("storeProps"),ec=Symbol("storeWillLoadPatched");function er(r){return(e,t)=>{let a=e.constructor;if(a[Yi]||(a[Yi]=[]),a[Yi].push({propKey:t,storeName:r}),!a[ec]){a[ec]=!0;let s=e.componentWillLoad;e.componentWillLoad=function(){let n=Ke(this),o=this.constructor[Yi];if(o)for(let{propKey:l,storeName:h}of o){let d=ih(h,n);this[l]=d}typeof s=="function"&&s.apply(this)}}}}i(er,"Store");var n0='orama-chat{background:#fbfbfb;background:var(--background-color-primary,#fbfbfb);height:100%;overflow:hidden}.messages-container-wrapper,orama-chat{display:flex;flex-direction:column;flex-grow:1;position:relative}.messages-container-wrapper{overflow:auto;z-index:1}.messages-container-wrapper::-webkit-scrollbar{width:.3em}.messages-container-wrapper::-webkit-scrollbar-track{background:transparent}.messages-container-wrapper::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.messages-container-wrapper.isEmpty{justify-content:flex-end}.messages-container-wrapper-non-scrollable{display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;z-index:1}.lock-scroll-on-bottom-button-wrapper{align-items:center;background-color:transparent;background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);border:none;border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));bottom:0;color:#99989d;color:var(--icon-color-tertiary,#99989d);cursor:pointer;display:flex;font-family:font("primary");font-family:var(--font-primary,font("primary"));height:-moz-fit-content;height:fit-content;justify-content:center;left:50%;margin:.25rem;margin:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:absolute;transform:translateX(-50%);width:-moz-fit-content;width:fit-content;z-index:2}.chat-form-wrapper{padding:.75rem 1rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.chat-input{margin-bottom:.5rem;margin-bottom:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.suggestions-wrapper{display:flex;flex-direction:column;flex-grow:1;justify-content:end;overflow-x:auto}orama-logo-icon{position:absolute;right:50%;top:50%;transform:translate(50%,-50%);z-index:-1}',o0=n0,l0=function(r,e,t,a){var s=arguments.length,n=s<3?e:a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,a);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},c0=1,Sa,oh=(Sa=class{constructor(e){Re(this,e),this.answerGenerated=$e(this,"answerGenerated",7),this.clearChat=$e(this,"clearChat",7),this.startConversation=$e(this,"startConversation",7),this.placeholder="Ask me anything",this.sourceBaseUrl="",this.showClearChat=!0,this.focusInput=!1,this.inputValue="",this.showGoToBottomButton=!1,this.triggerSendQuestion=t=>{if(this.chatStore.state.chatService===null)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:t,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(t,this.systemPrompts,{onAnswerGeneratedCallback:i(a=>this.answerGenerated.emit(a),"onAnswerGeneratedCallback")})},this.isScrolling=!1,this.prevScrollTop=0,this.scrollTarget=0,this.pendingNewInteractionSideEffects=!1,this.lockScrollOnBottom=!1,this.handleFocus=()=>{if(this.focusInput){let t=this.textareaRef.querySelector("textarea");if(!t)return;requestAnimationFrame(()=>{t.focus()})}},this.calculateIsScrollOnBottom=()=>{let t=this.messagesContainerRef.scrollHeight-this.messagesContainerRef.clientHeight;return this.messagesContainerRef.scrollTop+c0>=t},this.scrollToBottom=(t={animated:!0,onScrollDone:i(()=>{},"onScrollDone")})=>{if(!this.messagesContainerRef)return;if(!t.animated){this.messagesContainerRef.scrollTop=this.messagesContainerRef.scrollHeight,t.onScrollDone();return}this.isScrolling=!0;let a=performance.now(),s=this.messagesContainerRef.scrollTop,n=300,o=i(l=>{if(!this.messagesContainerRef||!this.isScrolling)return;let h=this.messagesContainerRef.scrollHeight-this.messagesContainerRef.clientHeight,d=l-a,m=Math.min(1,d/n),b=this.easeInOutQuad(m),k=s+(h-s)*b;this.messagesContainerRef.scrollTo(0,k),d<n?requestAnimationFrame(o):(this.isScrolling=!1,t.onScrollDone())},"animateScroll");requestAnimationFrame(o)},this.easeInOutQuad=t=>t<.5?2*t*t:-1+(4-2*t)*t,this.recalculateGoBoToBottomButton=()=>{if(!this.calculateIsContainerOverflowing()){this.showGoToBottomButton=!1;return}this.showGoToBottomButton=!this.calculateIsScrollOnBottom()},this.handleWheel=t=>{if(!this.calculateIsContainerOverflowing()){this.lockScrollOnBottom=!1,this.showGoToBottomButton=!1;return}let a=this.messagesContainerRef.scrollTop;this.showGoToBottomButton=!this.calculateIsScrollOnBottom(),this.lockScrollOnBottom=!this.showGoToBottomButton,this.showGoToBottomButton||(this.isScrolling=!1),this.prevScrollTop=a},this.setSources=()=>{this.chatStore.state.sourceBaseURL=this.sourceBaseUrl,this.chatStore.state.sourcesMap=Object.assign(Object.assign({},this.chatStore.state.sourcesMap),this.sourcesMap),this.chatStore.state.linksTarget=this.linksTarget,this.chatStore.state.linksRel=this.linksRel},this.handleSubmit=t=>{if(t.preventDefault(),this.chatStore.state.chatService===null)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:this.inputValue,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(this.inputValue,this.systemPrompts,{onAnswerGeneratedCallback:i(a=>this.answerGenerated.emit(a),"onAnswerGeneratedCallback")}),this.chatStore.state.prompt=this.inputValue,this.inputValue=""},this.handleAbortAnswerClick=()=>{this.chatStore.state.chatService.abortAnswer()},this.handleSuggestionClick=t=>{if(this.chatStore.state.chatService===null)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:t,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(t,void 0,{onAnswerGeneratedCallback:i(a=>this.answerGenerated.emit(a),"onAnswerGeneratedCallback")}),this.inputValue=""},this.handleClearChat=()=>{this.chatStore.state.chatService.resetChat(),this.clearChat.emit()},this.calculateIsContainerOverflowing=()=>this.messagesContainerRef?this.messagesContainerRef.scrollHeight>this.messagesContainerRef.clientHeight:!1}handleSourceItemClick(e){}handleDefaultTermChange(){var e;this.defaultTerm&&((e=this.chatStore.state.chatService)===null||e===void 0||e.sendQuestion(this.defaultTerm,this.systemPrompts,{onAnswerGeneratedCallback:i(t=>this.answerGenerated.emit(t),"onAnswerGeneratedCallback")}))}focusInputWatcher(){this.handleFocus()}promptWatcher(e,t){e!==t&&(this.triggerSendQuestion(e),this.chatStore.state.prompt=e)}componentWillLoad(){this.chatStore.on("set",(e,t,a)=>{e==="interactions"&&(a==null?void 0:a.length)<(t==null?void 0:t.length)&&(this.lockScrollOnBottom=!1,this.pendingNewInteractionSideEffects=!0)})}componentDidLoad(){var e;this.messagesContainerRef.addEventListener("wheel",this.handleWheel),this.setSources(),this.handleFocus(),this.prompt&&((e=this.chatStore.state)===null||e===void 0?void 0:e.prompt)!==this.prompt&&(this.triggerSendQuestion(this.prompt),this.chatStore.state.prompt=this.prompt),this.scrollableContainerResizeObserver=new ResizeObserver(()=>{this.recalculateGoBoToBottomButton()}),this.scrollableContainerResizeObserver.observe(this.messagesContainerRef),this.nonScrollableContainerResizeObserver=new ResizeObserver(()=>{if(this.pendingNewInteractionSideEffects){this.pendingNewInteractionSideEffects=!1,this.lockScrollOnBottom=!1,this.scrollToBottom({animated:!0,onScrollDone:i(()=>{this.recalculateGoBoToBottomButton()},"onScrollDone")});return}this.lockScrollOnBottom&&!this.isScrolling&&this.scrollToBottom({animated:!1,onScrollDone:i(()=>{this.recalculateGoBoToBottomButton()},"onScrollDone")}),this.recalculateGoBoToBottomButton()}),this.nonScrollableContainerResizeObserver.observe(this.nonScrollableMessagesContainerRef)}disconnectedCallback(){var e,t,a;(e=this.messagesContainerRef)===null||e===void 0||e.removeEventListener("wheel",this.handleWheel),(t=this.scrollableContainerResizeObserver)===null||t===void 0||t.disconnect(),(a=this.nonScrollableContainerResizeObserver)===null||a===void 0||a.disconnect(),this.clearChatOnDisconnect&&(this.chatStore.state.interactions=[])}render(){var e,t,a;let s=(e=this.chatStore.state.interactions)===null||e===void 0?void 0:e[this.chatStore.state.interactions.length-1],n=s==null?void 0:s.status,o=((t=this.chatStore.state.interactions)===null||t===void 0?void 0:t.length)>0;return y(st,{key:"5d1a2178b412d1c69fc2531761fa7afff012f5c3"},this.showClearChat&&o&&y("div",{key:"b8dbf1465e12a6025169f18c2bcef997fdeab90e",class:"header"},y("button",{key:"6cb1d550f29f40a8e93425ee7a824d2ba72c1f45",type:"button",onClick:this.handleClearChat},y("ph-arrow-clockwise",{key:"f351381eaedfface1c225542d9cd01b33c8e76d5",weight:"fill",size:"14"})," Clear chat")),y("div",{key:"b2da2e2e50509726ac6e4e4b91dc87b529979725",class:"messages-container-wrapper-non-scrollable"},y("div",{key:"fc4d74a53f0c81fc17ea3109fb69c3295e154544",class:`messages-container-wrapper ${o?"":"isEmpty"}`,ref:i(l=>this.messagesContainerRef=l,"ref")},y("div",{key:"2063f46ef86faf05c44ae89af8ef177b8e1ee753",ref:i(l=>this.nonScrollableMessagesContainerRef=l,"ref")},o?y("orama-chat-messages-container",{interactions:this.chatStore.state.interactions,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}):null,o?null:y(lr,null,y("slot",{name:"chat-empty-state"}),!!(!((a=this.suggestions)===null||a===void 0)&&a.length)&&y("div",{class:"suggestions-wrapper"},y("orama-suggestions",{suggestions:this.suggestions,suggestionClicked:this.handleSuggestionClick}))))),this.showGoToBottomButton&&y("button",{key:"52eed835c4e03eb39fa0c2941b6f3568efbf9047",class:"lock-scroll-on-bottom-button-wrapper",type:"button",onClick:i(()=>{this.lockScrollOnBottom=!0,this.scrollToBottom({animated:!0,onScrollDone:i(()=>this.recalculateGoBoToBottomButton(),"onScrollDone")})},"onClick")},y("ph-arrow-down",{key:"8921b9bafd4bc958bf56c60db8e7e52de1e7086e",size:"18px"}))),y("div",{key:"3a8bbf10940cfe5c07746afca4a3af042d252004",class:"chat-form-wrapper"},y("form",{key:"8689da1c4db63cbeff68608b15548da8885cc828",onSubmit:this.handleSubmit},y("div",{key:"bdf28d08bd522a88266ef115a598323c73a3e0dd",class:"chat-input"},y("orama-textarea",{key:"a0bbebf7d70f4e65ef38bf9d48a7f556dc59b45e",ref:i(l=>this.textareaRef=l,"ref"),autoFocus:this.focusInput,maxRows:4,value:this.inputValue,onKeyDown:i(l=>{l.key==="Enter"&&!l.shiftKey&&(this.handleSubmit(l),l.preventDefault())},"onKeyDown"),onInput:i(l=>{this.inputValue=l.target.value},"onInput"),placeholder:this.placeholder},y("div",{key:"99997311407eaafd5027568260b767ee99ec08ac",slot:"adornment-end"},[et.streaming,et.rendering,et.loading].includes(n)?y("orama-button",{type:"submit",onClick:this.handleAbortAnswerClick,onKeyDown:this.handleAbortAnswerClick,disabled:n!==et.rendering,"aria-label":"Abort answer"},y("ph-stop-circle",{size:16})):y("orama-button",{type:"submit",onClick:this.handleSubmit,onKeyDown:this.handleSubmit,disabled:!this.inputValue,"aria-label":"Send question"},y("ph-paper-plane-tilt",{size:16})))))),y("orama-text",{key:"3b53f2d2ef4abd817f83007f81904375b0eab453",as:"p",styledAs:"small",align:"center"},"Orama can make mistakes. Please verify the information.")))}static get watchers(){return{defaultTerm:["handleDefaultTermChange"],focusInput:["focusInputWatcher"],prompt:["promptWatcher"]}}},i(Sa,"OramaChat"),Sa);l0([er("chat")],oh.prototype,"chatStore",void 0);oh.style=o0;var h0=Object.defineProperty,d0=Object.getOwnPropertyDescriptor,Ii=i((r,e,t,a)=>{for(var s=a>1?void 0:a?d0(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&h0(e,t,s),s},"o$6"),Aa,Dt=(Aa=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Dt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Aa,"t$a"),Aa);Dt.weightsMap=new Map([["thin",L`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",L`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",L`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",L`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",L`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",L`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]);Dt.styles=Ve`
    :host {
      display: contents;
    }
  `;Ii([K({type:String,reflect:!0})],Dt.prototype,"size",2);Ii([K({type:String,reflect:!0})],Dt.prototype,"weight",2);Ii([K({type:String,reflect:!0})],Dt.prototype,"color",2);Ii([K({type:Boolean,reflect:!0})],Dt.prototype,"mirrored",2);Dt=Ii([qe("ph-copy")],Dt);var u0=Object.defineProperty,p0=Object.getOwnPropertyDescriptor,Oi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?p0(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&u0(e,t,s),s},"o$5"),Ta,Zt=(Ta=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Zt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Ta,"a$4"),Ta);Zt.weightsMap=new Map([["thin",L`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",L`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",L`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",L`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",L`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",L`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]);Zt.styles=Ve`
    :host {
      display: contents;
    }
  `;Oi([K({type:String,reflect:!0})],Zt.prototype,"size",2);Oi([K({type:String,reflect:!0})],Zt.prototype,"weight",2);Oi([K({type:String,reflect:!0})],Zt.prototype,"color",2);Oi([K({type:Boolean,reflect:!0})],Zt.prototype,"mirrored",2);Zt=Oi([qe("ph-arrows-clockwise")],Zt);var f0=Object.defineProperty,m0=Object.getOwnPropertyDescriptor,Li=i((r,e,t,a)=>{for(var s=a>1?void 0:a?m0(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&f0(e,t,s),s},"l$2"),Ca,jt=(Ca=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${jt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Ca,"t$9"),Ca);jt.weightsMap=new Map([["thin",L`<path d="M235.85,157.52l-12-96A20,20,0,0,0,204,44H32A12,12,0,0,0,20,56v88a12,12,0,0,0,12,12H77.53l38.89,77.79A4,4,0,0,0,120,236a36,36,0,0,0,36-36V180h60a20,20,0,0,0,19.85-22.48ZM76,148H32a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H76Zm149,19.94a12,12,0,0,1-9,4.06H152a4,4,0,0,0-4,4v24a28,28,0,0,1-25.58,27.9L84,151.06V52H204a12,12,0,0,1,11.91,10.51l12,96A12,12,0,0,1,225,167.94Z"/>`],["light",L`<path d="M237.83,157.27l-12-96A22,22,0,0,0,204,42H32A14,14,0,0,0,18,56v88a14,14,0,0,0,14,14H76.29l38.34,76.68A6,6,0,0,0,120,238a38,38,0,0,0,38-38V182h58a22,22,0,0,0,21.83-24.73ZM74,146H32a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H74Zm149.5,20.62A9.89,9.89,0,0,1,216,170H152a6,6,0,0,0-6,6v24a26,26,0,0,1-22.42,25.75L86,150.58V54H204a10,10,0,0,1,9.92,8.76l12,96A9.89,9.89,0,0,1,223.5,166.62Z"/>`],["regular",L`<path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"/>`],["bold",L`<path d="M243.78,156.53l-12-96A28,28,0,0,0,204,36H32A20,20,0,0,0,12,56v88a20,20,0,0,0,20,20H72.58l36.69,73.37A12,12,0,0,0,120,244a44.05,44.05,0,0,0,44-44V188h52a28,28,0,0,0,27.78-31.47ZM68,140H36V60H68Zm151,22.65a4,4,0,0,1-3,1.35H152a12,12,0,0,0-12,12v24a20,20,0,0,1-13.18,18.8L92,149.17V60H204a4,4,0,0,1,4,3.5l12,96A4,4,0,0,1,219,162.65Z"/>`],["fill",L`<path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Z"/>`],["duotone",L`<path d="M80,48V152H32a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8Z" opacity="0.2"/><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"/>`]]);jt.styles=Ve`
    :host {
      display: contents;
    }
  `;Li([K({type:String,reflect:!0})],jt.prototype,"size",2);Li([K({type:String,reflect:!0})],jt.prototype,"weight",2);Li([K({type:String,reflect:!0})],jt.prototype,"color",2);Li([K({type:Boolean,reflect:!0})],jt.prototype,"mirrored",2);jt=Li([qe("ph-thumbs-down")],jt);var g0=Object.defineProperty,b0=Object.getOwnPropertyDescriptor,Mi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?b0(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&g0(e,t,s),s},"o$4"),Ea,Bt=(Ea=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Ea,"a$3"),Ea);Bt.weightsMap=new Map([["thin",L`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",L`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",L`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",L`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",L`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",L`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]);Bt.styles=Ve`
    :host {
      display: contents;
    }
  `;Mi([K({type:String,reflect:!0})],Bt.prototype,"size",2);Mi([K({type:String,reflect:!0})],Bt.prototype,"weight",2);Mi([K({type:String,reflect:!0})],Bt.prototype,"color",2);Mi([K({type:Boolean,reflect:!0})],Bt.prototype,"mirrored",2);Bt=Mi([qe("ph-warning")],Bt);var y0=".sc-orama-chat-assistent-message-h{color:#838289;color:var(--text-color-secondary,#838289);display:block}.message-wrapper.sc-orama-chat-assistent-message{padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.message-error.sc-orama-chat-assistent-message,.message-wrapper.sc-orama-chat-assistent-message{background:#fff;background:var(--background-color-secondary,#fff);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));margin:0 1rem;margin:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.message-error.sc-orama-chat-assistent-message{padding:1rem .5rem;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));text-align:center}.message-error.sc-orama-chat-assistent-message ph-warning.sc-orama-chat-assistent-message{color:#99989d;color:var(--text-color-inactive,#99989d);display:block}.message-actions.sc-orama-chat-assistent-message{display:flex;gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));justify-content:end;margin-top:.75rem;margin-top:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));transition:opacity .2s ease-in-out}.hidden.sc-orama-chat-assistent-message{opacity:0;pointer-events:none}.sr-only.sc-orama-chat-assistent-message{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",v0=y0,w0=function(r,e,t,a){var s=arguments.length,n=s<3?e:a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,a);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},Ia,lh=(Ia=class{constructor(e){Re(this,e),this.isCopied=!1,this.handleCopyToClipboard=()=>{this.isCopied=!0,setTimeout(()=>this.isCopied=!1,1e3),Kc(this.interaction.response)},this.isDisliked=!1,this.handleDislikeMessage=()=>{this.isDisliked=!this.isDisliked},this.handleRetryMessage=()=>{var t;(t=this.chatStore.state.chatService)===null||t===void 0||t.regenerateLatest()}}render(){return this.interaction.status==="loading"?y("div",{class:"message-wrapper"},y("orama-dots-loader",null)):this.interaction.status==="error"?y("div",{class:"message-error"},y("ph-warning",{size:16}),y("orama-text",{styledAs:"span",inactive:!0},"An error occurred while trying to search. Please try again.")):y(st,null,y("orama-sources",{sources:this.interaction.sources,sourceBaseURL:this.chatStore.state.sourceBaseURL,sourcesMap:this.chatStore.state.sourcesMap,linksRel:this.chatStore.state.linksRel,linksTarget:this.chatStore.state.linksTarget}),y("div",{class:"message-wrapper"},this.interaction.response?y("orama-markdown",{content:this.interaction.response,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}):y("orama-dots-loader",null),y("div",{class:{"message-actions":!0,hidden:this.interaction.status!==et.done}},this.interaction.latest&&y("orama-button",{type:"button",variant:"icon",onClick:this.handleRetryMessage,onKeyDown:this.handleRetryMessage,"aria-label":"Retry message"},y("ph-arrows-clockwise",{size:"16px"})),y("orama-button",{type:"button",variant:"icon",onClick:this.handleCopyToClipboard,onKeyDown:this.handleCopyToClipboard,withTooltip:this.isCopied?"Copied!":void 0,"aria-label":"Copy message"},y("ph-copy",{size:"16px"})),y("orama-button",{type:"button",variant:"icon",onClick:this.handleDislikeMessage,onKeyDown:this.handleDislikeMessage,"aria-label":"Dislike message"},this.isDisliked?y("ph-thumbs-down",{weight:"fill",size:"16px"}):y("ph-thumbs-down",{size:"16px"})))))}get htmlElement(){return Ke(this)}},i(Ia,"OramaChatAssistentMessage"),Ia);w0([er("chat")],lh.prototype,"chatStore",void 0);lh.style=v0;var Oa,di=(Oa=class extends Error{constructor(){super("Orama Client is not initialized")}},i(Oa,"OramaClientNotInitializedError"),Oa),k0={arabic:"ar",armenian:"am",bulgarian:"bg",czech:"cz",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},x0=Object.keys(k0);Date.now().toString().slice(5);var tc=BigInt(1e3),rc=BigInt(1e6),ac=BigInt(1e9),Wn=65535;function ch(r,e){if(e.length<Wn)Array.prototype.push.apply(r,e);else{let t=e.length;for(let a=0;a<t;a+=Wn)Array.prototype.push.apply(r,e.slice(a,a+Wn))}}i(ch,"safeArrayPush");function hh(r,...e){return r.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...t){let a=t[t.length-1],{width:s,type:n,position:o}=a,l=o?e[Number.parseInt(o)-1]:e.shift(),h=s===""?0:Number.parseInt(s);switch(n){case"d":return l.toString().padStart(h,"0");case"f":{let d=l,[m,b]=s.split(".").map(k=>Number.parseFloat(k));return typeof b=="number"&&b>=0&&(d=d.toFixed(b)),typeof m=="number"&&m>=0?d.toString().padStart(h,"0"):d.toString()}case"s":return h<0?l.toString().padEnd(-h," "):l.toString().padStart(h," ");default:return l}})}i(hh,"sprintf");function dh(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}i(dh,"isInsideWebWorker");function uh(){return typeof process<"u"&&process.release&&process.release.name==="node"}i(uh,"isInsideNode");function ao(){return BigInt(Math.floor(performance.now()*1e6))}i(ao,"getNanosecondTimeViaPerformance");function Po(r){return typeof r=="number"&&(r=BigInt(r)),r<tc?`${r}ns`:r<rc?`${r/tc}Î¼s`:r<ac?`${r/rc}ms`:`${r/ac}s`}i(Po,"formatNanoseconds");function Ur(){var r;return dh()?ao():uh()||typeof process<"u"&&typeof((r=process==null?void 0:process.hrtime)==null?void 0:r.bigint)=="function"?process.hrtime.bigint():typeof performance<"u"?ao():BigInt(0)}i(Ur,"getNanosecondsTime");function $o(r,e){return e[1]===r[1]?r[0]-e[0]:e[1]-r[1]}i($o,"sortTokenScorePredicate");function ph(r){if(r.length===0)return[];if(r.length===1)return r[0];for(let t=1;t<r.length;t++)if(r[t].length<r[0].length){let a=r[0];r[0]=r[t],r[t]=a}let e=new Map;for(let t of r[0])e.set(t,1);for(let t=1;t<r.length;t++){let a=0;for(let s of r[t]){let n=e.get(s);n===t&&(e.set(s,n+1),a++)}if(a===0)return[]}return r[0].filter(t=>{let a=e.get(t);return a!==void 0&&e.set(t,0),a===r.length})}i(ph,"intersect");function fh(r,e){let t={},a=e.length;for(let s=0;s<a;s++){let n=e[s],o=n.split("."),l=r,h=o.length;for(let d=0;d<h;d++)if(l=l[o[d]],typeof l=="object"){if(l!==null&&"lat"in l&&"lon"in l&&typeof l.lat=="number"&&typeof l.lon=="number"){l=t[n]=l;break}else if(!Array.isArray(l)&&l!==null&&d===h-1){l=void 0;break}}else if((l===null||typeof l!="object")&&d<h-1){l=void 0;break}typeof l<"u"&&(t[n]=l)}return t}i(fh,"getDocumentProperties");function wn(r,e){return fh(r,[e])[e]}i(wn,"getNested");function Ro(r,e){r.hits=r.hits.map(t=>({...t,document:{...t.document,...e.reduce((a,s)=>{let n=s.split("."),o=n.pop(),l=a;for(let h of n)l[h]=l[h]??{},l=l[h];return l[o]=null,a},t.document)}}))}i(Ro,"removeVectorsFromHits");function kn(r){var e;return Array.isArray(r)?r.some(t=>kn(t)):((e=r==null?void 0:r.constructor)==null?void 0:e.name)==="AsyncFunction"}i(kn,"isAsyncFunction");var _0=x0.join(`
 - `),S0={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${_0}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.orama.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:",PLUGIN_SECURE_PROXY_NOT_FOUND:`Could not find '@orama/secure-proxy-plugin' installed in your Orama instance.
Please install it before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy#plugin-secure-proxy
`,PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL:`Could not find a chat model defined in the secure proxy plugin configuration.
Please provide a chat model before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy#plugin-secure-proxy
`,ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT:"The last message in the session is not an assistant message. Cannot regenerate non-assistant messages.",PLUGIN_COMPONENT_CONFLICT:'The component "%s" is already defined. The plugin "%s" is trying to redefine it.'};function lt(r,...e){let t=new Error(hh(S0[r]??`Unsupported Orama Error code: ${r}`,...e));return t.code=r,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(t),t}i(lt,"createError");function zo(r,e){if(typeof e=="string"){let t=r.idToInternalId.get(e);if(t)return t;let a=r.idToInternalId.size+1;return r.idToInternalId.set(e,a),r.internalIdToId.push(e),a}return e>r.internalIdToId.length?zo(r,e.toString()):e}i(zo,"getInternalDocumentId");function Pi(r,e){if(r.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return r.internalIdToId[e-1]}i(Pi,"getDocumentIdFromInternalId");function xn(r,e,t,a,s){if(r.some(kn))return(async()=>{for(let n of r)await n(e,t,a,s)})();for(let n of r)n(e,t,a,s)}i(xn,"runAfterSearch");function _n(r,e,t,a){if(r.some(kn))return(async()=>{for(let s of r)await s(e,t,a)})();for(let s of r)s(e,t,a)}i(_n,"runBeforeSearch");var A0=.8;function mh(r){return r.documentsStore.count(r.data.docs)}i(mh,"count");var sc="fulltext",T0="hybrid",C0="vector";function gh(r,e){return r[1]-e[1]}i(gh,"sortAsc");function bh(r,e){return e[1]-r[1]}i(bh,"sortDesc");function yh(r="desc"){return r.toLowerCase()==="asc"?gh:bh}i(yh,"sortingPredicateBuilder");function Sn(r,e,t){let a={},s=e.map(([d])=>d),n=r.documentsStore.getMultiple(r.data.docs,s),o=Object.keys(t),l=r.index.getSearchablePropertiesWithTypes(r.data.index);for(let d of o){let m;if(l[d]==="number"){let{ranges:b}=t[d],k=b.length,A=Array.from({length:k});for(let z=0;z<k;z++){let I=b[z];A[z]=[`${I.from}-${I.to}`,0]}m=Object.fromEntries(A)}a[d]={count:0,values:m??{}}}let h=n.length;for(let d=0;d<h;d++){let m=n[d];for(let b of o){let k=b.includes(".")?wn(m,b):m[b],A=l[b],z=a[b].values;switch(A){case"number":{let I=t[b].ranges;so(I,z)(k);break}case"number[]":{let I=new Set,F=t[b].ranges,U=so(F,z,I);for(let $ of k)U($);break}case"boolean":case"enum":case"string":{io(z,A)(k);break}case"boolean[]":case"enum[]":case"string[]":{let I=io(z,A==="boolean[]"?"boolean":"string",new Set);for(let F of k)I(F);break}default:throw lt("FACET_NOT_SUPPORTED",A)}}}for(let d of o){let m=a[d];if(m.count=Object.keys(m.values).length,l[d]==="string"){let b=t[d],k=yh(b.sort);m.values=Object.fromEntries(Object.entries(m.values).sort(k).slice(b.offset??0,b.limit??10))}}return a}i(Sn,"getFacets");function so(r,e,t){return a=>{for(let s of r){let n=`${s.from}-${s.to}`;t!=null&&t.has(n)||a>=s.from&&a<=s.to&&(e[n]===void 0?e[n]=1:(e[n]++,t==null||t.add(n)))}}}i(so,"calculateNumberFacetBuilder");function io(r,e,t){let a=e==="boolean"?"false":"";return s=>{let n=(s==null?void 0:s.toString())??a;t!=null&&t.has(n)||(r[n]=(r[n]??0)+1,t==null||t.add(n))}}i(io,"calculateBooleanStringOrEnumFacetBuilder");var E0={reducer:i((r,e,t,a)=>(e[a]=t,e),"reducer"),getInitialValue:i(r=>Array.from({length:r}),"getInitialValue")},ic=["string","number","boolean"];function An(r,e,t){let a=t.properties,s=a.length,n=r.index.getSearchablePropertiesWithTypes(r.data.index);for(let U=0;U<s;U++){let $=a[U];if(typeof n[$]>"u")throw lt("UNKNOWN_GROUP_BY_PROPERTY",$);if(!ic.includes(n[$]))throw lt("INVALID_GROUP_BY_PROPERTY",$,ic.join(", "),n[$])}let o=e.map(([U])=>Pi(r.internalDocumentIDStore,U)),l=r.documentsStore.getMultiple(r.data.docs,o),h=l.length,d=t.maxResult||Number.MAX_SAFE_INTEGER,m=[],b={};for(let U=0;U<s;U++){let $=a[U],W={property:$,perValue:{}},ne=new Set;for(let pe=0;pe<h;pe++){let te=l[pe],E=wn(te,$);if(typeof E>"u")continue;let H=typeof E!="boolean"?E:""+E,le=W.perValue[H]??{indexes:[],count:0};le.count>=d||(le.indexes.push(pe),le.count++,W.perValue[H]=le,ne.add(E))}m.push(Array.from(ne)),b[$]=W}let k=No(m),A=k.length,z=[];for(let U=0;U<A;U++){let $=k[U],W=$.length,ne={values:[],indexes:[]},pe=[];for(let te=0;te<W;te++){let E=$[te],H=a[te];pe.push(b[H].perValue[typeof E!="boolean"?E:""+E].indexes),ne.values.push(E)}ne.indexes=ph(pe).sort((te,E)=>te-E),ne.indexes.length!==0&&z.push(ne)}let I=z.length,F=Array.from({length:I});for(let U=0;U<I;U++){let $=z[U],W=t.reduce||E0,ne=$.indexes.map(H=>({id:o[H],score:e[H][1],document:l[H]})),pe=W.reducer.bind(null,$.values),te=W.getInitialValue($.indexes.length),E=ne.reduce(pe,te);F[U]={values:$.values,result:E}}return F}i(An,"getGroups");function No(r,e=0){if(e+1===r.length)return r[e].map(n=>[n]);let t=r[e],a=No(r,e+1),s=[];for(let n of t)for(let o of a){let l=[n];ch(l,o),s.push(l)}return s}i(No,"calculateCombination");function Ho(r,e,t){let{term:a,properties:s}=e,n=r.data.index,o=r.caches.propertiesToSearch;if(!o){let b=r.index.getSearchablePropertiesWithTypes(n);o=r.index.getSearchableProperties(n),o=o.filter(k=>b[k].startsWith("string")),r.caches.propertiesToSearch=o}if(s&&s!=="*"){for(let b of s)if(!o.includes(b))throw lt("UNKNOWN_INDEX",b,o.join(", "));o=o.filter(b=>s.includes(b))}let l=Object.keys(e.where??{}).length>0,h;l&&(h=r.index.searchByWhereClause(n,r.tokenizer,e.where,t));let d,m=e.threshold!==void 0&&e.threshold!==null?e.threshold:1;if(a||s){let b=mh(r);d=r.index.search(n,a||"",r.tokenizer,t,o,e.exact||!1,e.tolerance||0,e.boost||{},wh(e.relevance),b,h,m)}else d=(h?Array.from(h):Object.keys(r.documentsStore.getAll(r.data.docs))).map(b=>[+b,0]);return d}i(Ho,"innerFullTextSearch");function vh(r,e,t){var o,l;let a=Ur();function s(){let h=Object.keys(r.data.index.vectorIndexes),d=e.facets&&Object.keys(e.facets).length>0,{limit:m=10,offset:b=0,distinctOn:k,includeVectors:A=!1}=e,z=e.preflight===!0,I=Ho(r,e,t);if(e.sortBy)if(typeof e.sortBy=="function"){let $=I.map(([ne])=>ne),W=r.documentsStore.getMultiple(r.data.docs,$).map((ne,pe)=>[I[pe][0],I[pe][1],ne]);W.sort(e.sortBy),I=W.map(([ne,pe])=>[ne,pe])}else I=r.sorter.sortBy(r.data.sorting,I,e.sortBy).map(([$,W])=>[zo(r.internalDocumentIDStore,$),W]);else I=I.sort($o);let F;z||(F=k?Eh(r,I,b,m,k):jo(r,I,b,m));let U={elapsed:{formatted:"",raw:0},hits:[],count:I.length};if(typeof F<"u"&&(U.hits=F.filter(Boolean),A||Ro(U,h)),d){let $=Sn(r,I,e.facets);U.facets=$}return e.groupBy&&(U.groups=An(r,I,e.groupBy)),U.elapsed=r.formatElapsedTime(Ur()-a),U}i(s,"performSearchLogic");async function n(){r.beforeSearch&&await _n(r.beforeSearch,r,e,t);let h=s();return r.afterSearch&&await xn(r.afterSearch,r,e,t,h),h}return i(n,"executeSearchAsync"),(o=r.beforeSearch)!=null&&o.length||(l=r.afterSearch)!=null&&l.length?n():s()}i(vh,"fullTextSearch");var Kn={k:1.2,b:.75,d:.5};function wh(r){let e=r??{};return e.k=e.k??Kn.k,e.b=e.b??Kn.b,e.d=e.d??Kn.d,e}i(wh,"applyDefault");function Do(r,e,t){let a=e.vector;if(a&&(!("value"in a)||!("property"in a)))throw lt("INVALID_VECTOR_INPUT",Object.keys(a).join(", "));let s=r.data.index.vectorIndexes[a.property],n=s.node.size;if((a==null?void 0:a.value.length)!==n)throw(a==null?void 0:a.property)===void 0||(a==null?void 0:a.value.length)===void 0?lt("INVALID_INPUT_VECTOR","undefined",n,"undefined"):lt("INVALID_INPUT_VECTOR",a.property,n,a.value.length);let o=r.data.index,l;return Object.keys(e.where??{}).length>0&&(l=r.index.searchByWhereClause(o,r.tokenizer,e.where,t)),s.node.find(a.value,e.similarity??A0,l)}i(Do,"innerVectorSearch");function kh(r,e,t="english"){var o,l;let a=Ur();function s(){let h=Do(r,e,t).sort($o),d=[];e.facets&&Object.keys(e.facets).length>0&&(d=Sn(r,h,e.facets));let m=e.vector.property,b=e.includeVectors??!1,k=e.limit??10,A=e.offset??0,z=Array.from({length:k});for(let U=0;U<k;U++){let $=h[U+A];if(!$)break;let W=r.data.docs.docs[$[0]];if(W){b||(W[m]=null);let ne={id:Pi(r.internalDocumentIDStore,$[0]),score:$[1],document:W};z[U]=ne}}let I=[];e.groupBy&&(I=An(r,h,e.groupBy));let F=Ur()-a;return{count:h.length,hits:z.filter(Boolean),elapsed:{raw:Number(F),formatted:Po(F)},...d?{facets:d}:{},...I?{groups:I}:{}}}i(s,"performSearchLogic");async function n(){r.beforeSearch&&await _n(r.beforeSearch,r,e,t);let h=s();return r.afterSearch&&await xn(r.afterSearch,r,e,t,h),h}return i(n,"executeSearchAsync"),(o=r.beforeSearch)!=null&&o.length||(l=r.afterSearch)!=null&&l.length?n():s()}i(kh,"searchVector");function xh(r,e,t){let a=Sh(Ho(r,e,t)),s=Do(r,e,t),n=e.hybridWeights;return Th(a,s,e.term??"",n)}i(xh,"innerHybridSearch");function _h(r,e,t){var o,l;let a=Ur();function s(){let h=xh(r,e,t),d;e.facets&&Object.keys(e.facets).length>0&&(d=Sn(r,h,e.facets));let m;e.groupBy&&(m=An(r,h,e.groupBy));let b=e.offset??0,k=e.limit??10,A=jo(r,h,b,k).filter(Boolean),z=Ur(),I={count:h.length,elapsed:{raw:Number(z-a),formatted:Po(z-a)},hits:A,...d?{facets:d}:{},...m?{groups:m}:{}};if(!(e.includeVectors??!1)){let F=Object.keys(r.data.index.vectorIndexes);Ro(I,F)}return I}i(s,"performSearchLogic");async function n(){r.beforeSearch&&await _n(r.beforeSearch,r,e,t);let h=s();return r.afterSearch&&await xn(r.afterSearch,r,e,t,h),h}return i(n,"executeSearchAsync"),(o=r.beforeSearch)!=null&&o.length||(l=r.afterSearch)!=null&&l.length?n():s()}i(_h,"hybridSearch");function on(r){return r[1]}i(on,"extractScore");function Sh(r){let e=Math.max.apply(Math,r.map(on));return r.map(([t,a])=>[t,a/e])}i(Sh,"minMaxScoreNormalization");function no(r,e){return r/e}i(no,"normalizeScore");function Ah(r,e){return(t,a)=>t*r+a*e}i(Ah,"hybridScoreBuilder");function Th(r,e,t,a){let s=Math.max.apply(Math,r.map(on)),n=Math.max.apply(Math,e.map(on)),o=a&&a.text&&a.vector,{text:l,vector:h}=o?a:Ch(),d=new Map,m=r.length,b=Ah(l,h);for(let A=0;A<m;A++){let[z,I]=r[A],F=no(I,s),U=b(F,0);d.set(z,U)}let k=e.length;for(let A=0;A<k;A++){let[z,I]=e[A],F=no(I,n),U=d.get(z)??0;d.set(z,U+b(0,F))}return[...d].sort((A,z)=>z[1]-A[1])}i(Th,"mergeAndRankResults");function Ch(r){return{text:.5,vector:.5}}i(Ch,"getQueryWeights");function Zo(r,e,t){let a=e.mode??sc;if(a===sc)return vh(r,e,t);if(a===C0)return kh(r,e);if(a===T0)return _h(r,e);throw lt("INVALID_SEARCH_MODE",a)}i(Zo,"search");function Eh(r,e,t,a,s){let n=r.data.docs,o=new Map,l=[],h=new Set,d=e.length,m=0;for(let b=0;b<d;b++){let k=e[b];if(typeof k>"u")continue;let[A,z]=k;if(h.has(A))continue;let I=r.documentsStore.get(n,A),F=wn(I,s);if(!(typeof F>"u"||o.has(F))&&(o.set(F,!0),m++,!(m<=t)&&(l.push({id:Pi(r.internalDocumentIDStore,A),score:z,document:I}),h.add(A),m>=t+a)))break}return l}i(Eh,"fetchDocumentsWithDistinct");function jo(r,e,t,a){let s=r.data.docs,n=Array.from({length:a}),o=new Set;for(let l=t;l<a+t;l++){let h=e[l];if(typeof h>"u")break;let[d,m]=h;if(!o.has(d)){let b=r.documentsStore.get(s,d);n[l]={id:Pi(r.internalDocumentIDStore,d),score:m,document:b},o.add(d)}}return n}i(jo,"fetchDocuments");var I0="orama-secure-proxy",La,O0=(La=class{constructor(e,t){N(this,"db");N(this,"proxy",null);N(this,"config");N(this,"abortController",null);N(this,"lastInteractionParams",null);N(this,"chatModel",null);N(this,"conversationID");N(this,"messages",[]);N(this,"events");N(this,"initPromise");N(this,"state",[]);this.db=e,this.config=t,this.init(),this.messages=t.initialMessages||[],this.events=t.events||{},this.conversationID=t.conversationID||this.generateRandomID()}async ask(e){await this.initPromise;let t="";for await(let a of await this.askStream(e))t+=a;return t}async askStream(e){return await this.initPromise,this.fetchAnswer(e)}abortAnswer(){var e;(e=this.abortController)==null||e.abort(),this.state[this.state.length-1].aborted=!0,this.triggerStateChange()}getMessages(){return this.messages}clearSession(){this.messages=[],this.state=[]}regenerateLast({stream:e=!0}){var t;if(this.state.length===0||this.messages.length===0)throw new Error("No messages to regenerate");if(((t=this.messages.at(-1))==null?void 0:t.role)!=="assistant")throw lt("ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT");return this.messages.pop(),this.state.pop(),e?this.askStream(this.lastInteractionParams):this.ask(this.lastInteractionParams)}async*fetchAnswer(e){if(!this.chatModel)throw lt("PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL");this.abortController=new AbortController,this.lastInteractionParams=e;let t=this.generateRandomID();this.messages.push({role:"user",content:e.term??""}),this.state.push({interactionId:t,aborted:!1,loading:!0,query:e.term??"",response:"",sources:null,translatedQuery:null,error:!1,errorMessage:null});let a=this.state.length-1;this.addEmptyAssistantMessage(),this.triggerStateChange();try{let s=await Zo(this.db,e);this.state[a].sources=s,this.triggerStateChange();for await(let n of this.proxy.chatStream({model:this.chatModel,messages:this.messages}))yield n,this.state[a].response+=n,this.messages.findLast(o=>o.role==="assistant").content+=n,this.triggerStateChange()}catch(s){s.name==="AbortError"?this.state[a].aborted=!0:(this.state[a].error=!0,this.state[a].errorMessage=s.toString()),this.triggerStateChange()}return this.state[a].loading=!1,this.triggerStateChange(),this.state[a].response}generateRandomID(e=24){return Array.from({length:e},()=>Math.floor(Math.random()*36).toString(36)).join("")}triggerStateChange(){this.events.onStateChange&&this.events.onStateChange(this.state)}async init(){var n,o;let e=this;async function t(){return await e.db.plugins.find(l=>l.name===I0)}i(t,"getPlugin");let a=await t();if(!a)throw lt("PLUGIN_SECURE_PROXY_NOT_FOUND");let s=a.extra;if(this.proxy=s.proxy,this.config.systemPrompt&&this.messages.push({role:"system",content:this.config.systemPrompt}),(o=(n=s==null?void 0:s.pluginParams)==null?void 0:n.chat)==null?void 0:o.model)this.chatModel=s.pluginParams.chat.model;else throw lt("PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL")}addEmptyAssistantMessage(){this.messages.push({role:"assistant",content:""})}},i(La,"AnswerSession$1"),La),Ma,L0=(Ma=class extends TransformStream{constructor(){let e=new TextDecoder("utf-8",{ignoreBOM:!1}),t,a;super({start(){t="",a={data:""}},transform(s,n){let o=e.decode(s);t+=o;let l;for(;(l=/\r\n|\n|\r/.exec(t))!==null;){let h=t.substring(0,l.index);if(t=t.substring(l.index+l[0].length),h.length===0)n.enqueue(a),a={data:""};else if(!h.startsWith(":")){let d=/:/.exec(h);if(!d){a[h]="";continue}let m=h.substring(0,d.index),b=h.substring(d.index+1);a[m]=b==null?void 0:b.replace(/^\u0020/,"")}}}})}},i(Ma,"EventsStreamTransformer"),Ma);function oo(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,a)}return t}i(oo,"ownKeys");function lo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oo(Object(t),!0).forEach(function(a){Ih(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oo(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}i(lo,"_objectSpread");function Ih(r,e,t){return e=Oh(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}i(Ih,"_defineProperty");function Oh(r){var e=Lh(r,"string");return typeof e=="symbol"?e:String(e)}i(Oh,"_toPropertyKey");function Lh(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}i(Lh,"_toPrimitive");var nc=Bo({});function Bo(r){return e.withOptions=t=>Bo(lo(lo({},r),t)),e;function e(t,...a){let s=typeof t=="string"?[t]:t.raw,{escapeSpecialCharacters:n=Array.isArray(t)}=r,o="";for(let d=0;d<s.length;d++){let m=s[d];n&&(m=m.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),o+=m,d<a.length&&(o+=a[d])}let l=o.split(`
`),h=null;for(let d of l){let m=d.match(/^(\s+)\S+/);if(m){let b=m[1].length;h?h=Math.min(h,b):h=b}}if(h!==null){let d=h;o=l.map(m=>m[0]===" "||m[0]==="	"?m.slice(d):m).join(`
`)}return o=o.trim(),n&&(o=o.replace(/\\n/g,`
`)),o}}i(Bo,"createDedent");var Pa,Mh=(Pa=class{constructor(e){Object.defineProperty(this,"baseURL",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"masterAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writeAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"readAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.baseURL=e.baseURL,this.masterAPIKey=e.masterAPIKey,this.writeAPIKey=e.writeAPIKey,this.readAPIKey=e.readAPIKey}async request(e){let t=new URL(e.url,this.baseURL),a=new Headers;a.append("Content-Type","application/json");let s={method:e.method,headers:a};e.body&&e.method!=="GET"&&(s.body=JSON.stringify(e.body)),e.body&&e.method==="GET"&&(t.search=new URLSearchParams(e.body).toString());let n=this.getAPIKey(e.securityLevel);switch(!0){case(e.method!=="GET"&&e.securityLevel!=="read-query"):a.append("Authorization",`Bearer ${n}`);break;case(e.method==="GET"&&e.securityLevel==="master"):a.append("Authorization",`Bearer ${n}`);break;case(e.method==="GET"||e.securityLevel==="read-query"):t.searchParams.append("api-key",n);break}let o=await fetch(t.toString(),s);if(!o.ok)throw new Error(nc(`
                Request to "${e.url}" failed with status ${o.status}:
                ${await o.text()}
            `));return o.json()}async requestStream(e){var o;let t=new URL(e.url,this.baseURL),a=new Headers;a.append("Content-Type","application/json");let s=this.getAPIKey(e.securityLevel);t.searchParams.append("api-key",s);let n=await fetch(t.toString(),{body:JSON.stringify(e.body),headers:a,method:e.method});if(!n.ok)throw new Error(nc(`
                Request to "${e.url}" failed with status ${n.status}:
                ${await n.text()}
            `));if(n.body===null)throw new Error(`Response body is null for "${e.url}"`);return(o=n.body)==null?void 0:o.pipeThrough(new L0)}getAPIKey(e){switch(e){case"master":if(!this.masterAPIKey)throw new Error("Master API key is required for this operation");return this.masterAPIKey;case"write":if(!this.writeAPIKey)throw new Error("Write API key is required for this operation");return this.writeAPIKey;case"read":case"read-query":if(!this.readAPIKey)throw new Error("Read API key is required for this operation");return this.readAPIKey}}},i(Pa,"OramaInterface"),Pa);function Pt(r,e=!0){try{return JSON.parse(r)}catch(t){return e||console.warn("Recovered from failed JSON parsing with error:",t),r}}i(Pt,"safeJSONParse");var M0={},oc=Ph(globalThis,M0);function Ph(r,e){return new Proxy(r,{get(t,a,s){return a in e?e[a]:r[a]},set(t,a,s){return a in e&&delete e[a],r[a]=s,!0},deleteProperty(t,a){let s=!1;return a in e&&(delete e[a],s=!0),a in r&&(delete r[a],s=!0),s},ownKeys(t){let a=Reflect.ownKeys(r),s=Reflect.ownKeys(e),n=new Set(s);return[...a.filter(o=>!n.has(o)),...s]},defineProperty(t,a,s){return a in e&&delete e[a],Reflect.defineProperty(r,a,s),!0},getOwnPropertyDescriptor(t,a){return a in e?Reflect.getOwnPropertyDescriptor(e,a):Reflect.getOwnPropertyDescriptor(r,a)},has(t,a){return a in e||a in r}})}i(Ph,"createMergeProxy");function $h(r){if(r<1e3)return`${r}ms`;{let e=r/1e3;return Number.isInteger(e)?`${e}s`:`${e.toFixed(1)}s`}}i($h,"formatDuration");var P0=typeof localStorage<"u";function Rh(){var r;return typeof oc<"u"||typeof document<"u"?!1:!!(typeof process<"u"&&((r=process.versions)!=null&&r.node)||typeof Deno<"u"&&typeof Deno.version<"u"||typeof Bun<"u"&&typeof Bun.version<"u"||typeof oc<"u"&&typeof globalThis.Response=="function"&&typeof globalThis.fetch=="function"&&typeof globalThis.navigator>"u"||typeof process<"u"&&(process!=null&&process.env.AWS_LAMBDA_FUNCTION_NAME))}i(Rh,"isServerRuntime");var Ce;(function(r){r.assertEqual=s=>s;function e(s){}i(e,"assertIs"),r.assertIs=e;function t(s){throw new Error}i(t,"assertNever"),r.assertNever=t,r.arrayToEnum=s=>{let n={};for(let o of s)n[o]=o;return n},r.getValidEnumValues=s=>{let n=r.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(let l of n)o[l]=s[l];return r.objectValues(o)},r.objectValues=s=>r.objectKeys(s).map(function(n){return s[n]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let n=[];for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&n.push(o);return n},r.find=(s,n)=>{for(let o of s)if(n(o))return o},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,n=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}i(a,"joinValues"),r.joinValues=a,r.jsonStringifyReplacer=(s,n)=>typeof n=="bigint"?n.toString():n})(Ce||(Ce={}));var lc;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(lc||(lc={}));var re=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nr=i(r=>{switch(typeof r){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(r)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(r)?re.array:r===null?re.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?re.promise:typeof Map<"u"&&r instanceof Map?re.map:typeof Set<"u"&&r instanceof Set?re.set:typeof Date<"u"&&r instanceof Date?re.date:re.object;default:return re.unknown}},"getParsedType"),Z=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$r,Vr=($r=class extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(n){return n.message},a={_errors:[]},s=i(n=>{for(let o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(t(o));else{let l=a,h=0;for(;h<o.path.length;){let d=o.path[h];h===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(o))):l[d]=l[d]||{_errors:[]},l=l[d],h++}}},"processError");return s(this),a}static assert(e){if(!(e instanceof $r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},a=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):a.push(e(s));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}},i($r,"ZodError"),$r);Vr.create=r=>new Vr(r);var co=i((r,e)=>{let t;switch(r.code){case Z.invalid_type:r.received===re.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Z.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ce.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ce.joinValues(r.keys,", ")}`;break;case Z.invalid_union:t="Invalid input";break;case Z.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ce.joinValues(r.options)}`;break;case Z.invalid_enum_value:t=`Invalid enum value. Expected ${Ce.joinValues(r.options)}, received '${r.received}'`;break;case Z.invalid_arguments:t="Invalid function arguments";break;case Z.invalid_return_type:t="Invalid function return type";break;case Z.invalid_date:t="Invalid date";break;case Z.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ce.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Z.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Z.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Z.custom:t="Invalid input";break;case Z.invalid_intersection_types:t="Intersection results could not be merged";break;case Z.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Z.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ce.assertNever(r)}return{message:t}},"errorMap"),$0=co;function zh(){return $0}i(zh,"getErrorMap");var R0=i(r=>{let{data:e,path:t,errorMaps:a,issueData:s}=r,n=[...t,...s.path||[]],o={...s,path:n};if(s.message!==void 0)return{...s,path:n,message:s.message};let l="",h=a.filter(d=>!!d).slice().reverse();for(let d of h)l=d(o,{data:e,defaultError:l}).message;return{...s,path:n,message:l}},"makeIssue");function Y(r,e){let t=zh(),a=R0({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===co?void 0:co].filter(s=>!!s)});r.common.issues.push(a)}i(Y,"addIssueToContext");var Rr,yt=(Rr=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let a=[];for(let s of t){if(s.status==="aborted")return ge;s.status==="dirty"&&e.dirty(),a.push(s.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){let a=[];for(let s of t){let n=await s.key,o=await s.value;a.push({key:n,value:o})}return Rr.mergeObjectSync(e,a)}static mergeObjectSync(e,t){let a={};for(let s of t){let{key:n,value:o}=s;if(n.status==="aborted"||o.status==="aborted")return ge;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[n.value]=o.value)}return{status:e.value,value:a}}},i(Rr,"ParseStatus"),Rr),ge=Object.freeze({status:"aborted"}),ho=i(r=>({status:"dirty",value:r}),"DIRTY"),ut=i(r=>({status:"valid",value:r}),"OK"),cc=i(r=>r.status==="aborted","isAborted"),hc=i(r=>r.status==="dirty","isDirty"),Xs=i(r=>r.status==="valid","isValid"),ln=i(r=>typeof Promise<"u"&&r instanceof Promise,"isAsync");function wi(r,e,t,a){if(t==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(r):a?a.value:e.get(r)}i(wi,"__classPrivateFieldGet");function Uo(r,e,t,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t}i(Uo,"__classPrivateFieldSet");var ie;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));var ui,pi,$a,mr=($a=class{constructor(e,t,a,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},i($a,"ParseInputLazyPath"),$a),dc=i((r,e)=>{if(Xs(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Vr(r.common.issues);return this._error=t,this._error}}},"handleResult");function ve(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:a,description:s}=r;if(e&&(t||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:i((n,o)=>{var l,h;let{message:d}=r;return n.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(l=d??a)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(h=d??t)!==null&&h!==void 0?h:o.defaultError}},"customMap"),description:s}}i(ve,"processCreateParams");var Ra,Se=(Ra=class{get description(){return this._def.description}_getType(e){return nr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:nr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yt,ctx:{common:e.parent.common,data:e.data,parsedType:nr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ln(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;let s={common:{issues:[],async:(a=t==null?void 0:t.async)!==null&&a!==void 0?a:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nr(e)},n=this._parseSync({data:e,path:s.path,parent:s});return dc(s,n)}"~validate"(e){var t,a;let s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nr(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:s});return Xs(n)?{value:n.value}:{issues:s.common.issues}}catch(n){!((a=(t=n==null?void 0:n.message)===null||t===void 0?void 0:t.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(n=>Xs(n)?{value:n.value}:{issues:s.common.issues})}async parseAsync(e,t){let a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){let a={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nr(e)},s=this._parse({data:e,path:a.path,parent:a}),n=await(ln(s)?s:Promise.resolve(s));return dc(a,n)}refine(e,t){let a=i(s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t,"getIssueProperties");return this._refinement((s,n)=>{let o=e(s),l=i(()=>n.addIssue({code:Z.custom,...a(s)}),"setError");return typeof Promise<"u"&&o instanceof Promise?o.then(h=>h?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((a,s)=>e(a)?!0:(s.addIssue(typeof t=="function"?t(a,s):t),!1))}_refinement(e){return new Js({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i(t=>this["~validate"](t),"validate")}}optional(){return hr.create(this,this._def)}nullable(){return xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ki.create(this)}promise(){return fo.create(this,this._def)}or(e){return uo.create([this,e],this._def)}and(e){return po.create(this,e,this._def)}transform(e){return new Js({...ve(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new mo({...ve(this._def),innerType:this,defaultValue:t,typeName:j.ZodDefault})}brand(){return new X0({typeName:j.ZodBranded,type:this,...ve(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new go({...ve(this._def),innerType:this,catchValue:t,typeName:j.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return J0.create(this,e)}readonly(){return bo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},i(Ra,"ZodType"),Ra),z0=/^c[^\s-]{8,}$/i,N0=/^[0-9a-z]+$/,H0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Z0=/^[a-z0-9_-]{21}$/i,j0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,B0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,V0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Yn,F0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,G0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Y0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Nh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q0=new RegExp(`^${Nh}$`);function Vo(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}i(Vo,"timeRegexSource");function Hh(r){return new RegExp(`^${Vo(r)}$`)}i(Hh,"timeRegex");function Dh(r){let e=`${Nh}T${Vo(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}i(Dh,"datetimeRegex");function Zh(r,e){return!!((e==="v4"||!e)&&F0.test(r)||(e==="v6"||!e)&&G0.test(r))}i(Zh,"isValidIP");function jh(r,e){if(!j0.test(r))return!1;try{let[t]=r.split("."),a=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}i(jh,"isValidJWT");function Bh(r,e){return!!((e==="v4"||!e)&&q0.test(r)||(e==="v6"||!e)&&W0.test(r))}i(Bh,"isValidCidr");var It,uc=(It=class extends Se{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){let s=this._getOrReturnCtx(e);return Y(s,{code:Z.invalid_type,expected:re.string,received:s.parsedType}),ge}let t=new yt,a;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if(s.kind==="length"){let n=e.data.length>s.value,o=e.data.length<s.value;(n||o)&&(a=this._getOrReturnCtx(e,a),n?Y(a,{code:Z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Y(a,{code:Z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if(s.kind==="email")U0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"email",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="emoji")Yn||(Yn=new RegExp(V0,"u")),Yn.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"emoji",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="uuid")D0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"uuid",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="nanoid")Z0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"nanoid",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="cuid")z0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"cuid",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="cuid2")N0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"cuid2",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="ulid")H0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"ulid",code:Z.invalid_string,message:s.message}),t.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Y(a,{validation:"url",code:Z.invalid_string,message:s.message}),t.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"regex",code:Z.invalid_string,message:s.message}),t.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty()):s.kind==="datetime"?Dh(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.invalid_string,validation:"datetime",message:s.message}),t.dirty()):s.kind==="date"?Q0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.invalid_string,validation:"date",message:s.message}),t.dirty()):s.kind==="time"?Hh(s).test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.invalid_string,validation:"time",message:s.message}),t.dirty()):s.kind==="duration"?B0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"duration",code:Z.invalid_string,message:s.message}),t.dirty()):s.kind==="ip"?Zh(e.data,s.version)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"ip",code:Z.invalid_string,message:s.message}),t.dirty()):s.kind==="jwt"?jh(e.data,s.alg)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"jwt",code:Z.invalid_string,message:s.message}),t.dirty()):s.kind==="cidr"?Bh(e.data,s.version)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"cidr",code:Z.invalid_string,message:s.message}),t.dirty()):s.kind==="base64"?K0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"base64",code:Z.invalid_string,message:s.message}),t.dirty()):s.kind==="base64url"?Y0.test(e.data)||(a=this._getOrReturnCtx(e,a),Y(a,{validation:"base64url",code:Z.invalid_string,message:s.message}),t.dirty()):Ce.assertNever(s);return{status:t.value,value:e.data}}_regex(e,t,a){return this.refinement(s=>e.test(s),{validation:t,code:Z.invalid_string,...ie.errToObj(a)})}_addCheck(e){return new It({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ie.errToObj(e)})}datetime(e){var t,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(a=e==null?void 0:e.local)!==null&&a!==void 0?a:!1,...ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ie.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ie.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ie.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ie.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ie.errToObj(t)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new It({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new It({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new It({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}},i(It,"ZodString"),It);uc.create=r=>{var e;return new uc({checks:[],typeName:j.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...ve(r)})};function Uh(r,e){let t=(r.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,s=t>a?t:a,n=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return n%o/Math.pow(10,s)}i(Uh,"floatSafeRemainder");var dr,pc=(dr=class extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){let s=this._getOrReturnCtx(e);return Y(s,{code:Z.invalid_type,expected:re.number,received:s.parsedType}),ge}let t,a=new yt;for(let s of this._def.checks)s.kind==="int"?Ce.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Uh(e.data,s.value)!==0&&(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.not_finite,message:s.message}),a.dirty()):Ce.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ie.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ie.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ie.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ie.toString(t))}setLimit(e,t,a,s){return new dr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:ie.toString(s)}]})}_addCheck(e){return new dr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(t===null||a.value>t)&&(t=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}},i(dr,"ZodNumber"),dr);pc.create=r=>new pc({checks:[],typeName:j.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...ve(r)});var ur,fc=(ur=class extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let t,a=new yt;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Y(t,{code:Z.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):Ce.assertNever(s);return{status:a.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.bigint,received:t.parsedType}),ge}gte(e,t){return this.setLimit("min",e,!0,ie.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ie.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ie.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ie.toString(t))}setLimit(e,t,a,s){return new ur({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:ie.toString(s)}]})}_addCheck(e){return new ur({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}},i(ur,"ZodBigInt"),ur);fc.create=r=>{var e;return new fc({checks:[],typeName:j.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...ve(r)})};var za,mc=(za=class extends Se{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.boolean,received:t.parsedType}),ge}return ut(e.data)}},i(za,"ZodBoolean"),za);mc.create=r=>new mc({typeName:j.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...ve(r)});var zr,gc=(zr=class extends Se{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){let s=this._getOrReturnCtx(e);return Y(s,{code:Z.invalid_type,expected:re.date,received:s.parsedType}),ge}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return Y(s,{code:Z.invalid_date}),ge}let t=new yt,a;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),Y(a,{code:Z.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):Ce.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}},i(zr,"ZodDate"),zr);gc.create=r=>new gc({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:j.ZodDate,...ve(r)});var Na,bc=(Na=class extends Se{_parse(e){if(this._getType(e)!==re.symbol){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.symbol,received:t.parsedType}),ge}return ut(e.data)}},i(Na,"ZodSymbol"),Na);bc.create=r=>new bc({typeName:j.ZodSymbol,...ve(r)});var Ha,yc=(Ha=class extends Se{_parse(e){if(this._getType(e)!==re.undefined){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.undefined,received:t.parsedType}),ge}return ut(e.data)}},i(Ha,"ZodUndefined"),Ha);yc.create=r=>new yc({typeName:j.ZodUndefined,...ve(r)});var Da,vc=(Da=class extends Se{_parse(e){if(this._getType(e)!==re.null){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.null,received:t.parsedType}),ge}return ut(e.data)}},i(Da,"ZodNull"),Da);vc.create=r=>new vc({typeName:j.ZodNull,...ve(r)});var Za,wc=(Za=class extends Se{constructor(){super(...arguments),this._any=!0}_parse(e){return ut(e.data)}},i(Za,"ZodAny"),Za);wc.create=r=>new wc({typeName:j.ZodAny,...ve(r)});var ja,kc=(ja=class extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ut(e.data)}},i(ja,"ZodUnknown"),ja);kc.create=r=>new kc({typeName:j.ZodUnknown,...ve(r)});var Ba,Fr=(Ba=class extends Se{_parse(e){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.never,received:t.parsedType}),ge}},i(Ba,"ZodNever"),Ba);Fr.create=r=>new Fr({typeName:j.ZodNever,...ve(r)});var Ua,xc=(Ua=class extends Se{_parse(e){if(this._getType(e)!==re.undefined){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.void,received:t.parsedType}),ge}return ut(e.data)}},i(Ua,"ZodVoid"),Ua);xc.create=r=>new xc({typeName:j.ZodVoid,...ve(r)});var Rt,ki=(Rt=class extends Se{_parse(e){let{ctx:t,status:a}=this._processInputParams(e),s=this._def;if(t.parsedType!==re.array)return Y(t,{code:Z.invalid_type,expected:re.array,received:t.parsedType}),ge;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,l=t.data.length<s.exactLength.value;(o||l)&&(Y(t,{code:o?Z.too_big:Z.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Y(t,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Y(t,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>s.type._parseAsync(new mr(t,o,t.path,l)))).then(o=>yt.mergeArray(a,o));let n=[...t.data].map((o,l)=>s.type._parseSync(new mr(t,o,t.path,l)));return yt.mergeArray(a,n)}get element(){return this._def.type}min(e,t){return new Rt({...this._def,minLength:{value:e,message:ie.toString(t)}})}max(e,t){return new Rt({...this._def,maxLength:{value:e,message:ie.toString(t)}})}length(e,t){return new Rt({...this._def,exactLength:{value:e,message:ie.toString(t)}})}nonempty(e){return this.min(1,e)}},i(Rt,"ZodArray"),Rt);ki.create=(r,e)=>new ki({type:r,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...ve(e)});function Er(r){if(r instanceof gr){let e={};for(let t in r.shape){let a=r.shape[t];e[t]=hr.create(Er(a))}return new gr({...r._def,shape:i(()=>e,"shape")})}else return r instanceof ki?new ki({...r._def,type:Er(r.element)}):r instanceof hr?hr.create(Er(r.unwrap())):r instanceof xi?xi.create(Er(r.unwrap())):r instanceof hn?hn.create(r.items.map(e=>Er(e))):r}i(Er,"deepPartialify");var Je,gr=(Je=class extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Ce.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==re.object){let h=this._getOrReturnCtx(e);return Y(h,{code:Z.invalid_type,expected:re.object,received:h.parsedType}),ge}let{status:t,ctx:a}=this._processInputParams(e),{shape:s,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof Fr&&this._def.unknownKeys==="strip"))for(let h in a.data)n.includes(h)||o.push(h);let l=[];for(let h of n){let d=s[h],m=a.data[h];l.push({key:{status:"valid",value:h},value:d._parse(new mr(a,m,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof Fr){let h=this._def.unknownKeys;if(h==="passthrough")for(let d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(h==="strict")o.length>0&&(Y(a,{code:Z.unrecognized_keys,keys:o}),t.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let h=this._def.catchall;for(let d of o){let m=a.data[d];l.push({key:{status:"valid",value:d},value:h._parse(new mr(a,m,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let h=[];for(let d of l){let m=await d.key,b=await d.value;h.push({key:m,value:b,alwaysSet:d.alwaysSet})}return h}).then(h=>yt.mergeObjectSync(t,h)):yt.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return new Je({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:i((t,a)=>{var s,n,o,l;let h=(o=(n=(s=this._def).errorMap)===null||n===void 0?void 0:n.call(s,t,a).message)!==null&&o!==void 0?o:a.defaultError;return t.code==="unrecognized_keys"?{message:(l=ie.errToObj(e).message)!==null&&l!==void 0?l:h}:{message:h}},"errorMap")}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(e){return new Je({...this._def,shape:i(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new Je({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:i(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:j.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Je({...this._def,catchall:e})}pick(e){let t={};return Ce.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])}),new Je({...this._def,shape:i(()=>t,"shape")})}omit(e){let t={};return Ce.objectKeys(this.shape).forEach(a=>{e[a]||(t[a]=this.shape[a])}),new Je({...this._def,shape:i(()=>t,"shape")})}deepPartial(){return Er(this)}partial(e){let t={};return Ce.objectKeys(this.shape).forEach(a=>{let s=this.shape[a];e&&!e[a]?t[a]=s:t[a]=s.optional()}),new Je({...this._def,shape:i(()=>t,"shape")})}required(e){let t={};return Ce.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])t[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof hr;)s=s._def.innerType;t[a]=s}}),new Je({...this._def,shape:i(()=>t,"shape")})}keyof(){return Fo(Ce.objectKeys(this.shape))}},i(Je,"ZodObject"),Je);gr.create=(r,e)=>new gr({shape:i(()=>r,"shape"),unknownKeys:"strip",catchall:Fr.create(),typeName:j.ZodObject,...ve(e)});gr.strictCreate=(r,e)=>new gr({shape:i(()=>r,"shape"),unknownKeys:"strict",catchall:Fr.create(),typeName:j.ZodObject,...ve(e)});gr.lazycreate=(r,e)=>new gr({shape:r,unknownKeys:"strip",catchall:Fr.create(),typeName:j.ZodObject,...ve(e)});var Va,uo=(Va=class extends Se{_parse(e){let{ctx:t}=this._processInputParams(e),a=this._def.options;function s(n){for(let l of n)if(l.result.status==="valid")return l.result;for(let l of n)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;let o=n.map(l=>new Vr(l.ctx.common.issues));return Y(t,{code:Z.invalid_union,unionErrors:o}),ge}if(i(s,"handleResults"),t.common.async)return Promise.all(a.map(async n=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let n,o=[];for(let h of a){let d={...t,common:{...t.common,issues:[]},parent:null},m=h._parseSync({data:t.data,path:t.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!n&&(n={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;let l=o.map(h=>new Vr(h));return Y(t,{code:Z.invalid_union,unionErrors:l}),ge}}get options(){return this._def.options}},i(Va,"ZodUnion"),Va);uo.create=(r,e)=>new uo({options:r,typeName:j.ZodUnion,...ve(e)});function cn(r,e){let t=nr(r),a=nr(e);if(r===e)return{valid:!0,data:r};if(t===re.object&&a===re.object){let s=Ce.objectKeys(e),n=Ce.objectKeys(r).filter(l=>s.indexOf(l)!==-1),o={...r,...e};for(let l of n){let h=cn(r[l],e[l]);if(!h.valid)return{valid:!1};o[l]=h.data}return{valid:!0,data:o}}else if(t===re.array&&a===re.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let n=0;n<r.length;n++){let o=r[n],l=e[n],h=cn(o,l);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return t===re.date&&a===re.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}i(cn,"mergeValues");var Fa,po=(Fa=class extends Se{_parse(e){let{status:t,ctx:a}=this._processInputParams(e),s=i((n,o)=>{if(cc(n)||cc(o))return ge;let l=cn(n.value,o.value);return l.valid?((hc(n)||hc(o))&&t.dirty(),{status:t.value,value:l.data}):(Y(a,{code:Z.invalid_intersection_types}),ge)},"handleParsed");return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([n,o])=>s(n,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}},i(Fa,"ZodIntersection"),Fa);po.create=(r,e,t)=>new po({left:r,right:e,typeName:j.ZodIntersection,...ve(t)});var Nr,hn=(Nr=class extends Se{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==re.array)return Y(a,{code:Z.invalid_type,expected:re.array,received:a.parsedType}),ge;if(a.data.length<this._def.items.length)return Y(a,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&a.data.length>this._def.items.length&&(Y(a,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...a.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new mr(a,n,a.path,o)):null}).filter(n=>!!n);return a.common.async?Promise.all(s).then(n=>yt.mergeArray(t,n)):yt.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Nr({...this._def,rest:e})}},i(Nr,"ZodTuple"),Nr);hn.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hn({items:r,typeName:j.ZodTuple,rest:null,...ve(e)})};var qa,_c=(qa=class extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==re.map)return Y(a,{code:Z.invalid_type,expected:re.map,received:a.parsedType}),ge;let s=this._def.keyType,n=this._def.valueType,o=[...a.data.entries()].map(([l,h],d)=>({key:s._parse(new mr(a,l,a.path,[d,"key"])),value:n._parse(new mr(a,h,a.path,[d,"value"]))}));if(a.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let h of o){let d=await h.key,m=await h.value;if(d.status==="aborted"||m.status==="aborted")return ge;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),l.set(d.value,m.value)}return{status:t.value,value:l}})}else{let l=new Map;for(let h of o){let d=h.key,m=h.value;if(d.status==="aborted"||m.status==="aborted")return ge;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),l.set(d.value,m.value)}return{status:t.value,value:l}}}},i(qa,"ZodMap"),qa);_c.create=(r,e,t)=>new _c({valueType:e,keyType:r,typeName:j.ZodMap,...ve(t)});var pr,Sc=(pr=class extends Se{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==re.set)return Y(a,{code:Z.invalid_type,expected:re.set,received:a.parsedType}),ge;let s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(Y(a,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(Y(a,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let n=this._def.valueType;function o(h){let d=new Set;for(let m of h){if(m.status==="aborted")return ge;m.status==="dirty"&&t.dirty(),d.add(m.value)}return{status:t.value,value:d}}i(o,"finalizeSet");let l=[...a.data.values()].map((h,d)=>n._parse(new mr(a,h,a.path,d)));return a.common.async?Promise.all(l).then(h=>o(h)):o(l)}min(e,t){return new pr({...this._def,minSize:{value:e,message:ie.toString(t)}})}max(e,t){return new pr({...this._def,maxSize:{value:e,message:ie.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}},i(pr,"ZodSet"),pr);Sc.create=(r,e)=>new Sc({valueType:r,minSize:null,maxSize:null,typeName:j.ZodSet,...ve(e)});var Ga,Ac=(Ga=class extends Se{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}},i(Ga,"ZodLazy"),Ga);Ac.create=(r,e)=>new Ac({getter:r,typeName:j.ZodLazy,...ve(e)});var Wa,Tc=(Wa=class extends Se{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return Y(t,{received:t.data,code:Z.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}},i(Wa,"ZodLiteral"),Wa);Tc.create=(r,e)=>new Tc({value:r,typeName:j.ZodLiteral,...ve(e)});function Fo(r,e){return new Vh({values:r,typeName:j.ZodEnum,...ve(e)})}i(Fo,"createZodEnum");var fr,Vh=(fr=class extends Se{constructor(){super(...arguments),ui.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),a=this._def.values;return Y(t,{expected:Ce.joinValues(a),received:t.parsedType,code:Z.invalid_type}),ge}if(wi(this,ui,"f")||Uo(this,ui,new Set(this._def.values),"f"),!wi(this,ui,"f").has(e.data)){let t=this._getOrReturnCtx(e),a=this._def.values;return Y(t,{received:t.data,code:Z.invalid_enum_value,options:a}),ge}return ut(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return fr.create(e,{...this._def,...t})}exclude(e,t=this._def){return fr.create(this.options.filter(a=>!e.includes(a)),{...this._def,...t})}},i(fr,"ZodEnum"),fr);ui=new WeakMap;Vh.create=Fo;var Ka,Cc=(Ka=class extends Se{constructor(){super(...arguments),pi.set(this,void 0)}_parse(e){let t=Ce.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==re.string&&a.parsedType!==re.number){let s=Ce.objectValues(t);return Y(a,{expected:Ce.joinValues(s),received:a.parsedType,code:Z.invalid_type}),ge}if(wi(this,pi,"f")||Uo(this,pi,new Set(Ce.getValidEnumValues(this._def.values)),"f"),!wi(this,pi,"f").has(e.data)){let s=Ce.objectValues(t);return Y(a,{received:a.data,code:Z.invalid_enum_value,options:s}),ge}return ut(e.data)}get enum(){return this._def.values}},i(Ka,"ZodNativeEnum"),Ka);pi=new WeakMap;Cc.create=(r,e)=>new Cc({values:r,typeName:j.ZodNativeEnum,...ve(e)});var Ya,fo=(Ya=class extends Se{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==re.promise&&t.common.async===!1)return Y(t,{code:Z.invalid_type,expected:re.promise,received:t.parsedType}),ge;let a=t.parsedType===re.promise?t.data:Promise.resolve(t.data);return ut(a.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}},i(Ya,"ZodPromise"),Ya);fo.create=(r,e)=>new fo({type:r,typeName:j.ZodPromise,...ve(e)});var Qa,Js=(Qa=class extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:a}=this._processInputParams(e),s=this._def.effect||null,n={addIssue:i(o=>{Y(a,o),o.fatal?t.abort():t.dirty()},"addIssue"),get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),s.type==="preprocess"){let o=s.transform(a.data,n);if(a.common.async)return Promise.resolve(o).then(async l=>{if(t.value==="aborted")return ge;let h=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return h.status==="aborted"?ge:h.status==="dirty"||t.value==="dirty"?ho(h.value):h});{if(t.value==="aborted")return ge;let l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?ge:l.status==="dirty"||t.value==="dirty"?ho(l.value):l}}if(s.type==="refinement"){let o=i(l=>{let h=s.refinement(l,n);if(a.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(a.common.async===!1){let l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?ge:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?ge:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(s.type==="transform")if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Xs(o))return o;let l=s.transform(o.value,n);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Xs(o)?Promise.resolve(s.transform(o.value,n)).then(l=>({status:t.value,value:l})):o);Ce.assertNever(s)}},i(Qa,"ZodEffects"),Qa);Js.create=(r,e,t)=>new Js({schema:r,typeName:j.ZodEffects,effect:e,...ve(t)});Js.createWithPreprocess=(r,e,t)=>new Js({schema:e,effect:{type:"preprocess",transform:r},typeName:j.ZodEffects,...ve(t)});var Xa,hr=(Xa=class extends Se{_parse(e){return this._getType(e)===re.undefined?ut(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}},i(Xa,"ZodOptional"),Xa);hr.create=(r,e)=>new hr({innerType:r,typeName:j.ZodOptional,...ve(e)});var Ja,xi=(Ja=class extends Se{_parse(e){return this._getType(e)===re.null?ut(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}},i(Ja,"ZodNullable"),Ja);xi.create=(r,e)=>new xi({innerType:r,typeName:j.ZodNullable,...ve(e)});var es,mo=(es=class extends Se{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return t.parsedType===re.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}},i(es,"ZodDefault"),es);mo.create=(r,e)=>new mo({innerType:r,typeName:j.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ve(e)});var ts,go=(ts=class extends Se{_parse(e){let{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return ln(s)?s.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Vr(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}},i(ts,"ZodCatch"),ts);go.create=(r,e)=>new go({innerType:r,typeName:j.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ve(e)});var rs,Ec=(rs=class extends Se{_parse(e){if(this._getType(e)!==re.nan){let t=this._getOrReturnCtx(e);return Y(t,{code:Z.invalid_type,expected:re.nan,received:t.parsedType}),ge}return{status:"valid",value:e.data}}},i(rs,"ZodNaN"),rs);Ec.create=r=>new Ec({typeName:j.ZodNaN,...ve(r)});var as,X0=(as=class extends Se{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}},i(as,"ZodBranded"),as),Hr,J0=(Hr=class extends Se{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return i(async()=>{let s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?ge:s.status==="dirty"?(t.dirty(),ho(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})},"handleAsync")();{let s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?ge:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(e,t){return new Hr({in:e,out:t,typeName:j.ZodPipeline})}},i(Hr,"ZodPipeline"),Hr),ss,bo=(ss=class extends Se{_parse(e){let t=this._def.innerType._parse(e),a=i(s=>(Xs(s)&&(s.value=Object.freeze(s.value)),s),"freeze");return ln(t)?t.then(s=>a(s)):a(t)}unwrap(){return this._def.innerType}},i(ss,"ZodReadonly"),ss);bo.create=(r,e)=>new bo({innerType:r,typeName:j.ZodReadonly,...ve(e)});var j;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(j||(j={}));var ef=Symbol("Let zodToJsonSchema decide on which parser to use"),Ic={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},tf=i(r=>typeof r=="string"?{...Ic,name:r}:{...Ic,...r},"getDefaultOptions"),rf=i(r=>{let e=tf(r),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([a,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,a],jsonSchema:void 0}]))}},"getRefs");function qo(r,e,t,a){a!=null&&a.errorMessages&&t&&(r.errorMessage={...r.errorMessage,[e]:t})}i(qo,"addErrorMessage");function Le(r,e,t,a,s){r[e]=t,qo(r,e,a,s)}i(Le,"setResponseValueAndErrors");function Fh(){return{}}i(Fh,"parseAnyDef");function qh(r,e){var a,s,n;let t={type:"array"};return(a=r.type)!=null&&a._def&&((n=(s=r.type)==null?void 0:s._def)==null?void 0:n.typeName)!==j.ZodAny&&(t.items=Ee(r.type._def,{...e,currentPath:[...e.currentPath,"items"]})),r.minLength&&Le(t,"minItems",r.minLength.value,r.minLength.message,e),r.maxLength&&Le(t,"maxItems",r.maxLength.value,r.maxLength.message,e),r.exactLength&&(Le(t,"minItems",r.exactLength.value,r.exactLength.message,e),Le(t,"maxItems",r.exactLength.value,r.exactLength.message,e)),t}i(qh,"parseArrayDef");function Gh(r,e){let t={type:"integer",format:"int64"};if(!r.checks)return t;for(let a of r.checks)switch(a.kind){case"min":e.target==="jsonSchema7"?a.inclusive?Le(t,"minimum",a.value,a.message,e):Le(t,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(t.exclusiveMinimum=!0),Le(t,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?Le(t,"maximum",a.value,a.message,e):Le(t,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(t.exclusiveMaximum=!0),Le(t,"maximum",a.value,a.message,e));break;case"multipleOf":Le(t,"multipleOf",a.value,a.message,e);break}return t}i(Gh,"parseBigintDef");function Wh(){return{type:"boolean"}}i(Wh,"parseBooleanDef");function Go(r,e){return Ee(r.type._def,e)}i(Go,"parseBrandedDef");var af=i((r,e)=>Ee(r.innerType._def,e),"parseCatchDef");function Wo(r,e,t){let a=t??e.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((s,n)=>Wo(r,e,s))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return sf(r,e)}}i(Wo,"parseDateDef");var sf=i((r,e)=>{let t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(let a of r.checks)switch(a.kind){case"min":Le(t,"minimum",a.value,a.message,e);break;case"max":Le(t,"maximum",a.value,a.message,e);break}return t},"integerDateParser");function Kh(r,e){return{...Ee(r.innerType._def,e),default:r.defaultValue()}}i(Kh,"parseDefaultDef");function Yh(r,e){return e.effectStrategy==="input"?Ee(r.schema._def,e):{}}i(Yh,"parseEffectsDef");function Qh(r){return{type:"string",enum:Array.from(r.values)}}i(Qh,"parseEnumDef");var nf=i(r=>"type"in r&&r.type==="string"?!1:"allOf"in r,"isJsonSchema7AllOfType");function Xh(r,e){let t=[Ee(r.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ee(r.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(n=>!!n),a=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return t.forEach(n=>{if(nf(n))s.push(...n.allOf),n.unevaluatedProperties===void 0&&(a=void 0);else{let o=n;if("additionalProperties"in n&&n.additionalProperties===!1){let{additionalProperties:l,...h}=n;o=h}else a=void 0;s.push(o)}}),s.length?{allOf:s,...a}:void 0}i(Xh,"parseIntersectionDef");function Jh(r,e){let t=typeof r.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[r.value]}:{type:t==="bigint"?"integer":t,const:r.value}}i(Jh,"parseLiteralDef");var Qn,bt={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:i(()=>(Qn===void 0&&(Qn=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Qn),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ko(r,e){let t={type:"string"};if(r.checks)for(let a of r.checks)switch(a.kind){case"min":Le(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,a.value):a.value,a.message,e);break;case"max":Le(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":dt(t,"email",a.message,e);break;case"format:idn-email":dt(t,"idn-email",a.message,e);break;case"pattern:zod":Qe(t,bt.email,a.message,e);break}break;case"url":dt(t,"uri",a.message,e);break;case"uuid":dt(t,"uuid",a.message,e);break;case"regex":Qe(t,a.regex,a.message,e);break;case"cuid":Qe(t,bt.cuid,a.message,e);break;case"cuid2":Qe(t,bt.cuid2,a.message,e);break;case"startsWith":Qe(t,RegExp(`^${tn(a.value,e)}`),a.message,e);break;case"endsWith":Qe(t,RegExp(`${tn(a.value,e)}$`),a.message,e);break;case"datetime":dt(t,"date-time",a.message,e);break;case"date":dt(t,"date",a.message,e);break;case"time":dt(t,"time",a.message,e);break;case"duration":dt(t,"duration",a.message,e);break;case"length":Le(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,a.value):a.value,a.message,e),Le(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,a.value):a.value,a.message,e);break;case"includes":{Qe(t,RegExp(tn(a.value,e)),a.message,e);break}case"ip":{a.version!=="v6"&&dt(t,"ipv4",a.message,e),a.version!=="v4"&&dt(t,"ipv6",a.message,e);break}case"base64url":Qe(t,bt.base64url,a.message,e);break;case"jwt":Qe(t,bt.jwt,a.message,e);break;case"cidr":{a.version!=="v6"&&Qe(t,bt.ipv4Cidr,a.message,e),a.version!=="v4"&&Qe(t,bt.ipv6Cidr,a.message,e);break}case"emoji":Qe(t,bt.emoji(),a.message,e);break;case"ulid":{Qe(t,bt.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{dt(t,"binary",a.message,e);break}case"contentEncoding:base64":{Le(t,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Qe(t,bt.base64,a.message,e);break}}break}case"nanoid":Qe(t,bt.nanoid,a.message,e)}return t}i(Ko,"parseStringDef");function tn(r,e){return e.patternStrategy==="escape"?ed(r):r}i(tn,"escapeLiteralCheckValue");var of=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ed(r){let e="";for(let t=0;t<r.length;t++)of.has(r[t])||(e+="\\"),e+=r[t];return e}i(ed,"escapeNonAlphaNumeric");function dt(r,e,t,a){var s;r.format||(s=r.anyOf)!=null&&s.some(n=>n.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&a.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:e,...t&&a.errorMessages&&{errorMessage:{format:t}}})):Le(r,"format",e,t,a)}i(dt,"addFormat");function Qe(r,e,t,a){var s;r.pattern||(s=r.allOf)!=null&&s.some(n=>n.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&a.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:yo(e,a),...t&&a.errorMessages&&{errorMessage:{pattern:t}}})):Le(r,"pattern",yo(e,a),t,a)}i(Qe,"addPattern");function yo(r,e){var h;if(!e.applyRegexFlags||!r.flags)return r.source;let t={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},a=t.i?r.source.toLowerCase():r.source,s="",n=!1,o=!1,l=!1;for(let d=0;d<a.length;d++){if(n){s+=a[d],n=!1;continue}if(t.i){if(o){if(a[d].match(/[a-z]/)){l?(s+=a[d],s+=`${a[d-2]}-${a[d]}`.toUpperCase(),l=!1):a[d+1]==="-"&&((h=a[d+2])!=null&&h.match(/[a-z]/))?(s+=a[d],l=!0):s+=`${a[d]}${a[d].toUpperCase()}`;continue}}else if(a[d].match(/[a-z]/)){s+=`[${a[d]}${a[d].toUpperCase()}]`;continue}}if(t.m){if(a[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(t.s&&a[d]==="."){s+=o?`${a[d]}\r
`:`[${a[d]}\r
]`;continue}s+=a[d],a[d]==="\\"?n=!0:o&&a[d]==="]"?o=!1:!o&&a[d]==="["&&(o=!0)}return s}i(yo,"stringifyRegExpWithFlags");function Yo(r,e){var a,s,n,o,l,h;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((a=r.keyType)==null?void 0:a._def.typeName)===j.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((d,m)=>({...d,[m]:Ee(r.valueType._def,{...e,currentPath:[...e.currentPath,"properties",m]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let t={type:"object",additionalProperties:Ee(r.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return t;if(((s=r.keyType)==null?void 0:s._def.typeName)===j.ZodString&&((n=r.keyType._def.checks)!=null&&n.length)){let{type:d,...m}=Ko(r.keyType._def,e);return{...t,propertyNames:m}}else{if(((o=r.keyType)==null?void 0:o._def.typeName)===j.ZodEnum)return{...t,propertyNames:{enum:r.keyType._def.values}};if(((l=r.keyType)==null?void 0:l._def.typeName)===j.ZodBranded&&r.keyType._def.type._def.typeName===j.ZodString&&((h=r.keyType._def.type._def.checks)!=null&&h.length)){let{type:d,...m}=Go(r.keyType._def,e);return{...t,propertyNames:m}}}return t}i(Yo,"parseRecordDef");function td(r,e){if(e.mapStrategy==="record")return Yo(r,e);let t=Ee(r.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},a=Ee(r.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,a],minItems:2,maxItems:2}}}i(td,"parseMapDef");function rd(r){let e=r.values,t=Object.keys(r.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),a=Array.from(new Set(t.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:t}}i(rd,"parseNativeEnumDef");function ad(){return{not:{}}}i(ad,"parseNeverDef");function sd(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}i(sd,"parseNullDef");var dn={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function id(r,e){if(e.target==="openApi3")return Oc(r,e);let t=r.options instanceof Map?Array.from(r.options.values()):r.options;if(t.every(a=>a._def.typeName in dn&&(!a._def.checks||!a._def.checks.length))){let a=t.reduce((s,n)=>{let o=dn[n._def.typeName];return o&&!s.includes(o)?[...s,o]:s},[]);return{type:a.length>1?a:a[0]}}else if(t.every(a=>a._def.typeName==="ZodLiteral"&&!a.description)){let a=t.reduce((s,n)=>{let o=typeof n._def.value;switch(o){case"string":case"number":case"boolean":return[...s,o];case"bigint":return[...s,"integer"];case"object":if(n._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(a.length===t.length){let s=a.filter((n,o,l)=>l.indexOf(n)===o);return{type:s.length>1?s:s[0],enum:t.reduce((n,o)=>n.includes(o._def.value)?n:[...n,o._def.value],[])}}}else if(t.every(a=>a._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((a,s)=>[...a,...s._def.values.filter(n=>!a.includes(n))],[])};return Oc(r,e)}i(id,"parseUnionDef");var Oc=i((r,e)=>{let t=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((a,s)=>Ee(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(a=>!!a&&(!e.strictUnions||typeof a=="object"&&Object.keys(a).length>0));return t.length?{anyOf:t}:void 0},"asAnyOf");function nd(r,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return e.target==="openApi3"?{type:dn[r.innerType._def.typeName],nullable:!0}:{type:[dn[r.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let a=Ee(r.innerType._def,{...e,currentPath:[...e.currentPath]});return a&&"$ref"in a?{allOf:[a],nullable:!0}:a&&{...a,nullable:!0}}let t=Ee(r.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}i(nd,"parseNullableDef");function od(r,e){let t={type:"number"};if(!r.checks)return t;for(let a of r.checks)switch(a.kind){case"int":t.type="integer",qo(t,"type",a.message,e);break;case"min":e.target==="jsonSchema7"?a.inclusive?Le(t,"minimum",a.value,a.message,e):Le(t,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(t.exclusiveMinimum=!0),Le(t,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?Le(t,"maximum",a.value,a.message,e):Le(t,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(t.exclusiveMaximum=!0),Le(t,"maximum",a.value,a.message,e));break;case"multipleOf":Le(t,"multipleOf",a.value,a.message,e);break}return t}i(od,"parseNumberDef");function ld(r,e){let t=e.target==="openAi",a={type:"object",properties:{}},s=[],n=r.shape();for(let l in n){let h=n[l];if(h===void 0||h._def===void 0)continue;let d=hd(h);d&&t&&(h instanceof hr&&(h=h._def.innerType),h.isNullable()||(h=h.nullable()),d=!1);let m=Ee(h._def,{...e,currentPath:[...e.currentPath,"properties",l],propertyPath:[...e.currentPath,"properties",l]});m!==void 0&&(a.properties[l]=m,d||s.push(l))}s.length&&(a.required=s);let o=cd(r,e);return o!==void 0&&(a.additionalProperties=o),a}i(ld,"parseObjectDef");function cd(r,e){if(r.catchall._def.typeName!=="ZodNever")return Ee(r.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(r.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}i(cd,"decideAdditionalProperties");function hd(r){try{return r.isOptional()}catch{return!0}}i(hd,"safeIsOptional");var lf=i((r,e)=>{var a;if(e.currentPath.toString()===((a=e.propertyPath)==null?void 0:a.toString()))return Ee(r.innerType._def,e);let t=Ee(r.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},"parseOptionalDef"),cf=i((r,e)=>{if(e.pipeStrategy==="input")return Ee(r.in._def,e);if(e.pipeStrategy==="output")return Ee(r.out._def,e);let t=Ee(r.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),a=Ee(r.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,a].filter(s=>s!==void 0)}},"parsePipelineDef");function dd(r,e){return Ee(r.type._def,e)}i(dd,"parsePromiseDef");function ud(r,e){let t={type:"array",uniqueItems:!0,items:Ee(r.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return r.minSize&&Le(t,"minItems",r.minSize.value,r.minSize.message,e),r.maxSize&&Le(t,"maxItems",r.maxSize.value,r.maxSize.message,e),t}i(ud,"parseSetDef");function pd(r,e){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((t,a)=>Ee(t._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((t,a)=>a===void 0?t:[...t,a],[]),additionalItems:Ee(r.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((t,a)=>Ee(t._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((t,a)=>a===void 0?t:[...t,a],[])}}i(pd,"parseTupleDef");function fd(){return{not:{}}}i(fd,"parseUndefinedDef");function md(){return{}}i(md,"parseUnknownDef");var hf=i((r,e)=>Ee(r.innerType._def,e),"parseReadonlyDef"),df=i((r,e,t)=>{switch(e){case j.ZodString:return Ko(r,t);case j.ZodNumber:return od(r,t);case j.ZodObject:return ld(r,t);case j.ZodBigInt:return Gh(r,t);case j.ZodBoolean:return Wh();case j.ZodDate:return Wo(r,t);case j.ZodUndefined:return fd();case j.ZodNull:return sd(t);case j.ZodArray:return qh(r,t);case j.ZodUnion:case j.ZodDiscriminatedUnion:return id(r,t);case j.ZodIntersection:return Xh(r,t);case j.ZodTuple:return pd(r,t);case j.ZodRecord:return Yo(r,t);case j.ZodLiteral:return Jh(r,t);case j.ZodEnum:return Qh(r);case j.ZodNativeEnum:return rd(r);case j.ZodNullable:return nd(r,t);case j.ZodOptional:return lf(r,t);case j.ZodMap:return td(r,t);case j.ZodSet:return ud(r,t);case j.ZodLazy:return()=>r.getter()._def;case j.ZodPromise:return dd(r,t);case j.ZodNaN:case j.ZodNever:return ad();case j.ZodEffects:return Yh(r,t);case j.ZodAny:return Fh();case j.ZodUnknown:return md();case j.ZodDefault:return Kh(r,t);case j.ZodBranded:return Go(r,t);case j.ZodReadonly:return hf(r,t);case j.ZodCatch:return af(r,t);case j.ZodPipeline:return cf(r,t);case j.ZodFunction:case j.ZodVoid:case j.ZodSymbol:return;default:return(a=>{})()}},"selectParser");function Ee(r,e,t=!1){var l;let a=e.seen.get(r);if(e.override){let h=(l=e.override)==null?void 0:l.call(e,r,e,a,t);if(h!==ef)return h}if(a&&!t){let h=uf(a,e);if(h!==void 0)return h}let s={def:r,path:e.currentPath,jsonSchema:void 0};e.seen.set(r,s);let n=df(r,r.typeName,e),o=typeof n=="function"?Ee(n(),e):n;if(o&&ff(r,e,o),e.postProcess){let h=e.postProcess(o,r,e);return s.jsonSchema=o,h}return s.jsonSchema=o,o}i(Ee,"parseDef");var uf=i((r,e)=>{switch(e.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:pf(e.currentPath,r.path)};case"none":case"seen":return r.path.length<e.currentPath.length&&r.path.every((t,a)=>e.currentPath[a]===t)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},"get$ref"),pf=i((r,e)=>{let t=0;for(;t<r.length&&t<e.length&&r[t]===e[t];t++);return[(r.length-t).toString(),...e.slice(t)].join("/")},"getRelativePath"),ff=i((r,e,t)=>(r.description&&(t.description=r.description,e.markdownDescription&&(t.markdownDescription=r.description)),t),"addMeta"),mf=i((r,e)=>{let t=rf(e),a=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((h,[d,m])=>({...h,[d]:Ee(m._def,{...t,currentPath:[...t.basePath,t.definitionPath,d]},!0)??{}}),{}):void 0,s=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,n=Ee(r._def,s===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,s]},!1)??{},o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(n.title=o);let l=s===void 0?a?{...n,[t.definitionPath]:a}:n:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,s].join("/"),[t.definitionPath]:{...a,[s]:n}};return t.target==="jsonSchema7"?l.$schema="http://json-schema.org/draft-07/schema#":(t.target==="jsonSchema2019-09"||t.target==="openAi")&&(l.$schema="https://json-schema.org/draft/2019-09/schema#"),t.target==="openAi"&&("anyOf"in l||"oneOf"in l||"allOf"in l||"type"in l&&Array.isArray(l.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),l},"zodToJsonSchema"),un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={},Pe={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.toBig=fe.shrSL=fe.shrSH=fe.rotrSL=fe.rotrSH=fe.rotrBL=fe.rotrBH=fe.rotr32L=fe.rotr32H=fe.rotlSL=fe.rotlSH=fe.rotlBL=fe.rotlBH=fe.add5L=fe.add5H=fe.add4L=fe.add4H=fe.add3L=fe.add3H=void 0;fe.add=Xo;fe.fromBig=Tn;fe.split=Qo;var Qi=BigInt(2**32-1),vo=BigInt(32);function Tn(r,e=!1){return e?{h:Number(r&Qi),l:Number(r>>vo&Qi)}:{h:Number(r>>vo&Qi)|0,l:Number(r&Qi)|0}}i(Tn,"fromBig");function Qo(r,e=!1){let t=r.length,a=new Uint32Array(t),s=new Uint32Array(t);for(let n=0;n<t;n++){let{h:o,l}=Tn(r[n],e);[a[n],s[n]]=[o,l]}return[a,s]}i(Qo,"split");var gd=i((r,e)=>BigInt(r>>>0)<<vo|BigInt(e>>>0),"toBig");fe.toBig=gd;var bd=i((r,e,t)=>r>>>t,"shrSH");fe.shrSH=bd;var yd=i((r,e,t)=>r<<32-t|e>>>t,"shrSL");fe.shrSL=yd;var vd=i((r,e,t)=>r>>>t|e<<32-t,"rotrSH");fe.rotrSH=vd;var wd=i((r,e,t)=>r<<32-t|e>>>t,"rotrSL");fe.rotrSL=wd;var kd=i((r,e,t)=>r<<64-t|e>>>t-32,"rotrBH");fe.rotrBH=kd;var xd=i((r,e,t)=>r>>>t-32|e<<64-t,"rotrBL");fe.rotrBL=xd;var _d=i((r,e)=>e,"rotr32H");fe.rotr32H=_d;var Sd=i((r,e)=>r,"rotr32L");fe.rotr32L=Sd;var Ad=i((r,e,t)=>r<<t|e>>>32-t,"rotlSH");fe.rotlSH=Ad;var Td=i((r,e,t)=>e<<t|r>>>32-t,"rotlSL");fe.rotlSL=Td;var Cd=i((r,e,t)=>e<<t-32|r>>>64-t,"rotlBH");fe.rotlBH=Cd;var Ed=i((r,e,t)=>r<<t-32|e>>>64-t,"rotlBL");fe.rotlBL=Ed;function Xo(r,e,t,a){let s=(e>>>0)+(a>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}i(Xo,"add");var Id=i((r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),"add3L");fe.add3L=Id;var Od=i((r,e,t,a)=>e+t+a+(r/2**32|0)|0,"add3H");fe.add3H=Od;var Ld=i((r,e,t,a)=>(r>>>0)+(e>>>0)+(t>>>0)+(a>>>0),"add4L");fe.add4L=Ld;var Md=i((r,e,t,a,s)=>e+t+a+s+(r/2**32|0)|0,"add4H");fe.add4H=Md;var Pd=i((r,e,t,a,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(a>>>0)+(s>>>0),"add5L");fe.add5L=Pd;var $d=i((r,e,t,a,s,n)=>e+t+a+s+n+(r/2**32|0)|0,"add5H");fe.add5H=$d;var gf={fromBig:Tn,split:Qo,toBig:gd,shrSH:bd,shrSL:yd,rotrSH:vd,rotrSL:wd,rotrBH:kd,rotrBL:xd,rotr32H:_d,rotr32L:Sd,rotlSH:Ad,rotlSL:Td,rotlBH:Cd,rotlBL:Ed,add:Xo,add3L:Id,add3H:Od,add4L:Ld,add4H:Md,add5H:$d,add5L:Pd};fe.default=gf;var Rd={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.crypto=void 0;Cn.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(r){var se;Object.defineProperty(r,"__esModule",{value:!0}),r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.Hash=r.nextTick=r.swap32IfBE=r.byteSwapIfBE=r.swap8IfBE=r.isLE=void 0,r.isBytes=t,r.anumber=a,r.abytes=s,r.ahash=n,r.aexists=o,r.aoutput=l,r.u8=h,r.u32=d,r.clean=m,r.createView=b,r.rotr=k,r.rotl=A,r.byteSwap=z,r.byteSwap32=I,r.bytesToHex=$,r.hexToBytes=pe,r.asyncLoop=E,r.utf8ToBytes=H,r.bytesToUtf8=le,r.toBytes=P,r.kdfInputToBytes=V,r.concatBytes=S,r.checkOpts=_,r.createHasher=he,r.createOptHasher=T,r.createXOFer=D,r.randomBytes=ee;let e=Cn;function t(x){return x instanceof Uint8Array||ArrayBuffer.isView(x)&&x.constructor.name==="Uint8Array"}i(t,"isBytes");function a(x){if(!Number.isSafeInteger(x)||x<0)throw new Error("positive integer expected, got "+x)}i(a,"anumber");function s(x,...q){if(!t(x))throw new Error("Uint8Array expected");if(q.length>0&&!q.includes(x.length))throw new Error("Uint8Array expected of length "+q+", got length="+x.length)}i(s,"abytes");function n(x){if(typeof x!="function"||typeof x.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");a(x.outputLen),a(x.blockLen)}i(n,"ahash");function o(x,q=!0){if(x.destroyed)throw new Error("Hash instance has been destroyed");if(q&&x.finished)throw new Error("Hash#digest() has already been called")}i(o,"aexists");function l(x,q){s(x);let we=q.outputLen;if(x.length<we)throw new Error("digestInto() expects output buffer of length at least "+we)}i(l,"aoutput");function h(x){return new Uint8Array(x.buffer,x.byteOffset,x.byteLength)}i(h,"u8");function d(x){return new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4))}i(d,"u32");function m(...x){for(let q=0;q<x.length;q++)x[q].fill(0)}i(m,"clean");function b(x){return new DataView(x.buffer,x.byteOffset,x.byteLength)}i(b,"createView");function k(x,q){return x<<32-q|x>>>q}i(k,"rotr");function A(x,q){return x<<q|x>>>32-q>>>0}i(A,"rotl"),r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function z(x){return x<<24&4278190080|x<<8&16711680|x>>>8&65280|x>>>24&255}i(z,"byteSwap"),r.swap8IfBE=r.isLE?x=>x:x=>z(x),r.byteSwapIfBE=r.swap8IfBE;function I(x){for(let q=0;q<x.length;q++)x[q]=z(x[q]);return x}i(I,"byteSwap32"),r.swap32IfBE=r.isLE?x=>x:I;let F=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",U=Array.from({length:256},(x,q)=>q.toString(16).padStart(2,"0"));function $(x){if(s(x),F)return x.toHex();let q="";for(let we=0;we<x.length;we++)q+=U[x[we]];return q}i($,"bytesToHex");let W={_0:48,_9:57,A:65,F:70,a:97,f:102};function ne(x){if(x>=W._0&&x<=W._9)return x-W._0;if(x>=W.A&&x<=W.F)return x-(W.A-10);if(x>=W.a&&x<=W.f)return x-(W.a-10)}i(ne,"asciiToBase16");function pe(x){if(typeof x!="string")throw new Error("hex string expected, got "+typeof x);if(F)return Uint8Array.fromHex(x);let q=x.length,we=q/2;if(q%2)throw new Error("hex string expected, got unpadded hex of length "+q);let _e=new Uint8Array(we);for(let be=0,Ie=0;be<we;be++,Ie+=2){let it=ne(x.charCodeAt(Ie)),vt=ne(x.charCodeAt(Ie+1));if(it===void 0||vt===void 0){let wt=x[Ie]+x[Ie+1];throw new Error('hex string expected, got non-hex character "'+wt+'" at index '+Ie)}_e[be]=it*16+vt}return _e}i(pe,"hexToBytes");let te=i(async()=>{},"nextTick");r.nextTick=te;async function E(x,q,we){let _e=Date.now();for(let be=0;be<x;be++){we(be);let Ie=Date.now()-_e;Ie>=0&&Ie<q||(await(0,r.nextTick)(),_e+=Ie)}}i(E,"asyncLoop");function H(x){if(typeof x!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(x))}i(H,"utf8ToBytes");function le(x){return new TextDecoder().decode(x)}i(le,"bytesToUtf8");function P(x){return typeof x=="string"&&(x=H(x)),s(x),x}i(P,"toBytes");function V(x){return typeof x=="string"&&(x=H(x)),s(x),x}i(V,"kdfInputToBytes");function S(...x){let q=0;for(let _e=0;_e<x.length;_e++){let be=x[_e];s(be),q+=be.length}let we=new Uint8Array(q);for(let _e=0,be=0;_e<x.length;_e++){let Ie=x[_e];we.set(Ie,be),be+=Ie.length}return we}i(S,"concatBytes");function _(x,q){if(q!==void 0&&{}.toString.call(q)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(x,q)}i(_,"checkOpts");let B=(se=class{},i(se,"Hash"),se);r.Hash=B;function he(x){let q=i(_e=>x().update(P(_e)).digest(),"hashC"),we=x();return q.outputLen=we.outputLen,q.blockLen=we.blockLen,q.create=()=>x(),q}i(he,"createHasher");function T(x){let q=i((_e,be)=>x(be).update(P(_e)).digest(),"hashC"),we=x({});return q.outputLen=we.outputLen,q.blockLen=we.blockLen,q.create=_e=>x(_e),q}i(T,"createOptHasher");function D(x){let q=i((_e,be)=>x(be).update(P(_e)).digest(),"hashC"),we=x({});return q.outputLen=we.outputLen,q.blockLen=we.blockLen,q.create=_e=>x(_e),q}i(D,"createXOFer"),r.wrapConstructor=he,r.wrapConstructorWithOpts=T,r.wrapXOFConstructorWithOpts=D;function ee(x=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(x));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(x));throw new Error("crypto.getRandomValues must be defined")}i(ee,"randomBytes")})(Rd);Object.defineProperty(Pe,"__esModule",{value:!0});Pe.shake256=Pe.shake128=Pe.keccak_512=Pe.keccak_384=Pe.keccak_256=Pe.keccak_224=Pe.sha3_512=Pe.sha3_384=Pe.sha3_256=Pe.sha3_224=Pe.Keccak=void 0;Pe.keccakP=Jo;var _i=fe,Xe=Rd,bf=BigInt(0),ci=BigInt(1),yf=BigInt(2),vf=BigInt(7),wf=BigInt(256),kf=BigInt(113),zd=[],Nd=[],Hd=[];for(let r=0,e=ci,t=1,a=0;r<24;r++){[t,a]=[a,(2*t+3*a)%5],zd.push(2*(5*a+t)),Nd.push((r+1)*(r+2)/2%64);let s=bf;for(let n=0;n<7;n++)e=(e<<ci^(e>>vf)*kf)%wf,e&yf&&(s^=ci<<(ci<<BigInt(n))-ci);Hd.push(s)}var Dd=(0,_i.split)(Hd,!0),xf=Dd[0],_f=Dd[1],Lc=i((r,e,t)=>t>32?(0,_i.rotlBH)(r,e,t):(0,_i.rotlSH)(r,e,t),"rotlH"),Mc=i((r,e,t)=>t>32?(0,_i.rotlBL)(r,e,t):(0,_i.rotlSL)(r,e,t),"rotlL");function Jo(r,e=24){let t=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let l=(o+8)%10,h=(o+2)%10,d=t[h],m=t[h+1],b=Lc(d,m,1)^t[l],k=Mc(d,m,1)^t[l+1];for(let A=0;A<50;A+=10)r[o+A]^=b,r[o+A+1]^=k}let s=r[2],n=r[3];for(let o=0;o<24;o++){let l=Nd[o],h=Lc(s,n,l),d=Mc(s,n,l),m=zd[o];s=r[m],n=r[m+1],r[m]=h,r[m+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)t[l]=r[o+l];for(let l=0;l<10;l++)r[o+l]^=~t[(l+2)%10]&t[(l+4)%10]}r[0]^=xf[a],r[1]^=_f[a]}(0,Xe.clean)(t)}i(Jo,"keccakP");var Dr,el=(Dr=class extends Xe.Hash{constructor(e,t,a,s=!1,n=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=a,this.enableXOF=s,this.rounds=n,(0,Xe.anumber)(a),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,Xe.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,Xe.swap32IfBE)(this.state32),Jo(this.state32,this.rounds),(0,Xe.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Xe.aexists)(this),e=(0,Xe.toBytes)(e),(0,Xe.abytes)(e);let{blockLen:t,state:a}=this,s=e.length;for(let n=0;n<s;){let o=Math.min(t-this.pos,s-n);for(let l=0;l<o;l++)a[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:a,blockLen:s}=this;e[a]^=t,(t&128)!==0&&a===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,Xe.aexists)(this,!1),(0,Xe.abytes)(e),this.finish();let t=this.state,{blockLen:a}=this;for(let s=0,n=e.length;s<n;){this.posOut>=a&&this.keccak();let o=Math.min(a-this.posOut,n-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Xe.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Xe.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,Xe.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:a,outputLen:s,rounds:n,enableXOF:o}=this;return e||(e=new Dr(t,a,s,o,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=a,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},i(Dr,"Keccak"),Dr);Pe.Keccak=el;var yr=i((r,e,t)=>(0,Xe.createHasher)(()=>new el(e,r,t)),"gen");Pe.sha3_224=yr(6,144,224/8);Pe.sha3_256=yr(6,136,256/8);Pe.sha3_384=yr(6,104,384/8);Pe.sha3_512=yr(6,72,512/8);Pe.keccak_224=yr(1,144,224/8);Pe.keccak_256=yr(1,136,256/8);Pe.keccak_384=yr(1,104,384/8);Pe.keccak_512=yr(1,72,512/8);var Zd=i((r,e,t)=>(0,Xe.createXOFer)((a={})=>new el(e,r,a.dkLen===void 0?t:a.dkLen,!0)),"genShake");Pe.shake128=Zd(31,168,128/8);Pe.shake256=Zd(31,136,256/8);var{sha3_512:Sf}=Pe,jd=24,gi=32,wo=i((r=4,e=Math.random)=>{let t="";for(;t.length<r;)t=t+Math.floor(e()*36).toString(36);return t},"createEntropy");function tl(r){let e=BigInt(8),t=BigInt(0);for(let a of r.values()){let s=BigInt(a);t=(t<<e)+s}return t}i(tl,"bufToBigInt");var Bd=i((r="")=>tl(Sf(r)).toString(36).slice(1),"hash"),Pc=Array.from({length:26},(r,e)=>String.fromCharCode(e+97)),Af=i(r=>Pc[Math.floor(r()*Pc.length)],"randomLetter"),Ud=i(({globalObj:r=typeof un<"u"?un:typeof window<"u"?window:{},random:e=Math.random}={})=>{let t=Object.keys(r).toString(),a=t.length?t+wo(gi,e):wo(gi,e);return Bd(a).substring(0,gi)},"createFingerprint"),Vd=i(r=>()=>r++,"createCounter"),Tf=476782367,Fd=i(({random:r=Math.random,counter:e=Vd(Math.floor(r()*Tf)),length:t=jd,fingerprint:a=Ud({random:r})}={})=>i(function(){let s=Af(r),n=Date.now().toString(36),o=e().toString(36),l=wo(t,r),h=`${n+l+o+a}`;return`${s+Bd(h).substring(1,t)}`},"cuid2"),"init$1"),Cf=Fd(),Ef=i((r,{minLength:e=2,maxLength:t=gi}={})=>{let a=r.length,s=/^[a-z][0-9a-z]+$/;try{if(typeof r=="string"&&a>=e&&a<=t&&s.test(r))return!0}finally{}return!1},"isCuid$1");br.getConstants=()=>({defaultLength:jd,bigLength:gi});br.init=Fd;br.createId=Cf;br.bufToBigInt=tl;br.createCounter=Vd;br.createFingerprint=Ud;br.isCuid=Ef;var{createId:If}=br,cr=If,ko="___$orama_user_id$___",Of="ssid";function qd(r,e){if(typeof navigator<"u"){typeof navigator.sendBeacon<"u"&&navigator.sendBeacon(r,e);return}fetch(r,{method:"POST",body:e,headers:{"Content-Type":"application/json"}}).then(()=>{},t=>console.log(t))}i(qd,"sendBeacon");var is,Lf=(is=class{constructor({endpoint:e,apiKey:t}){if(Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"userId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"identity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"userAlias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e||!t)throw new Error("Endpoint and API Key are required to create a Profile");if(typeof e!="string"||typeof t!="string")throw new Error("Endpoint and API Key must be strings");if(typeof localStorage<"u"){let a=localStorage.getItem(ko);a?this.userId=a:(this.userId=cr(),localStorage.setItem(ko,this.userId))}else this.userId=cr();this.endpoint=e,this.apiKey=t}setParams(e){let{protocol:t,host:a}=new URL(e.identifyUrl),s=`${t}//${a}/identify`;this.params={identifyUrl:s,index:e.index}}getIdentity(){return this.identity}getUserId(){return this.userId}getAlias(){return this.userAlias}async sendProfileData(e){var a;if(!this.params)throw new Error("Orama Profile is not initialized");let t=JSON.stringify({...e,visitorId:this.getUserId(),index:this.params.index});await qd(`${(a=this.params)==null?void 0:a.identifyUrl}?api-key=${this.apiKey}`,t)}async identify(e){if(typeof e!="string")throw new Error("Identity must be a string");await this.sendProfileData({entity:"identity",id:e}),this.identity=e}async alias(e){if(typeof e!="string")throw new Error("Identity must be a string");await this.sendProfileData({entity:"alias",id:e}),this.userAlias=e}reset(){this.userId=cr(),this.identity=void 0,this.userAlias=void 0}},i(is,"Profile"),is),Mf={PERFORM_ORAMA_SEARCH:"PERFORM_ORAMA_SEARCH",OPTIMIZE_QUERY:"OPTIMIZE_QUERY",GENERATE_QUERIES:"GENERATE_QUERIES",ACTION_PLAN:"ACTION_PLAN",ASK_FOLLOWUP:"ASK_FOLLOWUP",GIVE_REPLY:"GIVE_REPLY",GET_SEGMENT:"GET_SEGMENT",GET_TRIGGER:"GET_TRIGGER",SELECT_SEGMENT_PROBABILITY:"SELECT_SEGMENT_PROBABILITY",SELECT_TRIGGER_PROBABILITY:"SELECT_TRIGGER_PROBABILITY"},Pf=Object.values(Mf),ns,$f=(ns=class{constructor(e){Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"readAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"collectionID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oramaInterface",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"LLMConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sessionID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastInteractionParams",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.url=e.url,this.readAPIKey=e.readAPIKey,this.collectionID=e.collectionID,this.oramaInterface=new Mh({baseURL:this.url,readAPIKey:this.readAPIKey}),this.LLMConfig=e.LLMConfig,this.messages=e.initialMessages||[],this.events=e.events,this.sessionID=e.sessionID||cr()}async*answerStream(e){var l;this.lastInteractionParams={...e,planned:!1},e=this.enrichConfig(e),this.abortController=new AbortController,this.messages.push({role:"user",content:e.query}),this.messages.push({role:"assistant",content:""});let t=e.interactionID||cr();this.state.push({id:t,query:e.query,response:"",sources:null,loading:!0,error:!1,aborted:!1,errorMessage:null,planned:!1,plan:null,planExecution:{},segment:null,related:(l=e.related)!=null&&l.enabled?"":null}),this.pushState();let a=this.state.length-1,s=this.messages.length-1,n={interaction_id:t,query:e.query,visitor_id:e.visitorID,conversation_id:e.sessionID,messages:e.messages||[],llm_config:null,related:e.related};this.LLMConfig&&(n.llm_config=this.LLMConfig);let o=(await this.oramaInterface.requestStream({method:"POST",securityLevel:"read-query",url:`/v1/collections/${this.collectionID}/answer`,body:n})).getReader();for(;;){let{done:h,value:d}=await o.read();if(d!==void 0){let m=Pt(d.data);if(m.type==="response"){let{action:b,result:k}=Pt(m.message);switch(b){case"GET_SEGMENT":{if(k!==null){let A=Pt(k);if(!A)break;this.state[a].segment={id:A.id,name:A.name},this.pushState()}break}case"GET_TRIGGER":{if(k!==null){let A=Pt(k);if(!A)break;this.state[a].segment=A,this.pushState()}break}case"OPTIMIZING_QUERY":break;case"SEARCH_RESULTS":{let A=Pt(k);this.state[a].sources=A,this.pushState();break}case"ANSWER_RESPONSE":{this.state[a].response+=k,this.messages[s].content=this.state[a].response,yield this.state[a].response,this.pushState();break}case"RELATED_QUERIES":{this.state[a].related+=k,this.pushState();break}}}}if(h){this.state[a].loading=!1,this.pushState();break}}o.releaseLock()}async answer(e){this.lastInteractionParams={...e,planned:!1};let t="";for await(let a of this.answerStream(e))t=a;return t}async*reasonStream(e){this.lastInteractionParams={...e,planned:!0};for await(let t of this.fetchPlannedAnswer(e))yield this.state[this.state.length-1].response}async reason(e){this.lastInteractionParams={...e,planned:!0};for await(let t of this.fetchPlannedAnswer(e));return this.state[this.state.length-1].response}async*fetchPlannedAnswer(e){var o,l;e=this.enrichConfig(e),this.abortController=new AbortController,this.messages.push({role:"user",content:e.query}),this.messages.push({role:"assistant",content:""});let t=cr();this.state.push({id:t,query:e.query,response:"",sources:null,loading:!0,error:!1,aborted:!1,errorMessage:null,planned:!0,plan:null,planExecution:{},segment:null,related:(o=e.related)!=null&&o.enabled?"":null}),this.pushState();let a=this.state.length-1,s=this.messages.length-1,n=(await this.oramaInterface.requestStream({method:"POST",securityLevel:"read-query",url:`/v1/collections/${this.collectionID}/planned_answer`,body:{interaction_id:e.interactionID,query:e.query,visitor_id:e.visitorID,conversation_id:e.sessionID,messages:e.messages||[],llm_config:this.LLMConfig?this.LLMConfig:null,related:e.related},signal:(l=this.abortController)==null?void 0:l.signal})).getReader();for(;;){let{done:h,value:d}=await n.read();if(d!==void 0){if(d==="")continue;let m=Pt(d.data);if(m.type==="acknowledgement"){yield{action:"ACKNOWLEDGEMENT",message:"acknowledgement"};continue}if(m.type==="response"){if(m.message==="")continue;let b=Pt(m.message),k=b.action;if(k==="ACTION_PLAN"){let A=Pt(b.result);this.state[a].plan=A;let z={};for(let I of A)z[I.step]={instruction:I.description,result:"",done:!1};this.state[a].planExecution=z,this.pushState(),yield{action:"ACTION_PLAN",message:A};continue}if(k==="PERFORM_ORAMA_SEARCH"){let A=JSON.parse(b.result);this.state[a].sources=A,"PERFORM_ORAMA_SEARCH"in this.state[a].planExecution&&(this.state[a].planExecution.PERFORM_ORAMA_SEARCH.result=A,this.state[a].planExecution.PERFORM_ORAMA_SEARCH.done=!0),this.pushState(),yield{action:"PERFORM_ORAMA_SEARCH",message:A};continue}if(k==="ASK_FOLLOWUP"||k==="GIVE_REPLY"){this.state[a].response+=b.result,this.messages[s].content=this.state[a].response,this.state[a].planExecution[k].result+=b.result,this.state[a].planExecution[k].done=b.done,this.pushState(),yield{action:k,message:b.result};continue}if(k==="GET_SEGMENT"&&(this.state[a].segment={id:b.result.id,name:b.result.name},this.pushState()),k==="SELECT_SEGMENT_PROBABILITY"&&this.state[a].segment){let A=b.result.probability;this.state[a].segment.probability=A,this.pushState()}if(k==="GET_TRIGGER"&&(this.state[a].segment={id:b.result.id,name:b.result.name},this.pushState()),k==="SELECT_TRIGGER_PROBABILITY"&&this.state[a].segment){let A=b.result.probability;this.state[a].segment.probability=A,this.pushState()}if(k==="RELATED_QUERIES"){this.state[a].related+=b.result,this.pushState();break}Pf.includes(k)||(this.state[a].planExecution[k].result+=b.result,this.state[a].planExecution[k].done=b.done,this.pushState()),yield b}}if(h)break}n.releaseLock(),this.state[a].loading=!1,this.pushState()}async regenerateLast({stream:e=!0}={}){var t,a;if(this.state.length===0||this.messages.length===0)throw new Error("No messages to regenerate");if(((t=this.messages.at(-1))==null?void 0:t.role)!=="assistant")throw new Error("Last message is not an assistant message");return this.messages.pop(),this.state.pop(),(a=this.lastInteractionParams)!=null&&a.planned?e?this.reasonStream(this.lastInteractionParams):this.reason(this.lastInteractionParams):e?this.answerStream(this.lastInteractionParams):this.answer(this.lastInteractionParams)}abort(){if(!this.abortController)throw new Error("AbortController is not available.");if(this.state.length===0)throw new Error("There is no active request to abort.");this.abortController.abort(),this.abortController=void 0,this.state[this.state.length-1].aborted=!0}clearSession(){this.messages=[],this.state=[],this.pushState()}pushState(){var e,t;(t=(e=this.events)==null?void 0:e.onStateChange)==null||t.call(e,this.state)}enrichConfig(e){return e.visitorID||(e.visitorID=Gd()),e.interactionID||(e.interactionID=cr()),e.sessionID||(e.sessionID=this.sessionID),e}},i(ns,"AnswerSession"),ns);function Gd(){if(Rh())return Of;if(P0){let r=localStorage.getItem(ko);if(r)return r}return cr()}i(Gd,"getUserID");var os,Rf=(os=class{constructor(e){Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"collectionID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writeAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"readAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oramaInterface",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"profile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=e.url,this.writeAPIKey=e.writeAPIKey,this.readAPIKey=e.readAPIKey,this.collectionID=e.collectionID,this.oramaInterface=new Mh({baseURL:this.url,writeAPIKey:this.writeAPIKey,readAPIKey:this.readAPIKey}),this.profile=new Lf({endpoint:this.url,apiKey:this.readAPIKey})}async insert(e){Array.isArray(e)||(e=[e]),await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/insert`,body:e,method:"POST",securityLevel:"write"})}async delete(e){Array.isArray(e)||(e=[e]),await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/delete`,body:e,method:"POST",securityLevel:"write"})}async search(e){let t=+new Date,a=await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/search`,body:e,method:"POST",securityLevel:"read-query"}),s=+new Date-t;return{...a,elapsed:{raw:s,formatted:$h(s)}}}createAnswerSession(e){if(!this.readAPIKey)throw new Error("Read API key is required to create an answer session");return new $f({url:this.url,readAPIKey:this.readAPIKey||"",collectionID:this.collectionID,...e})}async insertHook(e){let t={name:e.name,code:e.code};return await this.oramaInterface.request({url:`/v1/collections/${e.collectionID}/hooks/create`,body:t,method:"POST",securityLevel:"write"}),{hookID:t.name,collectionID:e.collectionID,code:t.code}}insertSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/insert`,body:e,method:"POST",securityLevel:"write"})}getSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/get`,body:{segment_id:e},method:"GET",securityLevel:"read-query"})}getAllSegments(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/all`,method:"GET",securityLevel:"read-query"})}deleteSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/update`,body:e,method:"POST",securityLevel:"write"})}insertTrigger(e){if(!e.segment_id)throw new Error("You cannot insert a trigger without a segment_id");return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/insert`,body:e,method:"POST",securityLevel:"write"})}getTrigger(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/get`,body:{trigger_id:e},method:"GET",securityLevel:"read-query"})}getAllTriggers(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/all`,method:"GET",securityLevel:"read-query"})}deleteTrigger(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateTrigger(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/update`,body:e,method:"POST",securityLevel:"write"})}insertSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/insert`,body:e,method:"POST",securityLevel:"write"})}getSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/get`,body:{system_prompt_id:e},method:"GET",securityLevel:"read"})}getAllSystemPrompts(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/all`,method:"GET",securityLevel:"read-query"})}deleteSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/update`,body:e,method:"POST",securityLevel:"write"})}validateSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/validate`,body:e,method:"POST",securityLevel:"write"})}insertTool(e){let t;switch(!0){case typeof e.parameters=="string":t=e.parameters;break;case e.parameters instanceof Se:t=JSON.stringify(mf(e.parameters));break;case typeof e.parameters=="object":t=JSON.stringify(e.parameters);break;default:throw new Error("Invalid parameters type. Must be string, object or ZodType")}return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/insert`,body:{...e,parameters:t},method:"POST",securityLevel:"write"})}getTool(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/get`,body:{tool_id:e},method:"GET",securityLevel:"read-query"})}getAllTools(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/all`,method:"GET",securityLevel:"read-query"})}deleteTool(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateTool(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/update`,body:e,method:"POST",securityLevel:"write"})}async executeTools(e){let t=await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/run`,body:e,method:"POST",securityLevel:"read"});return console.log(t),t.results?{results:t.results.map(a=>({name:a.name,arguments:JSON.parse(a.arguments)}))}:{results:null}}getIdentity(){return this.profile.getIdentity()}getUserId(){return this.profile.getUserId()}getAlias(){return this.profile.getAlias()}async identify(e){await this.profile.identify(e)}async alias(e){await this.profile.alias(e)}reset(){this.profile.reset()}},i(os,"CollectionManager"),os);function Wd(r){return r&&typeof r=="object"&&"api_key"in r&&"endpoint"in r}i(Wd,"isOramaClient");function Kd(r){return r&&(r instanceof Rf||r.constructor.name==="CollectionManager")}i(Kd,"isOramaCoreClient");function Yd(r){return r&&typeof r=="object"&&"id"in r&&"tokenizer"in r}i(Yd,"isOramaJSClient");var ls,Qd=(ls=class{constructor(e){N(this,"invalidClientError","Invalid client. Expected either an OramaClient, CollectionManager, or an Orama JS database.");N(this,"client");N(this,"clientType");N(this,"isCloud",!1);N(this,"isJS",!1);N(this,"isCore",!1);switch(this.client=e,!0){case Kd(e):this.clientType="core",this.isCore=!0;break;case Wd(e):this.clientType="cloud",this.isCloud=!0;break;case Yd(e):this.clientType="oss",this.isJS=!0;break;default:throw new Error(this.invalidClientError)}}async search(e,t){switch(!0){case this.isCloud:return this.client.search(e,t);case this.isCore:return await this.client.search(e);case this.isJS:return Zo(this.client,e);default:throw new Error(this.invalidClientError)}}createAnswerSession(e){switch(!0){case this.isCloud:{let t=e;return this.client.createAnswerSession(t)}case this.isCore:{let t=e;return this.client.createAnswerSession(t)}case this.isJS:{let t=e;return new O0(this.client,{conversationID:t.conversationID,initialMessages:t.initialMessages,events:t.events,userContext:t.userContext,systemPrompt:t.systemPrompt})}default:throw new Error(this.invalidClientError)}}},i(ls,"Switch"),ls),zf=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(n){t[n]=r[n]&&function(o){return new Promise(function(l,h){o=r[n](o),s(l,h,o.done,o.value)})}}function s(n,o,l,h){Promise.resolve(h).then(function(d){n({value:d,done:l})},o)}},cs,Xd=(cs=class{constructor(e,t,a){this.sendQuestion=async(s,n,o)=>{if(!this.client)throw new di;let l={term:s};n!=null&&n.length&&this.answerSession&&"setSystemPromptConfiguration"in this.answerSession&&this.answerSession.setSystemPromptConfiguration(n);let h=this.chatStore.state.interactions;if(!this.answerSession)try{let d=this.chatStore.state.interactions;try{this.answerSession=this.client.createAnswerSession({events:{onStateChange:i(m=>{let b=m.filter(k=>!!k.query);this.chatStore.state.interactions=[...d||[],...b.map((k,A)=>{var z,I,F;let U=m.length-1===A,$=et.loading,W=[];return k.aborted?$=et.aborted:k.loading&&k.sources?$=et.rendering:k.loading&&k.response?$=et.streaming:!k.loading&&k.response&&($=et.done),k.sources&&(W=Array.isArray(k.sources)?(z=k.sources)===null||z===void 0?void 0:z.map(ne=>ne.document):(I=k.sources.hits)===null||I===void 0?void 0:I.map(ne=>ne.document)),U&&$===et.done&&((F=o==null?void 0:o.onAnswerGeneratedCallback)===null||F===void 0||F.call(o,{askParams:l,query:k.query,sources:k.sources,answer:k.response,segment:k.segment,trigger:k.trigger})),{query:k.query,interactionId:k.interactionId||k.id,response:k.response,relatedQueries:k.relatedQueries,status:$,latest:U,sources:W}})]},"onStateChange")}})}catch(m){console.error("Client does not support createAnswerSession method:",m),this.chatStore.state.interactions=[...d||[],{query:s,interactionId:`interaction-${Date.now()}`,response:"Sorry, this client does not support chat functionality.",status:et.error,latest:!0,sources:[]}];return}}catch(d){console.error("Error creating answer session:",d),this.chatStore.state.interactions=[...h||[],{query:s,interactionId:`interaction-${Date.now()}`,response:"Sorry, there was an error creating the answer session. Please try again later.",status:et.error,latest:!0,sources:[]}];return}if(!this.answerSession){console.error("Answer session was not created");return}try{this.answerSession.answer?this.askOramaCore(s):this.askOramaCloud(s)}catch{let d=this.chatStore.state.interactions[this.chatStore.state.interactions.length-1];d&&(d.status=et.error,d.response="Sorry, the answer service is not available. Please try again later.",this.chatStore.state.interactions=[...this.chatStore.state.interactions])}},this.askOramaCore=s=>{let n={interactionID:`interaction-${Date.now()}`,query:s,visitorID:`visitor-${Date.now()}`,sessionID:`session-${Date.now()}`},o=this.answerSession.answerStream(n);i(async()=>{var l,h,d;try{for(var m=!0,b=zf(o),k;k=await b.next(),l=k.done,!l;m=!0)m=!1}catch(A){h={error:A}}finally{try{!m&&!l&&(d=b.return)&&await d.call(b)}finally{if(h)throw h.error}}},"processAsyncGenerator")()},this.askOramaCloud=s=>{let n={term:s,limit:10,threshold:.5,userData:{interactionID:`interaction-${Date.now()}`,sessionID:`session-${Date.now()}`,visitorID:`visitor-${Date.now()}`}};this.answerSession.ask(n)},this.abortAnswer=()=>{if(!this.answerSession)throw new di;this.answerSession.abort?this.answerSession.abort():this.answerSession.abortAnswer()},this.regenerateLatest=async()=>{if(!this.answerSession)throw new di;this.answerSession.regenerateLast?this.answerSession.regenerateLast({stream:!1}):this.answerSession.regenerateLast({stream:!1})},this.resetChat=async()=>{if(!this.answerSession)throw new di;this.chatStore.state.interactions.length<1||(["loading","rendering","streaming"].includes(this.chatStore.state.interactions[this.chatStore.state.interactions.length-1].status)&&this.abortAnswer(),this.answerSession.clearSession(),this.chatStore.state.interactions=[])},this.client=t||new Qd(e),this.chatStore=a}},i(cs,"ChatService"),cs),Nf=Object.defineProperty,Hf=Object.getOwnPropertyDescriptor,$i=i((r,e,t,a)=>{for(var s=a>1?void 0:a?Hf(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&Nf(e,t,s),s},"o$3"),hs,Ut=(hs=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ut.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(hs,"t$8"),hs);Ut.weightsMap=new Map([["thin",L`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",L`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",L`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",L`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",L`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",L`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]);Ut.styles=Ve`
    :host {
      display: contents;
    }
  `;$i([K({type:String,reflect:!0})],Ut.prototype,"size",2);$i([K({type:String,reflect:!0})],Ut.prototype,"weight",2);$i([K({type:String,reflect:!0})],Ut.prototype,"color",2);$i([K({type:Boolean,reflect:!0})],Ut.prototype,"mirrored",2);Ut=$i([qe("ph-arrow-clockwise")],Ut);var Df=":host{display:flex;flex-grow:1}.header{background:#fbfbfb;background:var(--background-color-primary,#fbfbfb);padding:.75rem 1rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));text-align:end;transition:opacity .2s}.header.hidden button{opacity:0;pointer-events:none}.header button{align-items:center;background-color:transparent;border:none;border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:inline-flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.125rem .25rem;padding:var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));transition:color .2s;transition:background-color .2s}.header button,.header button:hover{color:#99989d;color:var(--text-color-tertiary,#99989d)}.header button:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}",Zf=Df,ds,jf=(ds=class{constructor(e){Re(this,e),this.answerGenerated=$e(this,"answerGenerated",7),this.clearChat=$e(this,"clearChat",7),this.startConversation=$e(this,"startConversation",7),this.answerSourceClick=$e(this,"answerSourceClick",7),this.chatMarkdownLinkClicked=$e(this,"chatMarkdownLinkClicked",7),this.autoFocus=!0,this.clearChatOnDisconnect=!0,this.colorScheme="light",this.componentID=gn("chat-box"),this.systemScheme="light",this.onPrefersColorSchemeChange=t=>{this.systemScheme=t.matches?"dark":"light",this.updateTheme()}}watchHandler(){this.chatStore&&(this.startChatService(),this.updateTheme())}componentWillLoad(){this.htmlElement.id=this.componentID,this.schemaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange),this.startChatService()}componentDidLoad(){this.htmlElement.id=this.componentID,this.startChatService()}getOldOramaClient(){if(!this.oramaCoreClientInstance)return this.clientInstance?this.clientInstance:Co(this.index)}startChatService(){if(this.chatStore.state.chatService||!this.index&&!this.clientInstance&&!this.oramaCoreClientInstance)return;To(this.htmlElement,this.index,this.clientInstance,this.oramaCoreClientInstance);let e=this.getOldOramaClient();this.chatStore.state.chatService=new Xd(e,this.oramaCoreClientInstance,this.chatStore)}updateTheme(){let e=bn(this.htmlElement,this.colorScheme,this.systemScheme);yn(this.htmlElement,e,this.themeConfig)}connectedCallback(){this.chatStore=en("chat",this.componentID)}disconnectedCallback(){var e;sh(this.componentID),(e=this.schemaQuery)===null||e===void 0||e.removeEventListener("change",this.onPrefersColorSchemeChange)}render(){var e,t;if(!this.chatStore.state.chatService)return y("orama-text",{as:"p"},"Unable to initialize chat service");let a=this.colorScheme==="system"?this.systemScheme:this.colorScheme||"dark";return y(st,{class:`theme-${a}`},y("orama-chat",{placeholder:this.placeholder,sourceBaseUrl:this.sourceBaseUrl,sourcesMap:this.sourcesMap,suggestions:this.suggestions,focusInput:this.autoFocus,systemPrompts:this.systemPrompts,prompt:this.prompt,clearChatOnDisconnect:this.clearChatOnDisconnect,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref},!!(!((t=(e=this.chatStore.state)===null||e===void 0?void 0:e.interactions)===null||t===void 0)&&t.length)&&y("div",{slot:"chat-empty-state"},y("slot",{name:"empty-state"}))))}get htmlElement(){return Ke(this)}static get watchers(){return{index:["watchHandler"],themeConfig:["watchHandler"],colorScheme:["watchHandler"]}}},i(ds,"ChatBox"),ds);jf.style=Zf;var Jd=i(({name:r,size:e=24,color:t="black"})=>y("div",{innerHTML:i(a=>({star:`<svg xmlns="http://www.w3.org/2000/svg" width=${e} height=${e} viewBox="0 0 16 16" fill="none">
          <path d="M8.1875 0.6875L9.12531 3.22189C9.78366 5.00107 11.1864 6.40384 12.9656 7.06219L15.5 8L12.9656 8.93781C11.1864 9.59616 9.78366 10.9989 9.12531 12.7781L8.1875 15.3125L7.24969 12.7781C6.59134 10.9989 5.18857 9.59616 3.40939 8.93781L0.875 8L3.40939 7.06219C5.18857 6.40384 6.59134 5.00107 7.24969 3.22189L8.1875 0.6875Z" fill="url(#paint0_radial_1183_175)"/>
          <defs>
          <radialGradient id="paint0_radial_1183_175" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(16.5 -9.5) rotate(141.053) scale(24.2042)">
          <stop stop-color="#6A4BB2"/>
          <stop offset="1"/>
          </radialGradient>
          </defs>
        </svg>`,starFour:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
        <path d="M14.3434 7.06266L10.379 5.62516L8.93717 1.65641C8.86613 1.46503 8.73823 1.29998 8.57064 1.18342C8.40305 1.06687 8.20381 1.00439 7.99967 1.00439C7.79554 1.00439 7.59629 1.06687 7.4287 1.18342C7.26111 1.29998 7.13321 1.46503 7.06217 1.65641L5.62467 5.62078L1.65592 7.06266C1.46454 7.1337 1.29949 7.2616 1.18294 7.42919C1.06638 7.59678 1.00391 7.79602 1.00391 8.00016C1.00391 8.20429 1.06638 8.40354 1.18294 8.57113C1.29949 8.73872 1.46454 8.86662 1.65592 8.93766L5.6203 10.3752L7.06217 14.3439C7.13321 14.5353 7.26111 14.7003 7.4287 14.8169C7.59629 14.9334 7.79554 14.9959 7.99967 14.9959C8.20381 14.9959 8.40305 14.9334 8.57064 14.8169C8.73823 14.7003 8.86613 14.5353 8.93717 14.3439L10.379 10.3789L14.3434 8.93766C14.5348 8.86662 14.6999 8.73872 14.8164 8.57113C14.933 8.40354 14.9954 8.20429 14.9954 8.00016C14.9954 7.79602 14.933 7.59678 14.8164 7.42919C14.6999 7.2616 14.5348 7.1337 14.3434 7.06266ZM10.0353 9.43766C9.89849 9.48763 9.77424 9.56687 9.67125 9.66986C9.56826 9.77285 9.48901 9.8971 9.43905 10.0339L7.99967 13.9939L6.56217 10.0358C6.51224 9.89844 6.4328 9.7737 6.32946 9.67037C6.22613 9.56703 6.10139 9.48759 5.96405 9.43766L2.00592 8.00016L5.96405 6.56266C6.10139 6.51272 6.22613 6.43329 6.32946 6.32995C6.4328 6.22661 6.51224 6.10188 6.56217 5.96453L7.99967 2.00641L9.43717 5.96453C9.48714 6.10134 9.56639 6.22559 9.66938 6.32858C9.77237 6.43157 9.89661 6.51082 10.0334 6.56078L13.9915 7.99828L10.0353 9.43766Z" />
      </svg>`})[a]||"","getIconSvg")(r),style:{width:`${e}px`,height:`${e}px`,fill:t,display:"inline-block",verticalAlign:"middle"}}),"Icon"),Bf=Object.defineProperty,Uf=Object.getOwnPropertyDescriptor,Ri=i((r,e,t,a)=>{for(var s=a>1?void 0:a?Uf(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&Bf(e,t,s),s},"a$2"),us,Vt=(us=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(us,"t$7"),us);Vt.weightsMap=new Map([["thin",L`<path d="M228,56A100.11,100.11,0,0,1,128,156H41.66l41.17,41.17a4,4,0,0,1-5.66,5.66l-48-48a4,4,0,0,1,0-5.66l48-48a4,4,0,0,1,5.66,5.66L41.66,148H128a92.1,92.1,0,0,0,92-92,4,4,0,0,1,8,0Z"/>`],["light",L`<path d="M230,56A102.12,102.12,0,0,1,128,158H46.49l37.75,37.76a6,6,0,1,1-8.48,8.48l-48-48a6,6,0,0,1,0-8.48l48-48a6,6,0,0,1,8.48,8.48L46.49,146H128a90.1,90.1,0,0,0,90-90,6,6,0,0,1,12,0Z"/>`],["regular",L`<path d="M232,56A104.11,104.11,0,0,1,128,160H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48a8,8,0,0,1,11.32,11.32L51.31,144H128a88.1,88.1,0,0,0,88-88,8,8,0,0,1,16,0Z"/>`],["bold",L`<path d="M236,56A108.12,108.12,0,0,1,128,164H61l27.52,27.51a12,12,0,0,1-17,17l-48-48a12,12,0,0,1,0-17l48-48a12,12,0,0,1,17,17L61,140h67a84.09,84.09,0,0,0,84-84,12,12,0,0,1,24,0Z"/>`],["fill",L`<path d="M232,56A104.11,104.11,0,0,1,128,160H88v40a8,8,0,0,1-13.66,5.66l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,88,104v40h40a88.1,88.1,0,0,0,88-88,8,8,0,0,1,16,0Z"/>`],["duotone",L`<path d="M80,104v96L32,152Z" opacity="0.2"/><path d="M224,48a8,8,0,0,0-8,8,88.1,88.1,0,0,1-88,88H88V104a8,8,0,0,0-13.66-5.66l-48,48a8,8,0,0,0,0,11.32l48,48A8,8,0,0,0,88,200V160h40A104.11,104.11,0,0,0,232,56,8,8,0,0,0,224,48ZM72,180.69,43.31,152,72,123.31Z"/>`]]);Vt.styles=Ve`
    :host {
      display: contents;
    }
  `;Ri([K({type:String,reflect:!0})],Vt.prototype,"size",2);Ri([K({type:String,reflect:!0})],Vt.prototype,"weight",2);Ri([K({type:String,reflect:!0})],Vt.prototype,"color",2);Ri([K({type:Boolean,reflect:!0})],Vt.prototype,"mirrored",2);Vt=Ri([qe("ph-arrow-bend-down-left")],Vt);var Vf='@keyframes shine{0%{background-position:0 50%}to{background-position:150%;opacity:0}}@keyframes animBg{0%{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}70%{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}to{background:transparent}}@keyframes steam{0%{background-position:0 50%}50%{background-position:75% 50%}to{background-position:0 50%}}.sc-orama-chat-button-h{border-bottom:1px solid #dadada;border-bottom:1px solid var(--border-color-primary,#dadada);padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.chat-button.sc-orama-chat-button{align-items:center;background:transparent;border:1px solid transparent;border-radius:.5rem;border-radius:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);cursor:pointer;display:flex;font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:relative;width:100%}@media (min-width:768.02px){.chat-button.sc-orama-chat-button{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}@media (hover:hover){.chat-button.sc-orama-chat-button:hover{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}}.chat-button.sc-orama-chat-button:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.chat-button.is-active.sc-orama-chat-button{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}.chat-button.is-highlighted.sc-orama-chat-button:after,.chat-button.is-highlighted.sc-orama-chat-button:before{animation:shine 1s linear 1 forwards;background:linear-gradient(90deg,transparent 0,transparent 20%,#432d77 40%,#432d77 60%,transparent 80%,transparent);background:linear-gradient(to right,var(--chat-button-border-color-gradientOne,transparent) 0,var(--chat-button-border-color-gradientTwo,transparent) 20%,var(--chat-button-border-color-gradientThree,#432d77) 40%,var(--chat-button-border-color-gradientFour,#432d77) 60%,var(--chat-button-border-color-gradientFive,transparent) 80%,var(--chat-button-border-color-gradientSix,transparent) 100%);background-size:150% auto;border-radius:.5rem;border-radius:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));content:"";display:block;height:calc(100% + 4px);left:-2px;overflow:hidden;position:absolute;top:-2px;width:calc(100% + 4px);z-index:-1}.chat-button.is-highlighted.sc-orama-chat-button:after{filter:blur(3px);height:100%;width:100%}.icon-star.sc-orama-chat-button{align-items:center;background:linear-gradient(79deg,#432d77 -45%,transparent 75%);background:linear-gradient(79deg,var(--chat-button-background-color-gradientOne,#432d77) -45%,var(--chat-button-backgroun-color-gradientTwo,transparent) 75%);background-size:200% auto;border-radius:.375rem;border-radius:var(--radius-xs,calc(6rem/var(--orama-base-font-size, 16)));display:flex;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.is-highlighted.sc-orama-chat-button .icon-star.sc-orama-chat-button{animation:steam 1.4s linear 1 forwards}.icon-enter.sc-orama-chat-button{align-items:center;border:.7px solid #dadada;border:.7px solid var(--border-color-primary,#dadada);border-radius:.375rem;border-radius:var(--radius-xs,calc(6rem/var(--orama-base-font-size, 16)));display:flex;justify-self:flex-end;padding:.25rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.button-label.sc-orama-chat-button{flex-grow:1;text-align:left}',Ff=Vf,ps,qf=(ps=class{constructor(e){Re(this,e),this.active=!1,this.highlight=!1}highlightButton(){this.active&&!this.highlight&&(this.highlight=!0)}render(){let e=["label","onClick","class"],t=Ai(this.el,e);return y(st,{key:"cc45b1355726ff5bf65b39f4243f6f0d227d0c80",class:this.class},y("button",Object.assign({key:"4a312f0e559412dee000149b4f3cf74cfe858c0e",class:{"chat-button":!0,"is-active":this.active,"is-highlighted":this.highlight}},t,{type:"button"}),y("span",{key:"9a10019c4b275d05978ecad9abcffb058d782943",class:"icon-star"},y(Jd,{key:"82edfc1787227fb15f3fefedecf57e2a0e74d8b3",name:"star",size:16})),y("span",{key:"13e4d54e9296f513735f6081caaf060cc9511905",class:"button-label"},this.label),y("span",{key:"3c98e473b7b88034a316590bae6de3d1c1ca4dd4",class:"icon-enter"},y("ph-arrow-bend-down-left",{key:"36f9ce444b33abaef5cfdf81d0d0d2b199f8590f",size:12}))))}get el(){return Ke(this)}static get watchers(){return{active:["highlightButton"],highlight:["highlightButton"]}}},i(ps,"OramaChatButton"),ps);qf.style=Ff;var Gf="orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar{width:.3em}orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar-track{background:transparent}orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.messages-container.sc-orama-chat-messages-container{display:flex;flex-direction:column;gap:1.5rem;gap:var(--spacing-xl,calc(24rem/var(--orama-base-font-size, 16)));margin:1rem 0;margin:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0;overflow:hidden}.suggestions-wrapper.sc-orama-chat-messages-container{margin-top:1.5rem;margin-top:var(--spacing-xl,calc(24rem/var(--orama-base-font-size, 16)))}",Wf=Gf,Kf=function(r,e,t,a){var s=arguments.length,n=s<3?e:a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,a);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},fs,eu=(fs=class{constructor(e){Re(this,e),this.answerGenerated=$e(this,"answerGenerated",7),this.latestInteractionMinHeight=0,this.onSuggestionClick=t=>{var a;(a=this.chatStore.state.chatService)===null||a===void 0||a.sendQuestion(t,void 0,{onAnswerGeneratedCallback:i(s=>this.answerGenerated.emit(s),"onAnswerGeneratedCallback")})},this.resizeObserver=new ResizeObserver(t=>{this.latestInteractionMinHeight=t[0].target.clientHeight-32})}componentDidLoad(){let e=this.el.parentElement.parentElement;this.resizeObserver.observe(e)}render(){return y(st,{key:"f43daa9af2c685fd0fb945f0116343f1f73c039c"},y("div",{key:"58155ffbd6b8a0fa83e66a8d288ec8c24e633338",class:"messages-container"},this.interactions.map((e,t)=>{var a;return y("div",{key:e.interactionId,class:"interaction-wrapper",style:{minHeight:this.interactions.length>1&&t===this.interactions.length-1?`${this.latestInteractionMinHeight}px`:"0px"}},y("orama-chat-user-message",{interaction:Object.assign({},e)}),y("orama-chat-assistent-message",{interaction:Object.assign({},e),chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}),e.latest&&e.status==="done"&&!!(!((a=e.relatedQueries)===null||a===void 0)&&a.length)&&y("div",{class:"suggestions-wrapper"},y("orama-suggestions",{as:"chips",suggestions:e.relatedQueries,suggestionClicked:this.onSuggestionClick})))})))}get el(){return Ke(this)}},i(fs,"OramaChatMessagesContainer"),fs);Kf([er("chat")],eu.prototype,"chatStore",void 0);eu.style=Wf;var Yf=".sc-orama-chat-user-message-h{color:#151515;color:var(--text-color-primary,#151515);display:flex;justify-content:end;padding:0 1rem;padding:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:768.02px){.sc-orama-chat-user-message-h{justify-content:start}}.message-wrapper.sc-orama-chat-user-message{border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));padding:.5rem .75rem;padding:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)))}.chat-question.sc-orama-chat-user-message{font-weight:400}@media (min-width:768.02px){.chat-question.sc-orama-chat-user-message{font-size:1.25rem;font-size:calc(20rem/var(--orama-base-font-size, 16));margin-bottom:1rem;margin-bottom:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}}",Qf=Yf,ms,Xf=(ms=class{constructor(e){Re(this,e)}render(){return y(st,{key:"d2c74982926525d2f01c2ced08900984662ed86d"},y("div",{key:"ee3082412dd37c9f04e3fdb2573cf2013a7d4985",class:"message-wrapper"},y("orama-text",{key:"b5da8143c4b840cfd24e1722846f2b24b5b8c433",as:"h2",styledAs:"p",class:"chat-question"},this.interaction.query)))}},i(ms,"OramaChatUserMessage"),ms);Xf.style=Qf;var Jf=".dots-loader.sc-orama-dots-loader{align-items:center;display:inline-flex;justify-content:center;padding:1rem 0;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0}.dot.sc-orama-dots-loader{animation:dot-slide-up 1.4s infinite both;background-color:#151515;background-color:var(--text-color-primary,#151515);border-radius:50%;height:.25rem;height:calc(4rem/var(--orama-base-font-size, 16));margin:0 .125rem;margin:0 var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16)));width:.25rem;width:calc(4rem/var(--orama-base-font-size, 16))}.dot.sc-orama-dots-loader:first-child{animation-delay:-.32s}.dot.sc-orama-dots-loader:nth-child(2){animation-delay:-.16s}@keyframes dot-slide-up{0%,80%,to{opacity:.3;transform:translateZ(0)}40%{opacity:1;transform:translate3d(0,-4px,0)}}",em=Jf,gs,tm=(gs=class{constructor(e){Re(this,e)}render(){return y("div",{key:"8f554124861dff20b05b26410ab7966b5445c930",class:"dots-loader"},y("div",{key:"a2937b6db7c5e79d97e18149107e5eb5bb04a4bd",class:"dot"}),y("div",{key:"083f41f23dc7992e4dc601de5e118a2658a2e81a",class:"dot"}),y("div",{key:"5a5384b83cd6290e36e1ea7a27e084c82ae4316f",class:"dot"}))}},i(gs,"DotsLoader"),gs);tm.style=em;var rm=".embed.sc-orama-embed{background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));box-sizing:border-box;display:flex;flex-direction:column;height:100%;inset:0;margin:0 auto;max-height:100%;min-height:25rem;min-height:calc(400rem/var(--orama-base-font-size, 16));overflow:hidden;padding:0;width:100%}@media (min-width:1024.02px){.embed.sc-orama-embed{background-color:#fff;background-color:var(--background-color-secondary,#fff)}.embed.sc-orama-embed orama-input.sc-orama-embed{border-radius:0;margin:0;padding:0}.embed.sc-orama-embed input[type=search].sc-orama-embed{border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0}}",am=rm,bs,sm=(bs=class{constructor(e){Re(this,e)}render(){return y("div",{key:"c4f1a3153fdf088695965527a5a19858b758e352",class:"embed"},y("slot",{key:"59d5f6aba110055ed97309465a5e77192bc5359f"}))}},i(bs,"OramaEmbed"),bs);sm.style=am;var im=".facets-list.sc-orama-facets{align-items:center;-moz-column-gap:.5rem;column-gap:.5rem;-moz-column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));display:flex;list-style:none;margin:0;overflow-x:auto;padding:1rem;padding:var(--radius-l,calc(16rem/var(--orama-base-font-size, 16)));scroll-snap-type:y mandatory}.facets-list.sc-orama-facets::-webkit-scrollbar{background-color:transparent;height:0}@media (min-width:1024.02px){.facets-list.sc-orama-facets{padding:1rem .25rem .5rem;padding:var(--radius-l,calc(16rem/var(--orama-base-font-size, 16))) var(--radius-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)))}}.facet.sc-orama-facets{scroll-snap-align:start}.facet-button.sc-orama-facets{background-color:transparent;border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:2.5rem;border-radius:var(--radius-3xl,calc(40rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);-moz-column-gap:.25rem;column-gap:.25rem;-moz-column-gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));width:-moz-max-content;width:max-content}.facet-button--selected.sc-orama-facets{border-color:#432d77;border-color:var(--border-color-accent,#432d77)}@media (min-width:1024.02px){.facet-button.sc-orama-facets{padding:.25rem .75rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}}.facet-button.sc-orama-facets:focus{border-color:#432d77;border-color:var(--border-color-accent,#432d77);outline:1px solid #432d77;outline:1px solid var(--border-color-accent,#432d77)}.facet-count.sc-orama-facets{color:#99989d;color:var(--text-color-tertiary,#99989d)}",nm=im,ys,om=(ys=class{constructor(e){Re(this,e)}handleClick(e){this.selectedFacetChanged(e.name)}getFacetButtonElementId(e){return`${e}-facet-button`}setFocusToFacetElement(e){let t=this.facetListRef.getElementsByTagName("button");for(let a=0;a<t.length;a++)if(t.item(a).id===this.getFacetButtonElementId(e)){t.item(a).focus();return}}handleSelectedFacetChange(){var e;this.setFocusToFacetElement(!((e=this.selectedFacet)===null||e===void 0)&&e.length?this.selectedFacet:"All")}handleKeyDown(e){if(["ArrowLeft","ArrowRight"].includes(e.key)){let t=this.selectedFacet?this.facets.findIndex(a=>a.name===this.selectedFacet):0;e.key==="ArrowRight"&&(t<this.facets.length-1?this.selectedFacetChanged(this.facets[t+1].name):this.selectedFacetChanged("")),e.key==="ArrowLeft"&&(t>1?this.selectedFacetChanged(this.facets[t-1].name):t-1===0?this.selectedFacetChanged(""):this.selectedFacetChanged(this.facets[this.facets.length-1].name))}}render(){var e;return!this.facets||this.facets.every(t=>!t.count)?null:y("ul",{class:"facets-list",ref:i(t=>this.facetListRef=t,"ref")},(e=this.facets)===null||e===void 0?void 0:e.map(t=>{if((t==null?void 0:t.count)===0)return;let a=this.selectedFacet===(t==null?void 0:t.name)||!this.selectedFacet&&(t==null?void 0:t.name)==="All";return y("li",{key:t.name,class:"facet"},y("button",{id:this.getFacetButtonElementId(t.name),type:"button",class:{"facet-button":!0,"facet-button--selected":a},tabIndex:a?0:-1,onClick:i(()=>this.handleClick(t),"onClick")},t==null?void 0:t.name,y("span",{class:"facet-count"},t==null?void 0:t.count)))}))}static get watchers(){return{selectedFacet:["handleSelectedFacetChange"]}}},i(ys,"OramaFacets"),ys);om.style=nm;var lm=Object.defineProperty,cm=Object.getOwnPropertyDescriptor,zi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?cm(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&lm(e,t,s),s},"o$2"),vs,Ft=(vs=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ft.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(vs,"t$6"),vs);Ft.weightsMap=new Map([["thin",L`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",L`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",L`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",L`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",L`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",L`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]);Ft.styles=Ve`
    :host {
      display: contents;
    }
  `;zi([K({type:String,reflect:!0})],Ft.prototype,"size",2);zi([K({type:String,reflect:!0})],Ft.prototype,"weight",2);zi([K({type:String,reflect:!0})],Ft.prototype,"color",2);zi([K({type:Boolean,reflect:!0})],Ft.prototype,"mirrored",2);Ft=zi([qe("ph-arrow-up")],Ft);var hm=".sc-orama-footer-h{align-items:center;background-color:#fff;background-color:var(--background-color-secondary,#fff);border-radius:0 0 .75rem .75rem;border-radius:0 0 var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));border-top:1px solid #dadada;border-top:1px solid var(--border-color-primary,#dadada);display:flex;justify-content:space-between;padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.keyboard-shortcuts.sc-orama-footer{align-items:center;display:flex;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.shortcut-item.sc-orama-footer{align-items:center;display:flex;font-size:1rem;font-size:calc(16rem/var(--orama-base-font-size, 16));gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.shortcut-description.sc-orama-footer,.shortcut-icon.sc-orama-footer{color:#99989d;color:var(--text-color-tertiary,#99989d)}.shortcut-icon.sc-orama-footer{align-items:center;background:#eee9f6;background:var(--background-color-fourth,#eee9f6);border:.7px solid #dadada;border:.7px solid var(--border-color-primary,#dadada);border-radius:.375rem;border-radius:var(--radius-xs,calc(6rem/var(--orama-base-font-size, 16)));display:flex;justify-content:center;justify-self:flex-end;padding:.25rem;padding:calc(4rem/var(--orama-base-font-size, 16))}.arrows-container.sc-orama-footer{align-items:center;display:flex;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.esc-text.sc-orama-footer{font-size:.7rem}.powered-by.sc-orama-footer{align-items:flex-end;display:flex;flex-grow:1;justify-content:right;text-align:right}.logo-link.sc-orama-footer,.powered-by.sc-orama-footer{gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.logo-link.sc-orama-footer{align-items:center;display:inline-flex;justify-content:center;text-decoration:none}.logo-link.sc-orama-footer:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.logo.sc-orama-footer{max-width:3.875rem;max-width:calc(62rem/var(--orama-base-font-size, 16))}@media (max-width:768px){.sc-orama-footer-h{flex-direction:column;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.keyboard-shortcuts.sc-orama-footer{display:none}.powered-by.sc-orama-footer{justify-content:center}}",dm=hm,ws,um=(ws=class{constructor(e){Re(this,e),this.colorScheme="light",this.showKeyboardShortcuts=!1,this.linkTarget="_blank",this.keyboardShortcuts=[{name:"select",key:"Enter",icon:"arrow-bend-down-left",description:"to select"},{name:"navigate",key:"â â",icon:"arrows-vertical",description:"to navigate"},{name:"close",key:"Esc",icon:"esc",description:"to close"}]}componentWillLoad(){let e=encodeURIComponent(window.location.hostname);this.poweredByDestinationUrl=`https://www.orama.com/?utm_source=${e}&utm_medium=powered-by`,["localhost","orama.com"].includes(e)&&(this.linkTarget="_parent")}renderIcon(e){if(e.icon==="esc")return y("div",null,y("span",{class:"shortcut-icon"},y("span",{class:"esc-text"},"esc")));switch(e.icon){case"arrow-bend-down-left":return y("span",{class:"shortcut-icon"},y("ph-arrow-bend-down-left",{size:16}));case"arrows-vertical":return y("div",{class:"arrows-container"},y("span",{class:"shortcut-icon"},y("ph-arrow-up",{size:16})),y("span",{class:"shortcut-icon"},y("ph-arrow-down",{size:16})));default:return null}}render(){let e=this.colorScheme==="dark"?"orama-when-dark.svg":"orama-when-light.svg";return y(st,{key:"b21ad31b55a56c189efdf83b7f745dfc149af388"},this.showKeyboardShortcuts&&y("div",{key:"0af21a82002e38855e83176b7e6dc0f2e8aebe8b",class:"keyboard-shortcuts","aria-label":"Keyboard shortcuts"},this.keyboardShortcuts.map(t=>y("div",{class:"shortcut-item"},this.renderIcon(t),y("orama-text",{as:"small",variant:"tertiary"},y("span",{class:"shortcut-description"},t.description))))),y("div",{key:"67dec2fc22297ff7a7f47eb4e112b14a3801c378",class:"powered-by"},y("a",{key:"ef8d9ea69bb7207ea1279ede9576e4cb03d4cf12",href:this.poweredByDestinationUrl,target:this.linkTarget,rel:"noopener noreferrer",class:"logo-link"},y("orama-text",{key:"49bcbd36198dfd2200d6902f65ea88f573974c4e",as:"small"},"Powered by"),y("img",{key:"f8d46510486a83866fa3b24f5d38f60fe8ce3d6b",src:`https://website-assets.oramasearch.com/${e}`,alt:"Powered by Orama",class:"logo",width:62}))))}get el(){return Ke(this)}},i(ws,"OramaFooter"),ws);um.style=dm;var pm=Object.defineProperty,fm=Object.getOwnPropertyDescriptor,Ni=i((r,e,t,a)=>{for(var s=a>1?void 0:a?fm(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&pm(e,t,s),s},"o$1"),ks,qt=(ks=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${qt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(ks,"t$5"),ks);qt.weightsMap=new Map([["thin",L`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",L`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",L`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",L`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",L`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",L`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]);qt.styles=Ve`
    :host {
      display: contents;
    }
  `;Ni([K({type:String,reflect:!0})],qt.prototype,"size",2);Ni([K({type:String,reflect:!0})],qt.prototype,"weight",2);Ni([K({type:String,reflect:!0})],qt.prototype,"color",2);Ni([K({type:Boolean,reflect:!0})],qt.prototype,"mirrored",2);qt=Ni([qe("ph-x")],qt);var mm=Object.defineProperty,gm=Object.getOwnPropertyDescriptor,Hi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?gm(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&mm(e,t,s),s},"s$4"),xs,Gt=(xs=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Gt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(xs,"t$4"),xs);Gt.weightsMap=new Map([["thin",L`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",L`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",L`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",L`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",L`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",L`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]);Gt.styles=Ve`
    :host {
      display: contents;
    }
  `;Hi([K({type:String,reflect:!0})],Gt.prototype,"size",2);Hi([K({type:String,reflect:!0})],Gt.prototype,"weight",2);Hi([K({type:String,reflect:!0})],Gt.prototype,"color",2);Hi([K({type:Boolean,reflect:!0})],Gt.prototype,"mirrored",2);Gt=Hi([qe("ph-magnifying-glass")],Gt);var bm=".sc-orama-input-h{margin:.5rem 0;margin:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}.input-wrapper.sc-orama-input{position:relative}.input.sc-orama-input{background:#fff;background:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0;width:100%}@media (min-width:768.02px){.input.sc-orama-input{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.input.sc-orama-input::-moz-placeholder{color:#99989d;color:var(--text-color-inactive,#99989d)}.input.sc-orama-input::placeholder{color:#99989d;color:var(--text-color-inactive,#99989d)}.input[type=search].sc-orama-input{padding-right:2rem;padding-right:var(--spacing-2xl,calc(32rem/var(--orama-base-font-size, 16)))}@media (min-width:1024.02px){.input[type=search].sc-orama-input{border:0;border-bottom:1px solid #dadada;border-bottom:1px solid var(--border-color-primary,#dadada);padding-left:2.5rem;padding-left:var(--spacing-3xl,calc(40rem/var(--orama-base-font-size, 16)))}}.input[type=search].sc-orama-input::-webkit-search-cancel-button,.input[type=search].sc-orama-input::-webkit-search-decoration{-webkit-appearance:none;appearance:none}.input.sc-orama-input:focus{outline:none}.input.sc-orama-input:focus-visibile{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.input--small.sc-orama-input{padding:.25rem .5rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.input--medium.sc-orama-input{padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.input--large.sc-orama-input{padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.label.sc-orama-input{color:#151515;color:var(--text-color-primary,#151515);display:block;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0 0 .25rem;margin-bottom:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:0}.reset-button.sc-orama-input{background-color:transparent;border:0;color:#99989d;color:var(--icon-color-inactive,#99989d);cursor:pointer;display:inline-flex;position:absolute;right:.5rem;right:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));top:50%;transform:translate3d(0,-50%,0)}.reset-button.sc-orama-input:focus{outline:none}.reset-button.sc-orama-input:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77)}.search-icon.sc-orama-input{color:#99989d;color:var(--icon-color-inactive,#99989d);display:none;left:1rem;left:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));position:absolute;top:50%;transform:translate3d(0,-50%,0);z-index:100}@media (min-width:1024.02px){.search-icon.sc-orama-input{display:inline-flex}}.sr-only.sc-orama-input{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}",ym=bm,_s,vm=(_s=class{constructor(e){Re(this,e),this.inputChanged=$e(this,"inputChanged",7),this.size="medium",this.type="text",this.autoFocus=!1}handleAutoFocusChange(){var e;this.autoFocus&&((e=this.inputRef)===null||e===void 0||e.focus())}ensureFocus(){let e=setInterval(()=>{this.inputRef&&(this.inputRef.focus(),clearInterval(e))},10)}componentDidLoad(){this.autoFocus&&this.ensureFocus()}render(){let e=`input input--${this.size}`,t=`label ${this.labelForScreenReaders?"sr-only":""}`,a=["id","name","type","class","onInput","value","label-for-screen-readers","default-value","placeholder"],s=Ai(this.el,a),n=this.type==="search";return y(st,{key:"2618def598b4bcffcb974d761937c304f36d70cf"},y("div",{key:"07b0b637d645dfcd43dab6f20256b548f42672bb",class:"wrapper"},y("label",{key:"c8e3e0ee0962064c613ccbfa459873e8e80ee32a",htmlFor:this.name,class:t},this.label||this.labelForScreenReaders),y("div",{key:"7c78f6d5e491b17094d86ef89c4461178e1e620c",class:"input-wrapper"},n&&y("span",{key:"07a43ba5606596d2b2834bb3dc040573d7039a05",class:"search-icon"},y("ph-magnifying-glass",{key:"3097468ab3864e7a29121e5f5978cf6f4a14f006",size:16})),y("input",Object.assign({key:"5ee32af4e927d3f717345a2d2337793ba28d9c43"},s,{ref:i(o=>{this.inputRef=o},"ref"),class:e,id:this.name,type:this.type,value:this.value,onInput:i(o=>{let l=o.target;this.inputChanged.emit(l.value)},"onInput"),placeholder:this.placeholder})),n&&!!this.value&&y("button",{key:"13c7ee67fdafb756fda92b7d7739fccc367b8f20",type:"button",class:"reset-button",onClick:i(()=>{this.inputRef.focus(),this.inputChanged.emit("")},"onClick")},y("ph-x",{key:"b24dec02e1a86d9205ee4a4025472571ac941fbe",size:16})))))}get el(){return Ke(this)}static get watchers(){return{autoFocus:["handleAutoFocusChange"]}}},i(_s,"Input"),_s);vm.style=ym;var wm=["1c","abnf","accesslog","ada","arduino","ino","armasm","arm","avrasm","actionscript","as","angelscript","asc","apache","apacheconf","applescript","osascript","arcade","asciidoc","adoc","aspectj","autohotkey","autoit","awk","mawk","nawk","gawk","bash","sh","zsh","basic","bnf","brainfuck","bf","csharp","cs","c","h","cpp","hpp","cc","hh","c++","h++","cxx","hxx","cal","cos","cls","cmake","cmake.in","coq","csp","css","capnproto","capnp","clojure","clj","coffeescript","coffee","cson","iced","crmsh","crm","pcmk","crystal","cr","d","dart","dpr","dfm","pas","pascal","diff","patch","django","jinja","dns","zone","bind","dockerfile","docker","dos","bat","cmd","dsconfig","dts","dust","dst","ebnf","elixir","elm","erlang","erl","excel","xls","xlsx","fsharp","fs","fsx","fsi","fsscript","fix","fortran","f90","f95","gcode","nc","gams","gms","gauss","gss","gherkin","go","golang","golo","gololang","gradle","graphql","gql","groovy","xml","html","xhtml","rss","atom","xjb","xsd","xsl","plist","svg","http","https","haml","handlebars","hbs","html.hbs","html.handlebars","haskell","hs","haxe","hx","hy","hylang","ini","toml","inform7","i7","irpf90","json","jsonc","java","jsp","javascript","js","jsx","julia","jl","julia-repl","kotlin","kt","tex","leaf","lasso","ls","lassoscript","less","ldif","lisp","livecodeserver","livescript","ls","lua","makefile","mk","mak","make","markdown","md","mkdown","mkd","mathematica","mma","wl","matlab","maxima","mel","mercury","mips","mipsasm","mizar","mojolicious","monkey","moonscript","moon","n1ql","nsis","nginx","nginxconf","nim","nimrod","nix","ocaml","ml","objectivec","mm","objc","obj-c","obj-c++","objective-c++","glsl","openscad","scad","ruleslanguage","oxygene","pf","pf.conf","php","parser3","perl","pl","pm","plaintext","txt","text","pony","pgsql","postgres","postgresql","powershell","ps","ps1","processing","prolog","properties","proto","protobuf","puppet","pp","python","py","gyp","profile","python-repl","pycon","k","kdb","qml","r","reasonml","re","rib","rsl","graph","instances","ruby","rb","gemspec","podspec","thor","irb","rust","rs","SAS","sas","scss","sql","p21","step","stp","scala","scheme","scilab","sci","shell","console","smali","smalltalk","st","sml","ml","stan","stanfuncs","stata","stylus","styl","subunit","swift","tcl","tk","tap","thrift","tp","twig","craftcms","typescript","ts","tsx","mts","cts","vbnet","vb","vbscript","vbs","vhdl","vala","verilog","v","vim","axapta","x++","x86asm","xl","tao","xquery","xpath","xq","xqm","yml","yaml","zephir","zep"],tu={exports:{}};(function(r,e){(function(t,a){r.exports=a()})(un,function(){let{entries:t,setPrototypeOf:a,isFrozen:s,getPrototypeOf:n,getOwnPropertyDescriptor:o}=Object,{freeze:l,seal:h,create:d}=Object,{apply:m,construct:b}=typeof Reflect<"u"&&Reflect;l||(l=i(function(de){return de},"freeze")),h||(h=i(function(de){return de},"seal")),m||(m=i(function(de,ae,M){return de.apply(ae,M)},"apply")),b||(b=i(function(de,ae){return new de(...ae)},"construct"));let k=P(Array.prototype.forEach),A=P(Array.prototype.lastIndexOf),z=P(Array.prototype.pop),I=P(Array.prototype.push),F=P(Array.prototype.splice),U=P(String.prototype.toLowerCase),$=P(String.prototype.toString),W=P(String.prototype.match),ne=P(String.prototype.replace),pe=P(String.prototype.indexOf),te=P(String.prototype.trim),E=P(Object.prototype.hasOwnProperty),H=P(RegExp.prototype.test),le=V(TypeError);function P(de){return function(ae){ae instanceof RegExp&&(ae.lastIndex=0);for(var M=arguments.length,R=new Array(M>1?M-1:0),oe=1;oe<M;oe++)R[oe-1]=arguments[oe];return m(de,ae,R)}}i(P,"unapply");function V(de){return function(){for(var ae=arguments.length,M=new Array(ae),R=0;R<ae;R++)M[R]=arguments[R];return b(de,M)}}i(V,"unconstruct");function S(de,ae){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U;a&&a(de,null);let R=ae.length;for(;R--;){let oe=ae[R];if(typeof oe=="string"){let me=M(oe);me!==oe&&(s(ae)||(ae[R]=me),oe=me)}de[oe]=!0}return de}i(S,"addToSet");function _(de){for(let ae=0;ae<de.length;ae++)E(de,ae)||(de[ae]=null);return de}i(_,"cleanArray");function B(de){let ae=d(null);for(let[M,R]of t(de))E(de,M)&&(Array.isArray(R)?ae[M]=_(R):R&&typeof R=="object"&&R.constructor===Object?ae[M]=B(R):ae[M]=R);return ae}i(B,"clone");function he(de,ae){for(;de!==null;){let R=o(de,ae);if(R){if(R.get)return P(R.get);if(typeof R.value=="function")return P(R.value)}de=n(de)}function M(){return null}return i(M,"fallbackValue"),M}i(he,"lookupGetter");let T=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ee=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),se=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),q=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),we=l(["#text"]),_e=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),be=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ie=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),it=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vt=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wt=h(/<%[\w\W]*|[\w\W]*%>/gm),Gr=h(/\$\{[\w\W]*/gm),wr=h(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wr=h(/^aria-[\-\w]+$/),pt=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tr=h(/^(?:\w+script|data):/i),kr=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tt=h(/^html$/i),ri=h(/^[a-z][.\w]*(-[.\w]+)+$/i);var rr=Object.freeze({__proto__:null,ARIA_ATTR:Wr,ATTR_WHITESPACE:kr,CUSTOM_ELEMENT:ri,DATA_ATTR:wr,DOCTYPE_NAME:tt,ERB_EXPR:wt,IS_ALLOWED_URI:pt,IS_SCRIPT_OR_DATA:tr,MUSTACHE_EXPR:vt,TMPLIT_EXPR:Gr});let ce={element:1,text:3,progressingInstruction:7,comment:8,document:9},Kr=i(function(){return typeof window>"u"?null:window},"getGlobal"),He=i(function(de,ae){if(typeof de!="object"||typeof de.createPolicy!="function")return null;let M=null,R="data-tt-policy-suffix";ae&&ae.hasAttribute(R)&&(M=ae.getAttribute(R));let oe="dompurify"+(M?"#"+M:"");try{return de.createPolicy(oe,{createHTML(me){return me},createScriptURL(me){return me}})}catch{return console.warn("TrustedTypes policy "+oe+" could not be created."),null}},"_createTrustedTypesPolicy"),Oe=i(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function nt(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kr(),ae=i(v=>nt(v),"DOMPurify");if(ae.version="3.2.5",ae.removed=[],!de||!de.document||de.document.nodeType!==ce.document||!de.Element)return ae.isSupported=!1,ae;let{document:M}=de,R=M,oe=R.currentScript,{DocumentFragment:me,HTMLTemplateElement:De,Node:je,Element:kt,NodeFilter:Ye,NamedNodeMap:xr=de.NamedNodeMap||de.MozNamedAttrMap,HTMLFormElement:Yr,DOMParser:xt,trustedTypes:_t}=de,ar=kt.prototype,Ot=he(ar,"cloneNode"),Ae=he(ar,"remove"),Mn=he(ar,"nextSibling"),Pn=he(ar,"childNodes"),Qr=he(ar,"parentNode");if(typeof De=="function"){let v=M.createElement("template");v.content&&v.content.ownerDocument&&(M=v.content.ownerDocument)}let Ge,_r="",{implementation:ai,createNodeIterator:$n,createDocumentFragment:Rn,getElementsByTagName:sr}=M,{importNode:St}=R,ze=Oe();ae.isSupported=typeof t=="function"&&typeof Qr=="function"&&ai&&ai.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:At,ERB_EXPR:ct,TMPLIT_EXPR:mt,DATA_ATTR:gt,ARIA_ATTR:Lu,IS_SCRIPT_OR_DATA:Mu,ATTR_WHITESPACE:dl,CUSTOM_ELEMENT:ir}=rr,{IS_ALLOWED_URI:ue}=rr,c=null,u=S({},[...T,...D,...ee,...x,...we]),p=null,f=S({},[..._e,...be,...Ie,...it]),g=Object.seal(d(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),w=null,C=null,O=!0,J=!0,Q=!1,ye=!0,ke=!1,Te=!0,xe=!1,ot=!1,at=!1,Tt=!1,Sr=!1,Ar=!1,si=!0,Xr=!1,Pu="user-content-",zn=!0,ii=!1,Jr={},ea=null,ul=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pl=null,fl=S({},["audio","video","img","source","image","track"]),Nn=null,ml=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fi="http://www.w3.org/1998/Math/MathML",qi="http://www.w3.org/2000/svg",Lt="http://www.w3.org/1999/xhtml",ta=Lt,Hn=!1,Dn=null,$u=S({},[Fi,qi,Lt],$),Gi=S({},["mi","mo","mn","ms","mtext"]),Wi=S({},["annotation-xml"]),Ru=S({},["title","style","font","a","script"]),ni=null,zu=["application/xhtml+xml","text/html"],Nu="text/html",Be=null,ra=null,Hu=M.createElement("form"),gl=i(function(v){return v instanceof RegExp||v instanceof Function},"isRegexOrFunction"),Zn=i(function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ra&&ra===v)){if((!v||typeof v!="object")&&(v={}),v=B(v),ni=zu.indexOf(v.PARSER_MEDIA_TYPE)===-1?Nu:v.PARSER_MEDIA_TYPE,Be=ni==="application/xhtml+xml"?$:U,c=E(v,"ALLOWED_TAGS")?S({},v.ALLOWED_TAGS,Be):u,p=E(v,"ALLOWED_ATTR")?S({},v.ALLOWED_ATTR,Be):f,Dn=E(v,"ALLOWED_NAMESPACES")?S({},v.ALLOWED_NAMESPACES,$):$u,Nn=E(v,"ADD_URI_SAFE_ATTR")?S(B(ml),v.ADD_URI_SAFE_ATTR,Be):ml,pl=E(v,"ADD_DATA_URI_TAGS")?S(B(fl),v.ADD_DATA_URI_TAGS,Be):fl,ea=E(v,"FORBID_CONTENTS")?S({},v.FORBID_CONTENTS,Be):ul,w=E(v,"FORBID_TAGS")?S({},v.FORBID_TAGS,Be):{},C=E(v,"FORBID_ATTR")?S({},v.FORBID_ATTR,Be):{},Jr=E(v,"USE_PROFILES")?v.USE_PROFILES:!1,O=v.ALLOW_ARIA_ATTR!==!1,J=v.ALLOW_DATA_ATTR!==!1,Q=v.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=v.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ke=v.SAFE_FOR_TEMPLATES||!1,Te=v.SAFE_FOR_XML!==!1,xe=v.WHOLE_DOCUMENT||!1,Tt=v.RETURN_DOM||!1,Sr=v.RETURN_DOM_FRAGMENT||!1,Ar=v.RETURN_TRUSTED_TYPE||!1,at=v.FORCE_BODY||!1,si=v.SANITIZE_DOM!==!1,Xr=v.SANITIZE_NAMED_PROPS||!1,zn=v.KEEP_CONTENT!==!1,ii=v.IN_PLACE||!1,ue=v.ALLOWED_URI_REGEXP||pt,ta=v.NAMESPACE||Lt,Gi=v.MATHML_TEXT_INTEGRATION_POINTS||Gi,Wi=v.HTML_INTEGRATION_POINTS||Wi,g=v.CUSTOM_ELEMENT_HANDLING||{},v.CUSTOM_ELEMENT_HANDLING&&gl(v.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(g.tagNameCheck=v.CUSTOM_ELEMENT_HANDLING.tagNameCheck),v.CUSTOM_ELEMENT_HANDLING&&gl(v.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(g.attributeNameCheck=v.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),v.CUSTOM_ELEMENT_HANDLING&&typeof v.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(g.allowCustomizedBuiltInElements=v.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(J=!1),Sr&&(Tt=!0),Jr&&(c=S({},we),p=[],Jr.html===!0&&(S(c,T),S(p,_e)),Jr.svg===!0&&(S(c,D),S(p,be),S(p,it)),Jr.svgFilters===!0&&(S(c,ee),S(p,be),S(p,it)),Jr.mathMl===!0&&(S(c,x),S(p,Ie),S(p,it))),v.ADD_TAGS&&(c===u&&(c=B(c)),S(c,v.ADD_TAGS,Be)),v.ADD_ATTR&&(p===f&&(p=B(p)),S(p,v.ADD_ATTR,Be)),v.ADD_URI_SAFE_ATTR&&S(Nn,v.ADD_URI_SAFE_ATTR,Be),v.FORBID_CONTENTS&&(ea===ul&&(ea=B(ea)),S(ea,v.FORBID_CONTENTS,Be)),zn&&(c["#text"]=!0),xe&&S(c,["html","head","body"]),c.table&&(S(c,["tbody"]),delete w.tbody),v.TRUSTED_TYPES_POLICY){if(typeof v.TRUSTED_TYPES_POLICY.createHTML!="function")throw le('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof v.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw le('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ge=v.TRUSTED_TYPES_POLICY,_r=Ge.createHTML("")}else Ge===void 0&&(Ge=He(_t,oe)),Ge!==null&&typeof _r=="string"&&(_r=Ge.createHTML(""));l&&l(v),ra=v}},"_parseConfig"),bl=S({},[...D,...ee,...se]),yl=S({},[...x,...q]),Du=i(function(v){let X=Qr(v);(!X||!X.tagName)&&(X={namespaceURI:ta,tagName:"template"});let G=U(v.tagName),Me=U(X.tagName);return Dn[v.namespaceURI]?v.namespaceURI===qi?X.namespaceURI===Lt?G==="svg":X.namespaceURI===Fi?G==="svg"&&(Me==="annotation-xml"||Gi[Me]):!!bl[G]:v.namespaceURI===Fi?X.namespaceURI===Lt?G==="math":X.namespaceURI===qi?G==="math"&&Wi[Me]:!!yl[G]:v.namespaceURI===Lt?X.namespaceURI===qi&&!Wi[Me]||X.namespaceURI===Fi&&!Gi[Me]?!1:!yl[G]&&(Ru[G]||!bl[G]):!!(ni==="application/xhtml+xml"&&Dn[v.namespaceURI]):!1},"_checkValidNamespace"),Tr=i(function(v){I(ae.removed,{element:v});try{Qr(v).removeChild(v)}catch{Ae(v)}},"_forceRemove"),Ki=i(function(v,X){try{I(ae.removed,{attribute:X.getAttributeNode(v),from:X})}catch{I(ae.removed,{attribute:null,from:X})}if(X.removeAttribute(v),v==="is")if(Tt||Sr)try{Tr(X)}catch{}else try{X.setAttribute(v,"")}catch{}},"_removeAttribute"),vl=i(function(v){let X=null,G=null;if(at)v="<remove></remove>"+v;else{let Ze=W(v,/^[\r\n\t ]+/);G=Ze&&Ze[0]}ni==="application/xhtml+xml"&&ta===Lt&&(v='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+v+"</body></html>");let Me=Ge?Ge.createHTML(v):v;if(ta===Lt)try{X=new xt().parseFromString(Me,ni)}catch{}if(!X||!X.documentElement){X=ai.createDocument(ta,"template",null);try{X.documentElement.innerHTML=Hn?_r:Me}catch{}}let We=X.body||X.documentElement;return v&&G&&We.insertBefore(M.createTextNode(G),We.childNodes[0]||null),ta===Lt?sr.call(X,xe?"html":"body")[0]:xe?X.documentElement:We},"_initDocument"),wl=i(function(v){return $n.call(v.ownerDocument||v,v,Ye.SHOW_ELEMENT|Ye.SHOW_COMMENT|Ye.SHOW_TEXT|Ye.SHOW_PROCESSING_INSTRUCTION|Ye.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),jn=i(function(v){return v instanceof Yr&&(typeof v.nodeName!="string"||typeof v.textContent!="string"||typeof v.removeChild!="function"||!(v.attributes instanceof xr)||typeof v.removeAttribute!="function"||typeof v.setAttribute!="function"||typeof v.namespaceURI!="string"||typeof v.insertBefore!="function"||typeof v.hasChildNodes!="function")},"_isClobbered"),kl=i(function(v){return typeof je=="function"&&v instanceof je},"_isNode");function Ct(v,X,G){k(v,Me=>{Me.call(ae,X,G,ra)})}i(Ct,"_executeHooks");let xl=i(function(v){let X=null;if(Ct(ze.beforeSanitizeElements,v,null),jn(v))return Tr(v),!0;let G=Be(v.nodeName);if(Ct(ze.uponSanitizeElement,v,{tagName:G,allowedTags:c}),v.hasChildNodes()&&!kl(v.firstElementChild)&&H(/<[/\w!]/g,v.innerHTML)&&H(/<[/\w!]/g,v.textContent)||v.nodeType===ce.progressingInstruction||Te&&v.nodeType===ce.comment&&H(/<[/\w]/g,v.data))return Tr(v),!0;if(!c[G]||w[G]){if(!w[G]&&Sl(G)&&(g.tagNameCheck instanceof RegExp&&H(g.tagNameCheck,G)||g.tagNameCheck instanceof Function&&g.tagNameCheck(G)))return!1;if(zn&&!ea[G]){let Me=Qr(v)||v.parentNode,We=Pn(v)||v.childNodes;if(We&&Me){let Ze=We.length;for(let Mt=Ze-1;Mt>=0;--Mt){let ht=Ot(We[Mt],!0);ht.__removalCount=(v.__removalCount||0)+1,Me.insertBefore(ht,Mn(v))}}}return Tr(v),!0}return v instanceof kt&&!Du(v)||(G==="noscript"||G==="noembed"||G==="noframes")&&H(/<\/no(script|embed|frames)/i,v.innerHTML)?(Tr(v),!0):(ke&&v.nodeType===ce.text&&(X=v.textContent,k([At,ct,mt],Me=>{X=ne(X,Me," ")}),v.textContent!==X&&(I(ae.removed,{element:v.cloneNode()}),v.textContent=X)),Ct(ze.afterSanitizeElements,v,null),!1)},"_sanitizeElements"),_l=i(function(v,X,G){if(si&&(X==="id"||X==="name")&&(G in M||G in Hu))return!1;if(!(J&&!C[X]&&H(gt,X))&&!(O&&H(Lu,X))){if(!p[X]||C[X]){if(!(Sl(v)&&(g.tagNameCheck instanceof RegExp&&H(g.tagNameCheck,v)||g.tagNameCheck instanceof Function&&g.tagNameCheck(v))&&(g.attributeNameCheck instanceof RegExp&&H(g.attributeNameCheck,X)||g.attributeNameCheck instanceof Function&&g.attributeNameCheck(X))||X==="is"&&g.allowCustomizedBuiltInElements&&(g.tagNameCheck instanceof RegExp&&H(g.tagNameCheck,G)||g.tagNameCheck instanceof Function&&g.tagNameCheck(G))))return!1}else if(!Nn[X]&&!H(ue,ne(G,dl,""))&&!((X==="src"||X==="xlink:href"||X==="href")&&v!=="script"&&pe(G,"data:")===0&&pl[v])&&!(Q&&!H(Mu,ne(G,dl,"")))&&G)return!1}return!0},"_isValidAttribute"),Sl=i(function(v){return v!=="annotation-xml"&&W(v,ir)},"_isBasicCustomElement"),Al=i(function(v){Ct(ze.beforeSanitizeAttributes,v,null);let{attributes:X}=v;if(!X||jn(v))return;let G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:p,forceKeepAttr:void 0},Me=X.length;for(;Me--;){let We=X[Me],{name:Ze,namespaceURI:Mt,value:ht}=We,Et=Be(Ze),rt=Ze==="value"?ht:te(ht);if(G.attrName=Et,G.attrValue=rt,G.keepAttr=!0,G.forceKeepAttr=void 0,Ct(ze.uponSanitizeAttribute,v,G),rt=G.attrValue,Xr&&(Et==="id"||Et==="name")&&(Ki(Ze,v),rt=Pu+rt),Te&&H(/((--!?|])>)|<\/(style|title)/i,rt)){Ki(Ze,v);continue}if(G.forceKeepAttr||(Ki(Ze,v),!G.keepAttr))continue;if(!ye&&H(/\/>/i,rt)){Ki(Ze,v);continue}ke&&k([At,ct,mt],ju=>{rt=ne(rt,ju," ")});let Tl=Be(v.nodeName);if(_l(Tl,Et,rt)){if(Ge&&typeof _t=="object"&&typeof _t.getAttributeType=="function"&&!Mt)switch(_t.getAttributeType(Tl,Et)){case"TrustedHTML":{rt=Ge.createHTML(rt);break}case"TrustedScriptURL":{rt=Ge.createScriptURL(rt);break}}try{Mt?v.setAttributeNS(Mt,Ze,rt):v.setAttribute(Ze,rt),jn(v)?Tr(v):z(ae.removed)}catch{}}}Ct(ze.afterSanitizeAttributes,v,null)},"_sanitizeAttributes"),Zu=i(function v(X){let G=null,Me=wl(X);for(Ct(ze.beforeSanitizeShadowDOM,X,null);G=Me.nextNode();)Ct(ze.uponSanitizeShadowNode,G,null),xl(G),Al(G),G.content instanceof me&&v(G.content);Ct(ze.afterSanitizeShadowDOM,X,null)},"_sanitizeShadowDOM");return ae.sanitize=function(v){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=null,Me=null,We=null,Ze=null;if(Hn=!v,Hn&&(v="<!-->"),typeof v!="string"&&!kl(v))if(typeof v.toString=="function"){if(v=v.toString(),typeof v!="string")throw le("dirty is not a string, aborting")}else throw le("toString is not a function");if(!ae.isSupported)return v;if(ot||Zn(X),ae.removed=[],typeof v=="string"&&(ii=!1),ii){if(v.nodeName){let Et=Be(v.nodeName);if(!c[Et]||w[Et])throw le("root node is forbidden and cannot be sanitized in-place")}}else if(v instanceof je)G=vl("<!---->"),Me=G.ownerDocument.importNode(v,!0),Me.nodeType===ce.element&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?G=Me:G.appendChild(Me);else{if(!Tt&&!ke&&!xe&&v.indexOf("<")===-1)return Ge&&Ar?Ge.createHTML(v):v;if(G=vl(v),!G)return Tt?null:Ar?_r:""}G&&at&&Tr(G.firstChild);let Mt=wl(ii?v:G);for(;We=Mt.nextNode();)xl(We),Al(We),We.content instanceof me&&Zu(We.content);if(ii)return v;if(Tt){if(Sr)for(Ze=Rn.call(G.ownerDocument);G.firstChild;)Ze.appendChild(G.firstChild);else Ze=G;return(p.shadowroot||p.shadowrootmode)&&(Ze=St.call(R,Ze,!0)),Ze}let ht=xe?G.outerHTML:G.innerHTML;return xe&&c["!doctype"]&&G.ownerDocument&&G.ownerDocument.doctype&&G.ownerDocument.doctype.name&&H(tt,G.ownerDocument.doctype.name)&&(ht="<!DOCTYPE "+G.ownerDocument.doctype.name+`>
`+ht),ke&&k([At,ct,mt],Et=>{ht=ne(ht,Et," ")}),Ge&&Ar?Ge.createHTML(ht):ht},ae.setConfig=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zn(v),ot=!0},ae.clearConfig=function(){ra=null,ot=!1},ae.isValidAttribute=function(v,X,G){ra||Zn({});let Me=Be(v),We=Be(X);return _l(Me,We,G)},ae.addHook=function(v,X){typeof X=="function"&&I(ze[v],X)},ae.removeHook=function(v,X){if(X!==void 0){let G=A(ze[v],X);return G===-1?void 0:F(ze[v],G,1)[0]}return z(ze[v])},ae.removeHooks=function(v){ze[v]=[]},ae.removeAllHooks=function(){ze=Oe()},ae}i(nt,"createDOMPurify");var ft=nt();return ft})})(tu);var xo=tu.exports;function rl(r){return r instanceof Map?r.clear=r.delete=r.set=function(){throw new Error("map is read-only")}:r instanceof Set&&(r.add=r.clear=r.delete=function(){throw new Error("set is read-only")}),Object.freeze(r),Object.getOwnPropertyNames(r).forEach(e=>{let t=r[e],a=typeof t;(a==="object"||a==="function")&&!Object.isFrozen(t)&&rl(t)}),r}i(rl,"deepFreeze");var Ss,$c=(Ss=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}},i(Ss,"Response"),Ss);function al(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}i(al,"escapeHTML");function $t(r,...e){let t=Object.create(null);for(let a in r)t[a]=r[a];return e.forEach(function(a){for(let s in a)t[s]=a[s]}),t}i($t,"inherit$1");var km="</span>",Rc=i(r=>!!r.scope,"emitsWrappingTags"),xm=i((r,{prefix:e})=>{if(r.startsWith("language:"))return r.replace("language:","language-");if(r.includes(".")){let t=r.split(".");return[`${e}${t.shift()}`,...t.map((a,s)=>`${a}${"_".repeat(s+1)}`)].join(" ")}return`${e}${r}`},"scopeToCSSClass"),As,_m=(As=class{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=al(e)}openNode(e){if(!Rc(e))return;let t=xm(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){Rc(e)&&(this.buffer+=km)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}},i(As,"HTMLRenderer"),As),zc=i((r={})=>{let e={children:[]};return Object.assign(e,r),e},"newNode"),Zr,Sm=(Zr=class{constructor(){this.rootNode=zc(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let t=zc({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return typeof t=="string"?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(a=>this._walk(e,a)),e.closeNode(t)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(t=>typeof t=="string")?e.children=[e.children.join("")]:e.children.forEach(t=>{Zr._collapse(t)}))}},i(Zr,"TokenTree"),Zr),Ts,Am=(Ts=class extends Sm{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){let a=e.root;t&&(a.scope=`language:${t}`),this.add(a)}toHTML(){return new _m(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}},i(Ts,"TokenTreeEmitter"),Ts);function ei(r){return r?typeof r=="string"?r:r.source:null}i(ei,"source");function sl(r){return vr("(?=",r,")")}i(sl,"lookahead");function ru(r){return vr("(?:",r,")*")}i(ru,"anyNumberOfTimes");function au(r){return vr("(?:",r,")?")}i(au,"optional");function vr(...r){return r.map(e=>ei(e)).join("")}i(vr,"concat");function su(r){let e=r[r.length-1];return typeof e=="object"&&e.constructor===Object?(r.splice(r.length-1,1),e):{}}i(su,"stripOptionsFromArgs");function En(...r){return"("+(su(r).capture?"":"?:")+r.map(e=>ei(e)).join("|")+")"}i(En,"either");function il(r){return new RegExp(r.toString()+"|").exec("").length-1}i(il,"countMatchGroups");function iu(r,e){let t=r&&r.exec(e);return t&&t.index===0}i(iu,"startsWith");var Tm=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function In(r,{joinWith:e}){let t=0;return r.map(a=>{t+=1;let s=t,n=ei(a),o="";for(;n.length>0;){let l=Tm.exec(n);if(!l){o+=n;break}o+=n.substring(0,l.index),n=n.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?o+="\\"+String(Number(l[1])+s):(o+=l[0],l[0]==="("&&t++)}return o}).map(a=>`(${a})`).join(e)}i(In,"_rewriteBackreferences");var Cm=/\b\B/,nu="[a-zA-Z]\\w*",nl="[a-zA-Z_]\\w*",ou="\\b\\d+(\\.\\d+)?",lu="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",cu="\\b(0b[01]+)",Em="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Im=i((r={})=>{let e=/^#![ ]*\//;return r.binary&&(r.begin=vr(e,/.*\b/,r.binary,/\b.*/)),$t({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":i((t,a)=>{t.index!==0&&a.ignoreMatch()},"on:begin")},r)},"SHEBANG"),Si={begin:"\\\\[\\s\\S]",relevance:0},Om={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Si]},Lm={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Si]},Mm={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},On=i(function(r,e,t={}){let a=$t({scope:"comment",begin:r,end:e,contains:[]},t);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let s=En("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:vr(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},"COMMENT"),Pm=On("//","$"),$m=On("/\\*","\\*/"),Rm=On("#","$"),zm={scope:"number",begin:ou,relevance:0},Nm={scope:"number",begin:lu,relevance:0},Hm={scope:"number",begin:cu,relevance:0},Dm={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Si,{begin:/\[/,end:/\]/,relevance:0,contains:[Si]}]},Zm={scope:"title",begin:nu,relevance:0},jm={scope:"title",begin:nl,relevance:0},Bm={begin:"\\.\\s*"+nl,relevance:0},Um=i(function(r){return Object.assign(r,{"on:begin":i((e,t)=>{t.data._beginMatch=e[1]},"on:begin"),"on:end":i((e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()},"on:end")})},"END_SAME_AS_BEGIN"),Xi=Object.freeze({__proto__:null,APOS_STRING_MODE:Om,BACKSLASH_ESCAPE:Si,BINARY_NUMBER_MODE:Hm,BINARY_NUMBER_RE:cu,COMMENT:On,C_BLOCK_COMMENT_MODE:$m,C_LINE_COMMENT_MODE:Pm,C_NUMBER_MODE:Nm,C_NUMBER_RE:lu,END_SAME_AS_BEGIN:Um,HASH_COMMENT_MODE:Rm,IDENT_RE:nu,MATCH_NOTHING_RE:Cm,METHOD_GUARD:Bm,NUMBER_MODE:zm,NUMBER_RE:ou,PHRASAL_WORDS_MODE:Mm,QUOTE_STRING_MODE:Lm,REGEXP_MODE:Dm,RE_STARTERS_RE:Em,SHEBANG:Im,TITLE_MODE:Zm,UNDERSCORE_IDENT_RE:nl,UNDERSCORE_TITLE_MODE:jm});function hu(r,e){r.input[r.index-1]==="."&&e.ignoreMatch()}i(hu,"skipIfHasPrecedingDot");function du(r,e){r.className!==void 0&&(r.scope=r.className,delete r.className)}i(du,"scopeClassName");function uu(r,e){e&&r.beginKeywords&&(r.begin="\\b("+r.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",r.__beforeBegin=hu,r.keywords=r.keywords||r.beginKeywords,delete r.beginKeywords,r.relevance===void 0&&(r.relevance=0))}i(uu,"beginKeywords");function pu(r,e){Array.isArray(r.illegal)&&(r.illegal=En(...r.illegal))}i(pu,"compileIllegal");function fu(r,e){if(r.match){if(r.begin||r.end)throw new Error("begin & end are not supported with match");r.begin=r.match,delete r.match}}i(fu,"compileMatch");function mu(r,e){r.relevance===void 0&&(r.relevance=1)}i(mu,"compileRelevance");var Vm=i((r,e)=>{if(!r.beforeMatch)return;if(r.starts)throw new Error("beforeMatch cannot be used with starts");let t=Object.assign({},r);Object.keys(r).forEach(a=>{delete r[a]}),r.keywords=t.keywords,r.begin=vr(t.beforeMatch,sl(t.begin)),r.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},r.relevance=0,delete t.beforeMatch},"beforeMatchExt"),Fm=["of","and","for","in","not","or","if","then","parent","list","value"],qm="keyword";function ol(r,e,t=qm){let a=Object.create(null);return typeof r=="string"?s(t,r.split(" ")):Array.isArray(r)?s(t,r):Object.keys(r).forEach(function(n){Object.assign(a,ol(r[n],e,n))}),a;function s(n,o){e&&(o=o.map(l=>l.toLowerCase())),o.forEach(function(l){let h=l.split("|");a[h[0]]=[n,gu(h[0],h[1])]})}}i(ol,"compileKeywords");function gu(r,e){return e?Number(e):bu(r)?0:1}i(gu,"scoreForKeyword");function bu(r){return Fm.includes(r.toLowerCase())}i(bu,"commonKeyword");var Nc={},Or=i(r=>{console.error(r)},"error"),Hc=i((r,...e)=>{console.log(`WARN: ${r}`,...e)},"warn"),aa=i((r,e)=>{Nc[`${r}/${e}`]||(console.log(`Deprecated as of ${r}. ${e}`),Nc[`${r}/${e}`]=!0)},"deprecated"),pn=new Error;function ll(r,e,{key:t}){let a=0,s=r[t],n={},o={};for(let l=1;l<=e.length;l++)o[l+a]=s[l],n[l+a]=!0,a+=il(e[l-1]);r[t]=o,r[t]._emit=n,r[t]._multi=!0}i(ll,"remapScopeNames");function yu(r){if(Array.isArray(r.begin)){if(r.skip||r.excludeBegin||r.returnBegin)throw Or("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),pn;if(typeof r.beginScope!="object"||r.beginScope===null)throw Or("beginScope must be object"),pn;ll(r,r.begin,{key:"beginScope"}),r.begin=In(r.begin,{joinWith:""})}}i(yu,"beginMultiClass");function vu(r){if(Array.isArray(r.end)){if(r.skip||r.excludeEnd||r.returnEnd)throw Or("skip, excludeEnd, returnEnd not compatible with endScope: {}"),pn;if(typeof r.endScope!="object"||r.endScope===null)throw Or("endScope must be object"),pn;ll(r,r.end,{key:"endScope"}),r.end=In(r.end,{joinWith:""})}}i(vu,"endMultiClass");function wu(r){r.scope&&typeof r.scope=="object"&&r.scope!==null&&(r.beginScope=r.scope,delete r.scope)}i(wu,"scopeSugar");function ku(r){wu(r),typeof r.beginScope=="string"&&(r.beginScope={_wrap:r.beginScope}),typeof r.endScope=="string"&&(r.endScope={_wrap:r.endScope}),yu(r),vu(r)}i(ku,"MultiClass");function xu(r){var o,l;function e(h,d){return new RegExp(ei(h),"m"+(r.case_insensitive?"i":"")+(r.unicodeRegex?"u":"")+(d?"g":""))}i(e,"langRe");let t=(o=class{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(d,m){m.position=this.position++,this.matchIndexes[this.matchAt]=m,this.regexes.push([m,d]),this.matchAt+=il(d)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let d=this.regexes.map(m=>m[1]);this.matcherRe=e(In(d,{joinWith:"|"}),!0),this.lastIndex=0}exec(d){this.matcherRe.lastIndex=this.lastIndex;let m=this.matcherRe.exec(d);if(!m)return null;let b=m.findIndex((A,z)=>z>0&&A!==void 0),k=this.matchIndexes[b];return m.splice(0,b),Object.assign(m,k)}},i(o,"MultiRegex"),o),a=(l=class{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(d){if(this.multiRegexes[d])return this.multiRegexes[d];let m=new t;return this.rules.slice(d).forEach(([b,k])=>m.addRule(b,k)),m.compile(),this.multiRegexes[d]=m,m}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(d,m){this.rules.push([d,m]),m.type==="begin"&&this.count++}exec(d){let m=this.getMatcher(this.regexIndex);m.lastIndex=this.lastIndex;let b=m.exec(d);if(this.resumingScanAtSamePosition()&&!(b&&b.index===this.lastIndex)){let k=this.getMatcher(0);k.lastIndex=this.lastIndex+1,b=k.exec(d)}return b&&(this.regexIndex+=b.position+1,this.regexIndex===this.count&&this.considerAll()),b}},i(l,"ResumableMultiRegex"),l);function s(h){let d=new a;return h.contains.forEach(m=>d.addRule(m.begin,{rule:m,type:"begin"})),h.terminatorEnd&&d.addRule(h.terminatorEnd,{type:"end"}),h.illegal&&d.addRule(h.illegal,{type:"illegal"}),d}i(s,"buildModeRegex");function n(h,d){let m=h;if(h.isCompiled)return m;[du,fu,ku,Vm].forEach(k=>k(h,d)),r.compilerExtensions.forEach(k=>k(h,d)),h.__beforeBegin=null,[uu,pu,mu].forEach(k=>k(h,d)),h.isCompiled=!0;let b=null;return typeof h.keywords=="object"&&h.keywords.$pattern&&(h.keywords=Object.assign({},h.keywords),b=h.keywords.$pattern,delete h.keywords.$pattern),b=b||/\w+/,h.keywords&&(h.keywords=ol(h.keywords,r.case_insensitive)),m.keywordPatternRe=e(b,!0),d&&(h.begin||(h.begin=/\B|\b/),m.beginRe=e(m.begin),!h.end&&!h.endsWithParent&&(h.end=/\B|\b/),h.end&&(m.endRe=e(m.end)),m.terminatorEnd=ei(m.end)||"",h.endsWithParent&&d.terminatorEnd&&(m.terminatorEnd+=(h.end?"|":"")+d.terminatorEnd)),h.illegal&&(m.illegalRe=e(h.illegal)),h.contains||(h.contains=[]),h.contains=[].concat(...h.contains.map(function(k){return _u(k==="self"?h:k)})),h.contains.forEach(function(k){n(k,m)}),h.starts&&n(h.starts,d),m.matcher=s(m),m}if(i(n,"compileMode"),r.compilerExtensions||(r.compilerExtensions=[]),r.contains&&r.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return r.classNameAliases=$t(r.classNameAliases||{}),n(r)}i(xu,"compileLanguage");function cl(r){return r?r.endsWithParent||cl(r.starts):!1}i(cl,"dependencyOnParent");function _u(r){return r.variants&&!r.cachedVariants&&(r.cachedVariants=r.variants.map(function(e){return $t(r,{variants:null},e)})),r.cachedVariants?r.cachedVariants:cl(r)?$t(r,{starts:r.starts?$t(r.starts):null}):Object.isFrozen(r)?$t(r):r}i(_u,"expandOrCloneMode");var Gm="11.11.1",Cs,Wm=(Cs=class extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}},i(Cs,"HTMLInjectionError"),Cs),Xn=al,Dc=$t,Zc=Symbol("nomatch"),Km=7,Su=i(function(r){let e=Object.create(null),t=Object.create(null),a=[],s=!0,n="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]},l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Am};function h(T){return l.noHighlightRe.test(T)}i(h,"shouldNotHighlight");function d(T){let D=T.className+" ";D+=T.parentNode?T.parentNode.className:"";let ee=l.languageDetectRe.exec(D);if(ee){let se=H(ee[1]);return se||(Hc(n.replace("{}",ee[1])),Hc("Falling back to no-highlight mode for this block.",T)),se?ee[1]:"no-highlight"}return D.split(/\s+/).find(se=>h(se)||H(se))}i(d,"blockLanguage");function m(T,D,ee){let se="",x="";typeof D=="object"?(se=T,ee=D.ignoreIllegals,x=D.language):(aa("10.7.0","highlight(lang, code, ...args) has been deprecated."),aa("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),x=T,se=D),ee===void 0&&(ee=!0);let q={code:se,language:x};B("before:highlight",q);let we=q.result?q.result:b(q.language,q.code,ee);return we.code=q.code,B("after:highlight",we),we}i(m,"highlight");function b(T,D,ee,se){let x=Object.create(null);function q(M,R){return M.keywords[R]}i(q,"keywordData");function we(){if(!ce.keywords){He.addText(Oe);return}let M=0;ce.keywordPatternRe.lastIndex=0;let R=ce.keywordPatternRe.exec(Oe),oe="";for(;R;){oe+=Oe.substring(M,R.index);let me=tt.case_insensitive?R[0].toLowerCase():R[0],De=q(ce,me);if(De){let[je,kt]=De;if(He.addText(oe),oe="",x[me]=(x[me]||0)+1,x[me]<=Km&&(nt+=kt),je.startsWith("_"))oe+=R[0];else{let Ye=tt.classNameAliases[je]||je;Ie(R[0],Ye)}}else oe+=R[0];M=ce.keywordPatternRe.lastIndex,R=ce.keywordPatternRe.exec(Oe)}oe+=Oe.substring(M),He.addText(oe)}i(we,"processKeywords");function _e(){if(Oe==="")return;let M=null;if(typeof ce.subLanguage=="string"){if(!e[ce.subLanguage]){He.addText(Oe);return}M=b(ce.subLanguage,Oe,!0,Kr[ce.subLanguage]),Kr[ce.subLanguage]=M._top}else M=A(Oe,ce.subLanguage.length?ce.subLanguage:null);ce.relevance>0&&(nt+=M.relevance),He.__addSublanguage(M._emitter,M.language)}i(_e,"processSubLanguage");function be(){ce.subLanguage!=null?_e():we(),Oe=""}i(be,"processBuffer");function Ie(M,R){M!==""&&(He.startScope(R),He.addText(M),He.endScope())}i(Ie,"emitKeyword");function it(M,R){let oe=1,me=R.length-1;for(;oe<=me;){if(!M._emit[oe]){oe++;continue}let De=tt.classNameAliases[M[oe]]||M[oe],je=R[oe];De?Ie(je,De):(Oe=je,we(),Oe=""),oe++}}i(it,"emitMultiClass");function vt(M,R){return M.scope&&typeof M.scope=="string"&&He.openNode(tt.classNameAliases[M.scope]||M.scope),M.beginScope&&(M.beginScope._wrap?(Ie(Oe,tt.classNameAliases[M.beginScope._wrap]||M.beginScope._wrap),Oe=""):M.beginScope._multi&&(it(M.beginScope,R),Oe="")),ce=Object.create(M,{parent:{value:ce}}),ce}i(vt,"startNewMode");function wt(M,R,oe){let me=iu(M.endRe,oe);if(me){if(M["on:end"]){let De=new $c(M);M["on:end"](R,De),De.isMatchIgnored&&(me=!1)}if(me){for(;M.endsParent&&M.parent;)M=M.parent;return M}}if(M.endsWithParent)return wt(M.parent,R,oe)}i(wt,"endOfMode");function Gr(M){return ce.matcher.regexIndex===0?(Oe+=M[0],1):(ae=!0,0)}i(Gr,"doIgnore");function wr(M){let R=M[0],oe=M.rule,me=new $c(oe),De=[oe.__beforeBegin,oe["on:begin"]];for(let je of De)if(je&&(je(M,me),me.isMatchIgnored))return Gr(R);return oe.skip?Oe+=R:(oe.excludeBegin&&(Oe+=R),be(),!oe.returnBegin&&!oe.excludeBegin&&(Oe=R)),vt(oe,M),oe.returnBegin?0:R.length}i(wr,"doBeginMatch");function Wr(M){let R=M[0],oe=D.substring(M.index),me=wt(ce,M,oe);if(!me)return Zc;let De=ce;ce.endScope&&ce.endScope._wrap?(be(),Ie(R,ce.endScope._wrap)):ce.endScope&&ce.endScope._multi?(be(),it(ce.endScope,M)):De.skip?Oe+=R:(De.returnEnd||De.excludeEnd||(Oe+=R),be(),De.excludeEnd&&(Oe=R));do ce.scope&&He.closeNode(),!ce.skip&&!ce.subLanguage&&(nt+=ce.relevance),ce=ce.parent;while(ce!==me.parent);return me.starts&&vt(me.starts,M),De.returnEnd?0:R.length}i(Wr,"doEndMatch");function pt(){let M=[];for(let R=ce;R!==tt;R=R.parent)R.scope&&M.unshift(R.scope);M.forEach(R=>He.openNode(R))}i(pt,"processContinuations");let tr={};function kr(M,R){let oe=R&&R[0];if(Oe+=M,oe==null)return be(),0;if(tr.type==="begin"&&R.type==="end"&&tr.index===R.index&&oe===""){if(Oe+=D.slice(R.index,R.index+1),!s){let me=new Error(`0 width match regex (${T})`);throw me.languageName=T,me.badRule=tr.rule,me}return 1}if(tr=R,R.type==="begin")return wr(R);if(R.type==="illegal"&&!ee){let me=new Error('Illegal lexeme "'+oe+'" for mode "'+(ce.scope||"<unnamed>")+'"');throw me.mode=ce,me}else if(R.type==="end"){let me=Wr(R);if(me!==Zc)return me}if(R.type==="illegal"&&oe==="")return Oe+=`
`,1;if(de>1e5&&de>R.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Oe+=oe,oe.length}i(kr,"processLexeme");let tt=H(T);if(!tt)throw Or(n.replace("{}",T)),new Error('Unknown language: "'+T+'"');let ri=xu(tt),rr="",ce=se||ri,Kr={},He=new l.__emitter(l);pt();let Oe="",nt=0,ft=0,de=0,ae=!1;try{if(tt.__emitTokens)tt.__emitTokens(D,He);else{for(ce.matcher.considerAll();;){de++,ae?ae=!1:ce.matcher.considerAll(),ce.matcher.lastIndex=ft;let M=ce.matcher.exec(D);if(!M)break;let R=D.substring(ft,M.index),oe=kr(R,M);ft=M.index+oe}kr(D.substring(ft))}return He.finalize(),rr=He.toHTML(),{language:T,value:rr,relevance:nt,illegal:!1,_emitter:He,_top:ce}}catch(M){if(M.message&&M.message.includes("Illegal"))return{language:T,value:Xn(D),illegal:!0,relevance:0,_illegalBy:{message:M.message,index:ft,context:D.slice(ft-100,ft+100),mode:M.mode,resultSoFar:rr},_emitter:He};if(s)return{language:T,value:Xn(D),illegal:!1,relevance:0,errorRaised:M,_emitter:He,_top:ce};throw M}}i(b,"_highlight");function k(T){let D={value:Xn(T),illegal:!1,relevance:0,_top:o,_emitter:new l.__emitter(l)};return D._emitter.addText(T),D}i(k,"justTextHighlightResult");function A(T,D){D=D||l.languages||Object.keys(e);let ee=k(T),se=D.filter(H).filter(P).map(be=>b(be,T,!1));se.unshift(ee);let x=se.sort((be,Ie)=>{if(be.relevance!==Ie.relevance)return Ie.relevance-be.relevance;if(be.language&&Ie.language){if(H(be.language).supersetOf===Ie.language)return 1;if(H(Ie.language).supersetOf===be.language)return-1}return 0}),[q,we]=x,_e=q;return _e.secondBest=we,_e}i(A,"highlightAuto");function z(T,D,ee){let se=D&&t[D]||ee;T.classList.add("hljs"),T.classList.add(`language-${se}`)}i(z,"updateClassName");function I(T){let D=null,ee=d(T);if(h(ee))return;if(B("before:highlightElement",{el:T,language:ee}),T.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",T);return}if(T.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(T)),l.throwUnescapedHTML))throw new Wm("One of your code blocks includes unescaped HTML.",T.innerHTML);D=T;let se=D.textContent,x=ee?m(se,{language:ee,ignoreIllegals:!0}):A(se);T.innerHTML=x.value,T.dataset.highlighted="yes",z(T,ee,x.language),T.result={language:x.language,re:x.relevance,relevance:x.relevance},x.secondBest&&(T.secondBest={language:x.secondBest.language,relevance:x.secondBest.relevance}),B("after:highlightElement",{el:T,result:x,text:se})}i(I,"highlightElement");function F(T){l=Dc(l,T)}i(F,"configure");let U=i(()=>{ne(),aa("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},"initHighlighting");function $(){ne(),aa("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}i($,"initHighlightingOnLoad");let W=!1;function ne(){function T(){ne()}if(i(T,"boot"),document.readyState==="loading"){W||window.addEventListener("DOMContentLoaded",T,!1),W=!0;return}document.querySelectorAll(l.cssSelector).forEach(I)}i(ne,"highlightAll");function pe(T,D){let ee=null;try{ee=D(r)}catch(se){if(Or("Language definition for '{}' could not be registered.".replace("{}",T)),s)Or(se);else throw se;ee=o}ee.name||(ee.name=T),e[T]=ee,ee.rawDefinition=D.bind(null,r),ee.aliases&&le(ee.aliases,{languageName:T})}i(pe,"registerLanguage");function te(T){delete e[T];for(let D of Object.keys(t))t[D]===T&&delete t[D]}i(te,"unregisterLanguage");function E(){return Object.keys(e)}i(E,"listLanguages");function H(T){return T=(T||"").toLowerCase(),e[T]||e[t[T]]}i(H,"getLanguage");function le(T,{languageName:D}){typeof T=="string"&&(T=[T]),T.forEach(ee=>{t[ee.toLowerCase()]=D})}i(le,"registerAliases");function P(T){let D=H(T);return D&&!D.disableAutodetect}i(P,"autoDetection");function V(T){T["before:highlightBlock"]&&!T["before:highlightElement"]&&(T["before:highlightElement"]=D=>{T["before:highlightBlock"](Object.assign({block:D.el},D))}),T["after:highlightBlock"]&&!T["after:highlightElement"]&&(T["after:highlightElement"]=D=>{T["after:highlightBlock"](Object.assign({block:D.el},D))})}i(V,"upgradePluginAPI");function S(T){V(T),a.push(T)}i(S,"addPlugin");function _(T){let D=a.indexOf(T);D!==-1&&a.splice(D,1)}i(_,"removePlugin");function B(T,D){let ee=T;a.forEach(function(se){se[ee]&&se[ee](D)})}i(B,"fire");function he(T){return aa("10.7.0","highlightBlock will be removed entirely in v12.0"),aa("10.7.0","Please use highlightElement now."),I(T)}i(he,"deprecateHighlightBlock"),Object.assign(r,{highlight:m,highlightAuto:A,highlightAll:ne,highlightElement:I,highlightBlock:he,configure:F,initHighlighting:U,initHighlightingOnLoad:$,registerLanguage:pe,unregisterLanguage:te,listLanguages:E,getLanguage:H,registerAliases:le,autoDetection:P,inherit:Dc,addPlugin:S,removePlugin:_}),r.debugMode=function(){s=!1},r.safeMode=function(){s=!0},r.versionString=Gm,r.regex={concat:vr,lookahead:sl,either:En,optional:au,anyNumberOfTimes:ru};for(let T in Xi)typeof Xi[T]=="object"&&rl(Xi[T]);return Object.assign(r,Xi),r},"HLJS"),ti=Su({});ti.newInstance=()=>Su({});var Ym=ti;ti.HighlightJS=ti;ti.default=ti;var fn=Ym,bi={exports:{}};(function(r,e){(function(t,a){a(e)})(un,function(t){var sr,St,ze,At,ct,mt,gt,Au,_o,Tu,ir;function a(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}i(a,"_getDefaults"),t.defaults=a();function s(ue){t.defaults=ue}i(s,"changeDefaults");let n=/[&<>"']/,o=new RegExp(n.source,"g"),l=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,h=new RegExp(l.source,"g"),d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m=i(ue=>d[ue],"getEscapeReplacement");function b(ue,c){if(c){if(n.test(ue))return ue.replace(o,m)}else if(l.test(ue))return ue.replace(h,m);return ue}i(b,"escape$1");let k=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function A(ue){return ue.replace(k,(c,u)=>(u=u.toLowerCase(),u==="colon"?":":u.charAt(0)==="#"?u.charAt(1)==="x"?String.fromCharCode(parseInt(u.substring(2),16)):String.fromCharCode(+u.substring(1)):""))}i(A,"unescape");let z=/(^|[^\[])\^/g;function I(ue,c){let u=typeof ue=="string"?ue:ue.source;c=c||"";let p={replace:i((f,g)=>{let w=typeof g=="string"?g:g.source;return w=w.replace(z,"$1"),u=u.replace(f,w),p},"replace"),getRegex:i(()=>new RegExp(u,c),"getRegex")};return p}i(I,"edit");function F(ue){try{ue=encodeURI(ue).replace(/%25/g,"%")}catch{return null}return ue}i(F,"cleanUrl");let U={exec:i(()=>null,"exec")};function $(ue,c){let u=ue.replace(/\|/g,(g,w,C)=>{let O=!1,J=w;for(;--J>=0&&C[J]==="\\";)O=!O;return O?"|":" |"}),p=u.split(/ \|/),f=0;if(p[0].trim()||p.shift(),p.length>0&&!p[p.length-1].trim()&&p.pop(),c)if(p.length>c)p.splice(c);else for(;p.length<c;)p.push("");for(;f<p.length;f++)p[f]=p[f].trim().replace(/\\\|/g,"|");return p}i($,"splitCells");function W(ue,c,u){let p=ue.length;if(p===0)return"";let f=0;for(;f<p;){let g=ue.charAt(p-f-1);if(g===c&&!u)f++;else if(g!==c&&u)f++;else break}return ue.slice(0,p-f)}i(W,"rtrim");function ne(ue,c){if(ue.indexOf(c[1])===-1)return-1;let u=0;for(let p=0;p<ue.length;p++)if(ue[p]==="\\")p++;else if(ue[p]===c[0])u++;else if(ue[p]===c[1]&&(u--,u<0))return p;return-1}i(ne,"findClosingBracket");function pe(ue,c,u,p){let f=c.href,g=c.title?b(c.title):null,w=ue[1].replace(/\\([\[\]])/g,"$1");if(ue[0].charAt(0)!=="!"){p.state.inLink=!0;let C={type:"link",raw:u,href:f,title:g,text:w,tokens:p.inlineTokens(w)};return p.state.inLink=!1,C}return{type:"image",raw:u,href:f,title:g,text:b(w)}}i(pe,"outputLink");function te(ue,c){let u=ue.match(/^(\s+)(?:```)/);if(u===null)return c;let p=u[1];return c.split(`
`).map(f=>{let g=f.match(/^\s+/);if(g===null)return f;let[w]=g;return w.length>=p.length?f.slice(p.length):f}).join(`
`)}i(te,"indentCodeCompensation");let E=(sr=class{constructor(c){N(this,"options");N(this,"rules");N(this,"lexer");this.options=c||t.defaults}space(c){let u=this.rules.block.newline.exec(c);if(u&&u[0].length>0)return{type:"space",raw:u[0]}}code(c){let u=this.rules.block.code.exec(c);if(u){let p=u[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:u[0],codeBlockStyle:"indented",text:this.options.pedantic?p:W(p,`
`)}}}fences(c){let u=this.rules.block.fences.exec(c);if(u){let p=u[0],f=te(p,u[3]||"");return{type:"code",raw:p,lang:u[2]?u[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):u[2],text:f}}}heading(c){let u=this.rules.block.heading.exec(c);if(u){let p=u[2].trim();if(/#$/.test(p)){let f=W(p,"#");(this.options.pedantic||!f||/ $/.test(f))&&(p=f.trim())}return{type:"heading",raw:u[0],depth:u[1].length,text:p,tokens:this.lexer.inline(p)}}}hr(c){let u=this.rules.block.hr.exec(c);if(u)return{type:"hr",raw:W(u[0],`
`)}}blockquote(c){let u=this.rules.block.blockquote.exec(c);if(u){let p=W(u[0],`
`).split(`
`),f="",g="",w=[];for(;p.length>0;){let C=!1,O=[],J;for(J=0;J<p.length;J++)if(/^ {0,3}>/.test(p[J]))O.push(p[J]),C=!0;else if(!C)O.push(p[J]);else break;p=p.slice(J);let Q=O.join(`
`),ye=Q.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");f=f?`${f}
${Q}`:Q,g=g?`${g}
${ye}`:ye;let ke=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(ye,w,!0),this.lexer.state.top=ke,p.length===0)break;let Te=w[w.length-1];if((Te==null?void 0:Te.type)==="code")break;if((Te==null?void 0:Te.type)==="blockquote"){let xe=Te,ot=xe.raw+`
`+p.join(`
`),at=this.blockquote(ot);w[w.length-1]=at,f=f.substring(0,f.length-xe.raw.length)+at.raw,g=g.substring(0,g.length-xe.text.length)+at.text;break}else if((Te==null?void 0:Te.type)==="list"){let xe=Te,ot=xe.raw+`
`+p.join(`
`),at=this.list(ot);w[w.length-1]=at,f=f.substring(0,f.length-Te.raw.length)+at.raw,g=g.substring(0,g.length-xe.raw.length)+at.raw,p=ot.substring(w[w.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:f,tokens:w,text:g}}}list(c){let u=this.rules.block.list.exec(c);if(u){let p=u[1].trim(),f=p.length>1,g={type:"list",raw:"",ordered:f,start:f?+p.slice(0,-1):"",loose:!1,items:[]};p=f?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=f?p:"[*+-]");let w=new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`),C=!1;for(;c;){let O=!1,J="",Q="";if(!(u=w.exec(c))||this.rules.block.hr.test(c))break;J=u[0],c=c.substring(J.length);let ye=u[2].split(`
`,1)[0].replace(/^\t+/,Tt=>" ".repeat(3*Tt.length)),ke=c.split(`
`,1)[0],Te=!ye.trim(),xe=0;if(this.options.pedantic?(xe=2,Q=ye.trimStart()):Te?xe=u[1].length+1:(xe=u[2].search(/[^ ]/),xe=xe>4?1:xe,Q=ye.slice(xe),xe+=u[1].length),Te&&/^ *$/.test(ke)&&(J+=ke+`
`,c=c.substring(ke.length+1),O=!0),!O){let Tt=new RegExp(`^ {0,${Math.min(3,xe-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Sr=new RegExp(`^ {0,${Math.min(3,xe-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ar=new RegExp(`^ {0,${Math.min(3,xe-1)}}(?:\`\`\`|~~~)`),si=new RegExp(`^ {0,${Math.min(3,xe-1)}}#`);for(;c;){let Xr=c.split(`
`,1)[0];if(ke=Xr,this.options.pedantic&&(ke=ke.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ar.test(ke)||si.test(ke)||Tt.test(ke)||Sr.test(c))break;if(ke.search(/[^ ]/)>=xe||!ke.trim())Q+=`
`+ke.slice(xe);else{if(Te||ye.search(/[^ ]/)>=4||Ar.test(ye)||si.test(ye)||Sr.test(ye))break;Q+=`
`+ke}!Te&&!ke.trim()&&(Te=!0),J+=Xr+`
`,c=c.substring(Xr.length+1),ye=ke.slice(xe)}}g.loose||(C?g.loose=!0:/\n *\n *$/.test(J)&&(C=!0));let ot=null,at;this.options.gfm&&(ot=/^\[[ xX]\] /.exec(Q),ot&&(at=ot[0]!=="[ ] ",Q=Q.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:J,task:!!ot,checked:at,loose:!1,text:Q,tokens:[]}),g.raw+=J}g.items[g.items.length-1].raw=g.items[g.items.length-1].raw.trimEnd(),g.items[g.items.length-1].text=g.items[g.items.length-1].text.trimEnd(),g.raw=g.raw.trimEnd();for(let O=0;O<g.items.length;O++)if(this.lexer.state.top=!1,g.items[O].tokens=this.lexer.blockTokens(g.items[O].text,[]),!g.loose){let J=g.items[O].tokens.filter(ye=>ye.type==="space"),Q=J.length>0&&J.some(ye=>/\n.*\n/.test(ye.raw));g.loose=Q}if(g.loose)for(let O=0;O<g.items.length;O++)g.items[O].loose=!0;return g}}html(c){let u=this.rules.block.html.exec(c);if(u)return{type:"html",block:!0,raw:u[0],pre:u[1]==="pre"||u[1]==="script"||u[1]==="style",text:u[0]}}def(c){let u=this.rules.block.def.exec(c);if(u){let p=u[1].toLowerCase().replace(/\s+/g," "),f=u[2]?u[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",g=u[3]?u[3].substring(1,u[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):u[3];return{type:"def",tag:p,raw:u[0],href:f,title:g}}}table(c){let u=this.rules.block.table.exec(c);if(!u||!/[:|]/.test(u[2]))return;let p=$(u[1]),f=u[2].replace(/^\||\| *$/g,"").split("|"),g=u[3]&&u[3].trim()?u[3].replace(/\n[ \t]*$/,"").split(`
`):[],w={type:"table",raw:u[0],header:[],align:[],rows:[]};if(p.length===f.length){for(let C of f)/^ *-+: *$/.test(C)?w.align.push("right"):/^ *:-+: *$/.test(C)?w.align.push("center"):/^ *:-+ *$/.test(C)?w.align.push("left"):w.align.push(null);for(let C=0;C<p.length;C++)w.header.push({text:p[C],tokens:this.lexer.inline(p[C]),header:!0,align:w.align[C]});for(let C of g)w.rows.push($(C,w.header.length).map((O,J)=>({text:O,tokens:this.lexer.inline(O),header:!1,align:w.align[J]})));return w}}lheading(c){let u=this.rules.block.lheading.exec(c);if(u)return{type:"heading",raw:u[0],depth:u[2].charAt(0)==="="?1:2,text:u[1],tokens:this.lexer.inline(u[1])}}paragraph(c){let u=this.rules.block.paragraph.exec(c);if(u){let p=u[1].charAt(u[1].length-1)===`
`?u[1].slice(0,-1):u[1];return{type:"paragraph",raw:u[0],text:p,tokens:this.lexer.inline(p)}}}text(c){let u=this.rules.block.text.exec(c);if(u)return{type:"text",raw:u[0],text:u[0],tokens:this.lexer.inline(u[0])}}escape(c){let u=this.rules.inline.escape.exec(c);if(u)return{type:"escape",raw:u[0],text:b(u[1])}}tag(c){let u=this.rules.inline.tag.exec(c);if(u)return!this.lexer.state.inLink&&/^<a /i.test(u[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(u[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(u[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(u[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:u[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:u[0]}}link(c){let u=this.rules.inline.link.exec(c);if(u){let p=u[2].trim();if(!this.options.pedantic&&/^</.test(p)){if(!/>$/.test(p))return;let w=W(p.slice(0,-1),"\\");if((p.length-w.length)%2===0)return}else{let w=ne(u[2],"()");if(w>-1){let C=(u[0].indexOf("!")===0?5:4)+u[1].length+w;u[2]=u[2].substring(0,w),u[0]=u[0].substring(0,C).trim(),u[3]=""}}let f=u[2],g="";if(this.options.pedantic){let w=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(f);w&&(f=w[1],g=w[3])}else g=u[3]?u[3].slice(1,-1):"";return f=f.trim(),/^</.test(f)&&(this.options.pedantic&&!/>$/.test(p)?f=f.slice(1):f=f.slice(1,-1)),pe(u,{href:f&&f.replace(this.rules.inline.anyPunctuation,"$1"),title:g&&g.replace(this.rules.inline.anyPunctuation,"$1")},u[0],this.lexer)}}reflink(c,u){let p;if((p=this.rules.inline.reflink.exec(c))||(p=this.rules.inline.nolink.exec(c))){let f=(p[2]||p[1]).replace(/\s+/g," "),g=u[f.toLowerCase()];if(!g){let w=p[0].charAt(0);return{type:"text",raw:w,text:w}}return pe(p,g,p[0],this.lexer)}}emStrong(c,u,p=""){let f=this.rules.inline.emStrongLDelim.exec(c);if(!(!f||f[3]&&p.match(/[\p{L}\p{N}]/u))&&(!(f[1]||f[2])||!p||this.rules.inline.punctuation.exec(p))){let g=[...f[0]].length-1,w,C,O=g,J=0,Q=f[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Q.lastIndex=0,u=u.slice(-1*c.length+g);(f=Q.exec(u))!=null;){if(w=f[1]||f[2]||f[3]||f[4]||f[5]||f[6],!w)continue;if(C=[...w].length,f[3]||f[4]){O+=C;continue}else if((f[5]||f[6])&&g%3&&!((g+C)%3)){J+=C;continue}if(O-=C,O>0)continue;C=Math.min(C,C+O+J);let ye=[...f[0]][0].length,ke=c.slice(0,g+f.index+ye+C);if(Math.min(g,C)%2){let xe=ke.slice(1,-1);return{type:"em",raw:ke,text:xe,tokens:this.lexer.inlineTokens(xe)}}let Te=ke.slice(2,-2);return{type:"strong",raw:ke,text:Te,tokens:this.lexer.inlineTokens(Te)}}}}codespan(c){let u=this.rules.inline.code.exec(c);if(u){let p=u[2].replace(/\n/g," "),f=/[^ ]/.test(p),g=/^ /.test(p)&&/ $/.test(p);return f&&g&&(p=p.substring(1,p.length-1)),p=b(p,!0),{type:"codespan",raw:u[0],text:p}}}br(c){let u=this.rules.inline.br.exec(c);if(u)return{type:"br",raw:u[0]}}del(c){let u=this.rules.inline.del.exec(c);if(u)return{type:"del",raw:u[0],text:u[2],tokens:this.lexer.inlineTokens(u[2])}}autolink(c){let u=this.rules.inline.autolink.exec(c);if(u){let p,f;return u[2]==="@"?(p=b(u[1]),f="mailto:"+p):(p=b(u[1]),f=p),{type:"link",raw:u[0],text:p,href:f,tokens:[{type:"text",raw:p,text:p}]}}}url(c){var p;let u;if(u=this.rules.inline.url.exec(c)){let f,g;if(u[2]==="@")f=b(u[0]),g="mailto:"+f;else{let w;do w=u[0],u[0]=((p=this.rules.inline._backpedal.exec(u[0]))==null?void 0:p[0])??"";while(w!==u[0]);f=b(u[0]),u[1]==="www."?g="http://"+u[0]:g=u[0]}return{type:"link",raw:u[0],text:f,href:g,tokens:[{type:"text",raw:f,text:f}]}}}inlineText(c){let u=this.rules.inline.text.exec(c);if(u){let p;return this.lexer.state.inRawBlock?p=u[0]:p=b(u[0]),{type:"text",raw:u[0],text:p}}}},i(sr,"_Tokenizer"),sr),H=/^(?: *(?:\n|$))+/,le=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,P=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,V=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,S=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,_=/(?:[*+-]|\d{1,9}[.)])/,B=I(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,_).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),he=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,T=/^[^\n]+/,D=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ee=I(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",D).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),se=I(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_).getRegex(),x="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,we=I("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",q).replace("tag",x).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_e=I(he).replace("hr",V).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x).getRegex(),be={blockquote:I(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_e).getRegex(),code:le,def:ee,fences:P,heading:S,hr:V,html:we,lheading:B,list:se,newline:H,paragraph:_e,table:U,text:T},Ie=I("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",V).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x).getRegex(),it={...be,table:Ie,paragraph:I(he).replace("hr",V).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ie).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x).getRegex()},vt={...be,html:I(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",q).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:I(he).replace("hr",V).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},wt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Gr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,wr=/^( {2,}|\\)\n(?!\s*$)/,Wr=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,pt="\\p{P}\\p{S}",tr=I(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,pt).getRegex(),kr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,tt=I(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,pt).getRegex(),ri=I("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,pt).getRegex(),rr=I("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,pt).getRegex(),ce=I(/\\([punct])/,"gu").replace(/punct/g,pt).getRegex(),Kr=I(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),He=I(q).replace("(?:-->|$)","-->").getRegex(),Oe=I("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",He).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ft=I(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",nt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),de=I(/^!?\[(label)\]\[(ref)\]/).replace("label",nt).replace("ref",D).getRegex(),ae=I(/^!?\[(ref)\](?:\[\])?/).replace("ref",D).getRegex(),M=I("reflink|nolink(?!\\()","g").replace("reflink",de).replace("nolink",ae).getRegex(),R={_backpedal:U,anyPunctuation:ce,autolink:Kr,blockSkip:kr,br:wr,code:Gr,del:U,emStrongLDelim:tt,emStrongRDelimAst:ri,emStrongRDelimUnd:rr,escape:wt,link:ft,nolink:ae,punctuation:tr,reflink:de,reflinkSearch:M,tag:Oe,text:Wr,url:U},oe={...R,link:I(/^!?\[(label)\]\((.*?)\)/).replace("label",nt).getRegex(),reflink:I(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nt).getRegex()},me={...R,escape:I(wt).replace("])","~|])").getRegex(),url:I(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},De={...me,br:I(wr).replace("{2,}","*").getRegex(),text:I(me.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},je={normal:be,gfm:it,pedantic:vt},kt={normal:R,gfm:me,breaks:De,pedantic:oe},Ye=(St=class{constructor(c){N(this,"tokens");N(this,"options");N(this,"state");N(this,"tokenizer");N(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=c||t.defaults,this.options.tokenizer=this.options.tokenizer||new E,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let u={block:je.normal,inline:kt.normal};this.options.pedantic?(u.block=je.pedantic,u.inline=kt.pedantic):this.options.gfm&&(u.block=je.gfm,this.options.breaks?u.inline=kt.breaks:u.inline=kt.gfm),this.tokenizer.rules=u}static get rules(){return{block:je,inline:kt}}static lex(c,u){return new St(u).lex(c)}static lexInline(c,u){return new St(u).inlineTokens(c)}lex(c){c=c.replace(/\r\n|\r/g,`
`),this.blockTokens(c,this.tokens);for(let u=0;u<this.inlineQueue.length;u++){let p=this.inlineQueue[u];this.inlineTokens(p.src,p.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(c,u=[],p=!1){this.options.pedantic?c=c.replace(/\t/g,"    ").replace(/^ +$/gm,""):c=c.replace(/^( *)(\t+)/gm,(C,O,J)=>O+"    ".repeat(J.length));let f,g,w;for(;c;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(C=>(f=C.call({lexer:this},c,u))?(c=c.substring(f.raw.length),u.push(f),!0):!1))){if(f=this.tokenizer.space(c)){c=c.substring(f.raw.length),f.raw.length===1&&u.length>0?u[u.length-1].raw+=`
`:u.push(f);continue}if(f=this.tokenizer.code(c)){c=c.substring(f.raw.length),g=u[u.length-1],g&&(g.type==="paragraph"||g.type==="text")?(g.raw+=`
`+f.raw,g.text+=`
`+f.text,this.inlineQueue[this.inlineQueue.length-1].src=g.text):u.push(f);continue}if(f=this.tokenizer.fences(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.heading(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.hr(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.blockquote(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.list(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.html(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.def(c)){c=c.substring(f.raw.length),g=u[u.length-1],g&&(g.type==="paragraph"||g.type==="text")?(g.raw+=`
`+f.raw,g.text+=`
`+f.raw,this.inlineQueue[this.inlineQueue.length-1].src=g.text):this.tokens.links[f.tag]||(this.tokens.links[f.tag]={href:f.href,title:f.title});continue}if(f=this.tokenizer.table(c)){c=c.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.lheading(c)){c=c.substring(f.raw.length),u.push(f);continue}if(w=c,this.options.extensions&&this.options.extensions.startBlock){let C=1/0,O=c.slice(1),J;this.options.extensions.startBlock.forEach(Q=>{J=Q.call({lexer:this},O),typeof J=="number"&&J>=0&&(C=Math.min(C,J))}),C<1/0&&C>=0&&(w=c.substring(0,C+1))}if(this.state.top&&(f=this.tokenizer.paragraph(w))){g=u[u.length-1],p&&(g==null?void 0:g.type)==="paragraph"?(g.raw+=`
`+f.raw,g.text+=`
`+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=g.text):u.push(f),p=w.length!==c.length,c=c.substring(f.raw.length);continue}if(f=this.tokenizer.text(c)){c=c.substring(f.raw.length),g=u[u.length-1],g&&g.type==="text"?(g.raw+=`
`+f.raw,g.text+=`
`+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=g.text):u.push(f);continue}if(c){let C="Infinite loop on byte: "+c.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return this.state.top=!0,u}inline(c,u=[]){return this.inlineQueue.push({src:c,tokens:u}),u}inlineTokens(c,u=[]){let p,f,g,w=c,C,O,J;if(this.tokens.links){let Q=Object.keys(this.tokens.links);if(Q.length>0)for(;(C=this.tokenizer.rules.inline.reflinkSearch.exec(w))!=null;)Q.includes(C[0].slice(C[0].lastIndexOf("[")+1,-1))&&(w=w.slice(0,C.index)+"["+"a".repeat(C[0].length-2)+"]"+w.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(C=this.tokenizer.rules.inline.blockSkip.exec(w))!=null;)w=w.slice(0,C.index)+"["+"a".repeat(C[0].length-2)+"]"+w.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(C=this.tokenizer.rules.inline.anyPunctuation.exec(w))!=null;)w=w.slice(0,C.index)+"++"+w.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;c;)if(O||(J=""),O=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Q=>(p=Q.call({lexer:this},c,u))?(c=c.substring(p.raw.length),u.push(p),!0):!1))){if(p=this.tokenizer.escape(c)){c=c.substring(p.raw.length),u.push(p);continue}if(p=this.tokenizer.tag(c)){c=c.substring(p.raw.length),f=u[u.length-1],f&&p.type==="text"&&f.type==="text"?(f.raw+=p.raw,f.text+=p.text):u.push(p);continue}if(p=this.tokenizer.link(c)){c=c.substring(p.raw.length),u.push(p);continue}if(p=this.tokenizer.reflink(c,this.tokens.links)){c=c.substring(p.raw.length),f=u[u.length-1],f&&p.type==="text"&&f.type==="text"?(f.raw+=p.raw,f.text+=p.text):u.push(p);continue}if(p=this.tokenizer.emStrong(c,w,J)){c=c.substring(p.raw.length),u.push(p);continue}if(p=this.tokenizer.codespan(c)){c=c.substring(p.raw.length),u.push(p);continue}if(p=this.tokenizer.br(c)){c=c.substring(p.raw.length),u.push(p);continue}if(p=this.tokenizer.del(c)){c=c.substring(p.raw.length),u.push(p);continue}if(p=this.tokenizer.autolink(c)){c=c.substring(p.raw.length),u.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(c))){c=c.substring(p.raw.length),u.push(p);continue}if(g=c,this.options.extensions&&this.options.extensions.startInline){let Q=1/0,ye=c.slice(1),ke;this.options.extensions.startInline.forEach(Te=>{ke=Te.call({lexer:this},ye),typeof ke=="number"&&ke>=0&&(Q=Math.min(Q,ke))}),Q<1/0&&Q>=0&&(g=c.substring(0,Q+1))}if(p=this.tokenizer.inlineText(g)){c=c.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(J=p.raw.slice(-1)),O=!0,f=u[u.length-1],f&&f.type==="text"?(f.raw+=p.raw,f.text+=p.text):u.push(p);continue}if(c){let Q="Infinite loop on byte: "+c.charCodeAt(0);if(this.options.silent){console.error(Q);break}else throw new Error(Q)}}return u}},i(St,"_Lexer"),St),xr=(ze=class{constructor(c){N(this,"options");N(this,"parser");this.options=c||t.defaults}space(c){return""}code({text:c,lang:u,escaped:p}){var w;let f=(w=(u||"").match(/^\S*/))==null?void 0:w[0],g=c.replace(/\n$/,"")+`
`;return f?'<pre><code class="language-'+b(f)+'">'+(p?g:b(g,!0))+`</code></pre>
`:"<pre><code>"+(p?g:b(g,!0))+`</code></pre>
`}blockquote({tokens:c}){return`<blockquote>
${this.parser.parse(c)}</blockquote>
`}html({text:c}){return c}heading({tokens:c,depth:u}){return`<h${u}>${this.parser.parseInline(c)}</h${u}>
`}hr(c){return`<hr>
`}list(c){let u=c.ordered,p=c.start,f="";for(let C=0;C<c.items.length;C++){let O=c.items[C];f+=this.listitem(O)}let g=u?"ol":"ul",w=u&&p!==1?' start="'+p+'"':"";return"<"+g+w+`>
`+f+"</"+g+`>
`}listitem(c){let u="";if(c.task){let p=this.checkbox({checked:!!c.checked});c.loose?c.tokens.length>0&&c.tokens[0].type==="paragraph"?(c.tokens[0].text=p+" "+c.tokens[0].text,c.tokens[0].tokens&&c.tokens[0].tokens.length>0&&c.tokens[0].tokens[0].type==="text"&&(c.tokens[0].tokens[0].text=p+" "+c.tokens[0].tokens[0].text)):c.tokens.unshift({type:"text",raw:p+" ",text:p+" "}):u+=p+" "}return u+=this.parser.parse(c.tokens,!!c.loose),`<li>${u}</li>
`}checkbox({checked:c}){return"<input "+(c?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:c}){return`<p>${this.parser.parseInline(c)}</p>
`}table(c){let u="",p="";for(let g=0;g<c.header.length;g++)p+=this.tablecell(c.header[g]);u+=this.tablerow({text:p});let f="";for(let g=0;g<c.rows.length;g++){let w=c.rows[g];p="";for(let C=0;C<w.length;C++)p+=this.tablecell(w[C]);f+=this.tablerow({text:p})}return f&&(f=`<tbody>${f}</tbody>`),`<table>
<thead>
`+u+`</thead>
`+f+`</table>
`}tablerow({text:c}){return`<tr>
${c}</tr>
`}tablecell(c){let u=this.parser.parseInline(c.tokens),p=c.header?"th":"td";return(c.align?`<${p} align="${c.align}">`:`<${p}>`)+u+`</${p}>
`}strong({tokens:c}){return`<strong>${this.parser.parseInline(c)}</strong>`}em({tokens:c}){return`<em>${this.parser.parseInline(c)}</em>`}codespan({text:c}){return`<code>${c}</code>`}br(c){return"<br>"}del({tokens:c}){return`<del>${this.parser.parseInline(c)}</del>`}link({href:c,title:u,tokens:p}){let f=this.parser.parseInline(p),g=F(c);if(g===null)return f;c=g;let w='<a href="'+c+'"';return u&&(w+=' title="'+u+'"'),w+=">"+f+"</a>",w}image({href:c,title:u,text:p}){let f=F(c);if(f===null)return p;c=f;let g=`<img src="${c}" alt="${p}"`;return u&&(g+=` title="${u}"`),g+=">",g}text(c){return"tokens"in c&&c.tokens?this.parser.parseInline(c.tokens):c.text}},i(ze,"_Renderer"),ze),Yr=(At=class{strong({text:c}){return c}em({text:c}){return c}codespan({text:c}){return c}del({text:c}){return c}html({text:c}){return c}text({text:c}){return c}link({text:c}){return""+c}image({text:c}){return""+c}br(){return""}},i(At,"_TextRenderer"),At),xt=(ct=class{constructor(c){N(this,"options");N(this,"renderer");N(this,"textRenderer");this.options=c||t.defaults,this.options.renderer=this.options.renderer||new xr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yr}static parse(c,u){return new ct(u).parse(c)}static parseInline(c,u){return new ct(u).parseInline(c)}parse(c,u=!0){let p="";for(let f=0;f<c.length;f++){let g=c[f];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]){let C=g,O=this.options.extensions.renderers[C.type].call({parser:this},C);if(O!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(C.type)){p+=O||"";continue}}let w=g;switch(w.type){case"space":{p+=this.renderer.space(w);continue}case"hr":{p+=this.renderer.hr(w);continue}case"heading":{p+=this.renderer.heading(w);continue}case"code":{p+=this.renderer.code(w);continue}case"table":{p+=this.renderer.table(w);continue}case"blockquote":{p+=this.renderer.blockquote(w);continue}case"list":{p+=this.renderer.list(w);continue}case"html":{p+=this.renderer.html(w);continue}case"paragraph":{p+=this.renderer.paragraph(w);continue}case"text":{let C=w,O=this.renderer.text(C);for(;f+1<c.length&&c[f+1].type==="text";)C=c[++f],O+=`
`+this.renderer.text(C);u?p+=this.renderer.paragraph({type:"paragraph",raw:O,text:O,tokens:[{type:"text",raw:O,text:O}]}):p+=O;continue}default:{let C='Token with "'+w.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return p}parseInline(c,u){u=u||this.renderer;let p="";for(let f=0;f<c.length;f++){let g=c[f];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]){let C=this.options.extensions.renderers[g.type].call({parser:this},g);if(C!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){p+=C||"";continue}}let w=g;switch(w.type){case"escape":{p+=u.text(w);break}case"html":{p+=u.html(w);break}case"link":{p+=u.link(w);break}case"image":{p+=u.image(w);break}case"strong":{p+=u.strong(w);break}case"em":{p+=u.em(w);break}case"codespan":{p+=u.codespan(w);break}case"br":{p+=u.br(w);break}case"del":{p+=u.del(w);break}case"text":{p+=u.text(w);break}default:{let C='Token with "'+w.type+'" type was not found.';if(this.options.silent)return console.error(C),"";throw new Error(C)}}}return p}},i(ct,"_Parser"),ct),_t=(mt=class{constructor(c){N(this,"options");this.options=c||t.defaults}preprocess(c){return c}postprocess(c){return c}processAllTokens(c){return c}},i(mt,"_Hooks"),N(mt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),mt),ar=(ir=class{constructor(...c){El(this,gt);N(this,"defaults",a());N(this,"options",this.setOptions);N(this,"parse",oi(this,gt,_o).call(this,Ye.lex,xt.parse));N(this,"parseInline",oi(this,gt,_o).call(this,Ye.lexInline,xt.parseInline));N(this,"Parser",xt);N(this,"Renderer",xr);N(this,"TextRenderer",Yr);N(this,"Lexer",Ye);N(this,"Tokenizer",E);N(this,"Hooks",_t);this.use(...c)}walkTokens(c,u){var f,g;let p=[];for(let w of c)switch(p=p.concat(u.call(this,w)),w.type){case"table":{let C=w;for(let O of C.header)p=p.concat(this.walkTokens(O.tokens,u));for(let O of C.rows)for(let J of O)p=p.concat(this.walkTokens(J.tokens,u));break}case"list":{let C=w;p=p.concat(this.walkTokens(C.items,u));break}default:{let C=w;(g=(f=this.defaults.extensions)==null?void 0:f.childTokens)!=null&&g[C.type]?this.defaults.extensions.childTokens[C.type].forEach(O=>{let J=C[O].flat(1/0);p=p.concat(this.walkTokens(J,u))}):C.tokens&&(p=p.concat(this.walkTokens(C.tokens,u)))}}return p}use(...c){let u=this.defaults.extensions||{renderers:{},childTokens:{}};return c.forEach(p=>{let f={...p};if(f.async=this.defaults.async||f.async||!1,p.extensions&&(p.extensions.forEach(g=>{if(!g.name)throw new Error("extension name required");if("renderer"in g){let w=u.renderers[g.name];w?u.renderers[g.name]=function(...C){let O=g.renderer.apply(this,C);return O===!1&&(O=w.apply(this,C)),O}:u.renderers[g.name]=g.renderer}if("tokenizer"in g){if(!g.level||g.level!=="block"&&g.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let w=u[g.level];w?w.unshift(g.tokenizer):u[g.level]=[g.tokenizer],g.start&&(g.level==="block"?u.startBlock?u.startBlock.push(g.start):u.startBlock=[g.start]:g.level==="inline"&&(u.startInline?u.startInline.push(g.start):u.startInline=[g.start]))}"childTokens"in g&&g.childTokens&&(u.childTokens[g.name]=g.childTokens)}),f.extensions=u),p.renderer){let g=this.defaults.renderer||new xr(this.defaults);for(let w in p.renderer){if(!(w in g))throw new Error(`renderer '${w}' does not exist`);if(["options","parser"].includes(w))continue;let C=w,O=p.renderer[C];p.useNewRenderer||(O=oi(this,gt,Au).call(this,O,C,g));let J=g[C];g[C]=(...Q)=>{let ye=O.apply(g,Q);return ye===!1&&(ye=J.apply(g,Q)),ye||""}}f.renderer=g}if(p.tokenizer){let g=this.defaults.tokenizer||new E(this.defaults);for(let w in p.tokenizer){if(!(w in g))throw new Error(`tokenizer '${w}' does not exist`);if(["options","rules","lexer"].includes(w))continue;let C=w,O=p.tokenizer[C],J=g[C];g[C]=(...Q)=>{let ye=O.apply(g,Q);return ye===!1&&(ye=J.apply(g,Q)),ye}}f.tokenizer=g}if(p.hooks){let g=this.defaults.hooks||new _t;for(let w in p.hooks){if(!(w in g))throw new Error(`hook '${w}' does not exist`);if(w==="options")continue;let C=w,O=p.hooks[C],J=g[C];_t.passThroughHooks.has(w)?g[C]=Q=>{if(this.defaults.async)return Promise.resolve(O.call(g,Q)).then(ke=>J.call(g,ke));let ye=O.call(g,Q);return J.call(g,ye)}:g[C]=(...Q)=>{let ye=O.apply(g,Q);return ye===!1&&(ye=J.apply(g,Q)),ye}}f.hooks=g}if(p.walkTokens){let g=this.defaults.walkTokens,w=p.walkTokens;f.walkTokens=function(C){let O=[];return O.push(w.call(this,C)),g&&(O=O.concat(g.call(this,C))),O}}this.defaults={...this.defaults,...f}}),this}setOptions(c){return this.defaults={...this.defaults,...c},this}lexer(c,u){return Ye.lex(c,u??this.defaults)}parser(c,u){return xt.parse(c,u??this.defaults)}},gt=new WeakSet,Au=function(c,u,p){switch(u){case"heading":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,p.parser.parseInline(f.tokens),f.depth,A(p.parser.parseInline(f.tokens,p.parser.textRenderer)))};case"code":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.text,f.lang,!!f.escaped)};case"table":return function(f){if(!f.type||f.type!==u)return c.apply(this,arguments);let g="",w="";for(let O=0;O<f.header.length;O++)w+=this.tablecell({text:f.header[O].text,tokens:f.header[O].tokens,header:!0,align:f.align[O]});g+=this.tablerow({text:w});let C="";for(let O=0;O<f.rows.length;O++){let J=f.rows[O];w="";for(let Q=0;Q<J.length;Q++)w+=this.tablecell({text:J[Q].text,tokens:J[Q].tokens,header:!1,align:f.align[Q]});C+=this.tablerow({text:w})}return c.call(this,g,C)};case"blockquote":return function(f){if(!f.type||f.type!==u)return c.apply(this,arguments);let g=this.parser.parse(f.tokens);return c.call(this,g)};case"list":return function(f){if(!f.type||f.type!==u)return c.apply(this,arguments);let g=f.ordered,w=f.start,C=f.loose,O="";for(let J=0;J<f.items.length;J++){let Q=f.items[J],ye=Q.checked,ke=Q.task,Te="";if(Q.task){let xe=this.checkbox({checked:!!ye});C?Q.tokens.length>0&&Q.tokens[0].type==="paragraph"?(Q.tokens[0].text=xe+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=xe+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",text:xe+" "}):Te+=xe+" "}Te+=this.parser.parse(Q.tokens,C),O+=this.listitem({type:"list_item",raw:Te,text:Te,task:ke,checked:!!ye,loose:C,tokens:Q.tokens})}return c.call(this,O,g,w)};case"html":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.text,f.block)};case"paragraph":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,this.parser.parseInline(f.tokens))};case"escape":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.text)};case"link":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.href,f.title,this.parser.parseInline(f.tokens))};case"image":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.href,f.title,f.text)};case"strong":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,this.parser.parseInline(f.tokens))};case"em":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,this.parser.parseInline(f.tokens))};case"codespan":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.text)};case"del":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,this.parser.parseInline(f.tokens))};case"text":return function(f){return!f.type||f.type!==u?c.apply(this,arguments):c.call(this,f.text)}}return c},_o=function(c,u){return(p,f)=>{let g={...f},w={...this.defaults,...g};this.defaults.async===!0&&g.async===!1&&(w.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),w.async=!0);let C=oi(this,gt,Tu).call(this,!!w.silent,!!w.async);if(typeof p>"u"||p===null)return C(new Error("marked(): input parameter is undefined or null"));if(typeof p!="string")return C(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(p)+", string expected"));if(w.hooks&&(w.hooks.options=w),w.async)return Promise.resolve(w.hooks?w.hooks.preprocess(p):p).then(O=>c(O,w)).then(O=>w.hooks?w.hooks.processAllTokens(O):O).then(O=>w.walkTokens?Promise.all(this.walkTokens(O,w.walkTokens)).then(()=>O):O).then(O=>u(O,w)).then(O=>w.hooks?w.hooks.postprocess(O):O).catch(C);try{w.hooks&&(p=w.hooks.preprocess(p));let O=c(p,w);w.hooks&&(O=w.hooks.processAllTokens(O)),w.walkTokens&&this.walkTokens(O,w.walkTokens);let J=u(O,w);return w.hooks&&(J=w.hooks.postprocess(J)),J}catch(O){return C(O)}}},Tu=function(c,u){return p=>{if(p.message+=`
Please report this to https://github.com/markedjs/marked.`,c){let f="<p>An error occurred:</p><pre>"+b(p.message+"",!0)+"</pre>";return u?Promise.resolve(f):f}if(u)return Promise.reject(p);throw p}},i(ir,"Marked"),ir),Ot=new ar;function Ae(ue,c){return Ot.parse(ue,c)}i(Ae,"marked"),Ae.options=Ae.setOptions=function(ue){return Ot.setOptions(ue),Ae.defaults=Ot.defaults,s(Ae.defaults),Ae},Ae.getDefaults=a,Ae.defaults=t.defaults,Ae.use=function(...ue){return Ot.use(...ue),Ae.defaults=Ot.defaults,s(Ae.defaults),Ae},Ae.walkTokens=function(ue,c){return Ot.walkTokens(ue,c)},Ae.parseInline=Ot.parseInline,Ae.Parser=xt,Ae.parser=xt.parse,Ae.Renderer=xr,Ae.TextRenderer=Yr,Ae.Lexer=Ye,Ae.lexer=Ye.lex,Ae.Tokenizer=E,Ae.Hooks=_t,Ae.parse=Ae;let Mn=Ae.options,Pn=Ae.setOptions,Qr=Ae.use,Ge=Ae.walkTokens,_r=Ae.parseInline,ai=Ae,$n=xt.parse,Rn=Ye.lex;t.Hooks=_t,t.Lexer=Ye,t.Marked=ar,t.Parser=xt,t.Renderer=xr,t.TextRenderer=Yr,t.Tokenizer=E,t.getDefaults=a,t.lexer=Rn,t.marked=Ae,t.options=Mn,t.parse=ai,t.parseInline=_r,t.parser=$n,t.setOptions=Pn,t.use=Qr,t.walkTokens=Ge})})(bi,bi.exports);var Qm=":host{color:#838289;color:var(--text-color-secondary,#838289)}.orama-markdown-wrapper>:first-child{margin-top:0;padding-top:0}a,li,p{font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));line-height:1.5;line-height:var(--font-line-height-md,1.5)}blockquote,ol,ul{margin:0 0 .25rem .25rem;margin:0 0 var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:0 0 0 .25rem;padding:0 0 0 var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding-inline-start:1rem;padding-inline-start:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}blockquote{border-left:.25rem solid #dadada;border-left:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) solid var(--border-color-primary,#dadada)}p>code{margin:0 .25rem;margin:0 var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}pre>code{position:relative}a{color:#151515;color:var(--text-color-primary,#151515);font-weight:700;opacity:.9;text-decoration:underline}a:hover{opacity:1}.orama-markdown-pre{position:relative}.orama-markdown-code{border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)))}.orama-markdown-code-title{color:#151515;color:var(--text-color-primary,#151515);display:block;font-size:.625rem;font-size:var(--font-size-xxs,calc(10rem/var(--orama-base-font-size, 16)));opacity:.5;padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}",Xm=Qm;window.hljs=fn;xo.addHook("afterSanitizeAttributes",r=>{"href"in r&&(r.setAttribute("target","_parent"),r.setAttribute("rel","noopener"))});var Cu=Object.fromEntries(wm.map(r=>[r,{error:!1,retries:0}])),Jm={html:"xml"};async function Eu(r){let e=Cu[r];if(!e||e.error&&e.retries>=5)return!1;try{let t=await fetch(`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/${r}.min.js`);if(!t.ok)throw new Error(`Failed to fetch ${r} language: ${t.statusText}`);let a=await t.text();if(await new Function(a)(),!fn.getLanguage(r))throw new Error(`Even after executing grammar script, ${r} language was not registered`);return e.retries=0,e.error=!1,!0}catch{return e.error=!0,e.retries++,!1}}i(Eu,"loadLanguageAndHighlight");var Es,e1=(Es=class{constructor(e){Re(this,e),this.chatMarkdownLinkClicked=$e(this,"chatMarkdownLinkClicked",7),this.parseMarkdown=async()=>{if(!this.content)return;let t=this.content.replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/,""),a=await bi.exports.marked.parse(t);this.divElement.innerHTML=xo.sanitize(a);let s=this.markdownElement.shadowRoot.querySelectorAll(".orama-markdown-code"),n={};for(let o=0;o<s.length;o++){let l=s[o];if(l.hasAttribute("data-highlighted"))continue;let h=l.className.split(" ").find(d=>d.startsWith("language-")).substring(9);n[h]=!0}for(let o of Object.keys(n))Eu(o).then(()=>{let l=bi.exports.marked.parse(t);this.divElement.innerHTML=xo.sanitize(l)})}}onContentChange(){this.parseMarkdown()}handleMarkdownLinkClicked(e){let t=e.target;if(this.chatMarkdownLinkClicked.emit({text:t.innerText,href:t.href}).defaultPrevented){e.preventDefault();return}}componentDidLoad(){bi.exports.marked.use({useNewRenderer:!0,renderer:{link:i(e=>{var t,a,s,n,o;let l=document.createElement("a");return l.innerHTML=(a=(t=this.chatMarkdownLinkTitle)===null||t===void 0?void 0:t.call(this,{href:e.href,text:e.text}))!==null&&a!==void 0?a:e.text,l.href=(n=(s=this.chatMarkdownLinkHref)===null||s===void 0?void 0:s.call(this,{href:e.href,text:e.text}))!==null&&n!==void 0?n:e.href,this.chatMarkdownLinkTarget&&(l.target=(o=this.chatMarkdownLinkTarget)===null||o===void 0?void 0:o.call(this,{href:e.href,text:e.text})),l.outerHTML},"link"),code:i(e=>{let t=Jm[e.lang]||e.lang,a=Cu[t]?t:"plaintext",s=document.createElement("pre");s.classList.add("orama-markdown-pre");let n=document.createElement("div");n.classList.add("orama-markdown-code-title"),s.appendChild(n);let o=document.createElement("code");o.classList.add("orama-markdown-code"),o.classList.add(`language-${a}`),o.classList.add("hljs"),s.appendChild(o);let l=fn.getLanguage(a);return l?(a==="plaintext"?n.innerHTML="":n.innerHTML=l.name,o.innerHTML=fn.highlight(e.text,{language:a,ignoreIllegals:!0}).value,o.dataset.highlighted="yes"):(n.innerHTML=" ",o.innerHTML=e.text),s.outerHTML},"code"),codespan:i(e=>{let t=document.createElement("code");return t.classList.add("orama-markdown-inline-code"),t.innerHTML=e.text,t.outerHTML},"codespan")}}),this.parseMarkdown()}render(){return y("host",{key:"0d9e85fa6fc920380df442ff1ef91e3fbcc0ea51"},y("link",{key:"10de293b8a30b8071a00c819c6c31968d5f48804",rel:"stylesheet",href:"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/styles/atom-one-dark.min.css"}),y("div",{key:"610b83aa61a633c732e20331685c9e61cecd1a49",class:"orama-markdown-wrapper",ref:i(e=>{this.divElement=e},"ref"),onClick:i(e=>{e.target.tagName==="A"&&this.handleMarkdownLinkClicked(e)},"onClick")}))}get markdownElement(){return Ke(this)}static get watchers(){return{content:["onContentChange"]}}},i(Es,"OramaMarkdown"),Es);e1.style=Xm;var t1=".modal.sc-orama-modal{background-color:hsla(0,0%,98%,.7);background-color:var(--backdrop-background-color-primary,hsla(0,0%,98%,.7));display:none;height:100%;left:0;position:fixed;top:0;width:100%;z-index:9999}.modal.open.sc-orama-modal{display:block}dialog.sc-orama-modal{border:none}.modal-content.sc-orama-modal{background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);display:flex;flex-direction:column;inset:0;justify-content:space-between;position:fixed}@media (min-width:1024.02px){.modal-content.sc-orama-modal{background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));bottom:auto;margin:0 auto;max-height:70vh;max-width:45rem;max-width:calc(720rem/var(--orama-base-font-size, 16));min-height:12.5rem;min-height:calc(200rem/var(--orama-base-font-size, 16));padding:0;top:5vh;width:80%}}.modal-close.sc-orama-modal:not(:focus-visible){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.modal-title.sc-orama-modal{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}",r1=t1,Is,a1=(Is=class{constructor(e){Re(this,e),this.modalClosed=$e(this,"modalClosed",7),this.closeOnEscape=!0,this.closeOnOutsideClick=!0,this.mainTitle="",this.originalBodyOverflowState="scroll"}trapFocus(e){let t=this.el.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),a=Array.from(t).filter(s=>s.offsetParent!==null);if(a.length>0){this.firstFocusableElement=a[0],this.lastFocusableElement=a[a.length-1];let s=this.el.querySelector(":focus");e.shiftKey&&s===this.firstFocusableElement?(e.preventDefault(),this.lastFocusableElement.focus()):!e.shiftKey&&s===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}}handleFocus(){let e=this.el.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),t=Array.from(e).filter(a=>a.offsetParent!==null);t.length>0&&t[0].focus()}connectedCallback(){this.originalBodyOverflowState=document.body.style.overflow,this.activeElement=document.activeElement,this.handleFocus(),document.body.style.overflow="hidden"}disconnectedCallback(){document.body.style.overflow=this.originalBodyOverflowState}componentDidUpdate(){this.handleFocus(),this.activeElement&&this.activeElement.focus()}render(){return y("dialog",{key:"a3fc3367ed30a5b2c440df67600bf619652b559c",class:"modal open","aria-modal":"true","aria-labelledby":"modalTitle","aria-describedby":"modalContent",onKeyDown:i(e=>{switch(e.key){case"Tab":this.trapFocus(e);break;case"Escape":this.closeOnEscape&&(e.preventDefault(),e.stopPropagation(),this.modalClosed.emit());break}},"onKeyDown"),onClick:i(e=>{this.innerModalRef&&!this.innerModalRef.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),this.modalClosed.emit())},"onClick")},y("div",{key:"4eff2c8624762dc014b85851590abed2cf8f38c3",class:"modal-inner",ref:i(e=>this.innerModalRef=e,"ref")},y("h1",{key:"d4360fef432f56884b54c5bdfac5d8bfa6e530ef",id:"modalTitle",class:"modal-title"},this.mainTitle),y("div",{key:"9e3867727679699c7d31e71b7d637c6d4cb24334",id:"modalContent",class:"modal-content"},y("slot",{key:"deb12898e6327dc99b52ae8d48444c0d09b2320d"})),y("button",{key:"43dfa57f3117c030474c707113208aa954cf68f4",onClick:i(()=>this.modalClosed.emit(),"onClick"),type:"button",class:"modal-close"},"Close")))}get el(){return Ke(this)}},i(Is,"OramaModal"),Is);a1.style=r1;var s1=Object.defineProperty,i1=Object.getOwnPropertyDescriptor,Di=i((r,e,t,a)=>{for(var s=a>1?void 0:a?i1(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&s1(e,t,s),s},"o"),Os,Wt=(Os=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Wt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Os,"t$3"),Os);Wt.weightsMap=new Map([["thin",L`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",L`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",L`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",L`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",L`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",L`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]);Wt.styles=Ve`
    :host {
      display: contents;
    }
  `;Di([K({type:String,reflect:!0})],Wt.prototype,"size",2);Di([K({type:String,reflect:!0})],Wt.prototype,"weight",2);Di([K({type:String,reflect:!0})],Wt.prototype,"color",2);Di([K({type:Boolean,reflect:!0})],Wt.prototype,"mirrored",2);Wt=Di([qe("ph-clock")],Wt);var n1=Object.defineProperty,o1=Object.getOwnPropertyDescriptor,Zi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?o1(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&n1(e,t,s),s},"s$3"),Ls,Kt=(Ls=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Kt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Ls,"t$2"),Ls);Kt.weightsMap=new Map([["thin",L`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",L`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",L`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",L`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",L`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",L`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]);Kt.styles=Ve`
    :host {
      display: contents;
    }
  `;Zi([K({type:String,reflect:!0})],Kt.prototype,"size",2);Zi([K({type:String,reflect:!0})],Kt.prototype,"weight",2);Zi([K({type:String,reflect:!0})],Kt.prototype,"color",2);Zi([K({type:Boolean,reflect:!0})],Kt.prototype,"mirrored",2);Kt=Zi([qe("ph-plus")],Kt);var l1=Object.defineProperty,c1=Object.getOwnPropertyDescriptor,ji=i((r,e,t,a)=>{for(var s=a>1?void 0:a?c1(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&l1(e,t,s),s},"s$2"),Ms,Yt=(Ms=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Yt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Ms,"t$1"),Ms);Yt.weightsMap=new Map([["thin",L`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",L`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",L`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",L`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",L`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",L`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]);Yt.styles=Ve`
    :host {
      display: contents;
    }
  `;ji([K({type:String,reflect:!0})],Yt.prototype,"size",2);ji([K({type:String,reflect:!0})],Yt.prototype,"weight",2);ji([K({type:String,reflect:!0})],Yt.prototype,"color",2);ji([K({type:Boolean,reflect:!0})],Yt.prototype,"mirrored",2);Yt=ji([qe("ph-caret-left")],Yt);var h1=".sc-orama-navigation-bar-h{align-items:center;background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);display:flex;padding:1rem 1rem .5rem;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}@media (min-width:1024.02px){.sc-orama-navigation-bar-h{display:none}}.spacer.sc-orama-navigation-bar{display:block;height:2.25rem;height:calc(36rem/var(--orama-base-font-size, 16));width:2.25rem;width:calc(36rem/var(--orama-base-font-size, 16))}.corner-section.sc-orama-navigation-bar{display:flex;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.corner-section.start.sc-orama-navigation-bar{display:flex;justify-content:flex-start}.corner-section.center.sc-orama-navigation-bar{display:flex;flex:1;justify-content:center}.corner-section.end.sc-orama-navigation-bar{display:flex;justify-content:flex-end}",d1=h1,u1=function(r,e,t,a){var s=arguments.length,n=s<3?e:a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,a);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},Ps,Iu=(Ps=class{constructor(e){Re(this,e),this.showBackButton=!0,this.showChatActions=!1,this.handleStartNewChat=()=>{var t;(t=this.chatStore.state.chatService)===null||t===void 0||t.resetChat()}}render(){return y(st,{key:"676f6e8004de45bc7e70a38534c694c57b2c5068"},y("div",{key:"036c53deef2f5fa0785f677d7aec3cb6fcc47a39",class:"corner-section start"},this.showBackButton?y(lr,null,y("orama-button",{type:"button",variant:"icon","aria-label":"Exit",onClick:this.handleClose,onKeyDown:this.handleClose},y("ph-caret-left",{size:"20px"}))):y("div",{class:"spacer"})),y("div",{key:"2dd271a6f0742652bb3480cb7996f46bd3a64bb5",class:"corner-section center"},y("orama-toggler",{key:"80ecf7005825e985ed5e86a12c5912d6e104c238"})),y("div",{key:"c00c10b04bffa9e7bbae61f27d0fc6e483b66e8a",class:"corner-section end"},this.showChatActions?y(lr,null,y("orama-button",{type:"button",variant:"icon","aria-label":"Start new chat",onClick:this.handleStartNewChat,onKeyDown:this.handleStartNewChat},y("ph-plus",{size:"20px"}))):y("div",{class:"spacer"})))}},i(Ps,"OramaNavigationBar"),Ps);u1([er("chat")],Iu.prototype,"chatStore",void 0);Iu.style=d1;var p1=".sc-orama-search-h{display:flex;flex-direction:column;overflow:hidden;width:100%}@media (max-width:1024px){.sc-orama-search-h orama-input.sc-orama-search{padding:0 1rem;padding:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}}@media (max-width:1024px){.sc-orama-search-h{padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}}.result-wrapper.sc-orama-search{flex-grow:1;overflow-y:auto;padding:0 1rem;padding:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.result-wrapper.sc-orama-search::-webkit-scrollbar{width:.3em}.result-wrapper.sc-orama-search::-webkit-scrollbar-track{background:transparent}.result-wrapper.sc-orama-search::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:1024.02px){.result-wrapper.sc-orama-search{padding:0 .75rem;padding:0 var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}}.search-form.sc-orama-search{display:flex;flex-direction:column}",f1=p1,hl=function(r,e,t,a){var s=arguments.length,n=s<3?e:a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,a);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},$s,Ln=($s=class{constructor(e){Re(this,e),this.searchCompleted=$e(this,"searchCompleted",7),this.answerGenerated=$e(this,"answerGenerated",7),this.placeholder="Search...",this.focusInput=!1,this.suggestions=[],this.disableChat=!1,this.highlightTitle=!1,this.highlightDescription=!1,this.selectedFacet="",this.handleSubmit=t=>{if(t.preventDefault(),this.disableChat)return;let a=this.el.querySelector("orama-chat-button");a==null||a.click()}}doSearch(){this.searchStore.state.searchService.search(this.globalStore.state.currentTerm,this.selectedFacet,{onSearchCompletedCallback:i(e=>{this.searchCompleted.emit(e)},"onSearchCompletedCallback")})}render(){var e;return y(st,{key:"5ffb6d0f313803282d1d0cdccb4acbfe803ee1ca"},y("form",{key:"8570f75cf23a846ce50773495f66c39c625187d2",onSubmit:this.handleSubmit,class:"search-form"},y("orama-input",{key:"693017fb81d0deec152de8938771d4df78062a7f","focus-on-arrow-nav":!0,autoFocus:this.focusInput,type:"search",onInput:i(t=>{let a=t.target;this.globalStore.state.currentTerm=a.value,this.doSearch()},"onInput"),value:this.globalStore.state.currentTerm,size:"large",labelForScreenReaders:this.placeholder,placeholder:this.placeholder}),y("slot",{key:"bdbbcda632f623b395862d9b7e2e9b44186f4a65",name:"summary"})),y("div",{key:"3bfb4f21ee8e03926b22e672b44d8914bb5e2ea2",class:"result-wrapper"},y("orama-facets",{key:"9c45496fd7c4819d2bf08c39f1035d1d8ffcc32d",facets:this.searchStore.state.facets,selectedFacet:this.selectedFacet,selectedFacetChanged:i(t=>{this.selectedFacet=t,this.doSearch()},"selectedFacetChanged")}),y("orama-search-results",{key:"622d144169802c259095c58be743bffffa3362b1",suggestions:!(!((e=this.globalStore.state.currentTerm)===null||e===void 0)&&e.length)&&!this.disableChat?this.suggestions:[],setChatTerm:i(t=>{var a;this.globalStore.state.currentTask="chat",(a=this.chatStore.state.chatService)===null||a===void 0||a.sendQuestion(t,void 0,{onAnswerGeneratedCallback:i(s=>this.answerGenerated.emit(s),"onAnswerGeneratedCallback")})},"setChatTerm"),sourceBaseUrl:this.sourceBaseUrl,linksTarget:this.linksTarget,linksRel:this.linksRel,sections:this.searchStore.state.results,searchTerm:this.globalStore.state.currentTerm,highlightTitle:this.highlightTitle,highlightDescription:this.highlightDescription,loading:this.searchStore.state.loading,error:this.searchStore.state.error})))}get el(){return Ke(this)}},i($s,"OramaSearch"),$s);hl([er("search")],Ln.prototype,"searchStore",void 0);hl([er("global")],Ln.prototype,"globalStore",void 0);hl([er("chat")],Ln.prototype,"chatStore",void 0);Ln.style=f1;var m1=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(t[a[s]]=r[a[s]]);return t},g1=10,Rs,b1=(Rs=class{constructor(e,t,a){this.search=async(s,n,o)=>{var l,h,d,m;if(!this.client)throw new di;if(this.abortSearch(),!s){this.searchStore.state.results=[],this.searchStore.state.count=0,this.searchStore.state.facets=[],this.searchStore.state.highlightedIndex=-1;return}this.searchStore.state.loading=!0;let b=this.abortController,k=(l=this.searchStore.state.searchParams)!==null&&l!==void 0?l:{},{limit:A,offset:z,where:I}=k,F=m1(k,["limit","offset","where"]),U=Object.assign(Object.assign(Object.assign(Object.assign({},F),{term:s,limit:A||g1}),I?{where:I}:{}),this.searchStore.state.facetProperty&&Object.assign({facets:{[this.searchStore.state.facetProperty]:{}}},n&&n!=="All"&&{where:Object.assign({[this.searchStore.state.facetProperty]:{eq:n}},I)}));try{let $=await this.client.search(U);if(b.signal.aborted)return;if($&&!$.hits)throw new Error("This search was made by a OramaClient with property mergeResult set to false. Orama Search Service requires mergeResult to be true.");this.searchStore.state.results=this.parserResults($==null?void 0:$.hits,this.searchStore.state.resultMap),this.searchStore.state.count=($==null?void 0:$.count)||0,this.searchStore.state.facets=this.parseFacets($==null?void 0:$.facets,this.searchStore.state.facetProperty),this.searchStore.state.highlightedIndex=-1,this.searchStore.state.loading=!1,(h=o==null?void 0:o.onSearchCompletedCallback)===null||h===void 0||h.call(o,{clientSearchParams:U,result:{results:this.searchStore.state.results,resultsCount:this.searchStore.state.count,facets:this.searchStore.state.facets}}),(d=o==null?void 0:o.onSearchCompletedCallback)===null||d===void 0||d.call(o,{clientSearchParams:U,result:{results:this.searchStore.state.results,resultsCount:this.searchStore.state.count,facets:this.searchStore.state.facets}})}catch($){if(console.error("Search error:",$),b.signal.aborted)return;this.searchStore.state.loading=!1,(m=o==null?void 0:o.onSearchErrorCallback)===null||m===void 0||m.call(o,$)}},this.retry=()=>{throw new Error("Not implemented")},this.parserResults=(s,n)=>{if(!s)return[];let o=[],l={};for(let h of s){let d=this.hitToSearchResultParser(h,n),m=typeof n.section=="function"?n.section(h.document):h.document[n.section];if(l[m]===void 0)o.push({section:m,items:[d]}),l[m]=o.length-1;else{let b=l[m];o[b].items.push(d)}}return o},this.hitToSearchResultParser=(s,n)=>{function o(h){let d=n[h];if(!d)return s.document[h];if(typeof d=="function")return d(s.document);let m=n[h];return s.document[m]}i(o,"getResultMapValue");function l(){let h=n.icon;return h?typeof h=="function"?h(s.document)??null:n.icon:null}return i(l,"getIcon"),{id:s.id,title:o("title"),description:o("description"),path:o("path"),icon:l()}},this.parseFacets=(s,n)=>{if(!n||!s)return[];let o=s[n];if(!o||!o.values)return[];let l=Object.values(o.values).reduce((d,m)=>d+m,0),h=Object.keys(o.values).map(d=>({name:d,count:o.values[d]}));return h.unshift({name:"All",count:l}),h},this.client=t||new Qd(e),this.searchStore=a,this.abortController=new AbortController}abortSearch(){this.abortController.abort(),this.abortController=new AbortController}},i(Rs,"SearchService"),Rs),zs,y1=(zs=class extends EventTarget{constructor(){super(),this._width=window.innerWidth,this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){this._width=window.innerWidth,this.dispatchEvent(new CustomEvent("widthChange",{detail:this._width}))}get width(){return this._width}},i(zs,"WindowService"),zs),Jn=new y1,v1="@keyframes showIn{0%{opacity:0;transform:translateY(-25%)}to{opacity:1;transform:translateY(0)}}@media (min-width:1024.02px){.modal orama-input{border-radius:0;margin:0;padding:0}.modal input[type=search]{border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0}}.main{flex-direction:column;flex-grow:1}.main,.section-active{display:flex;overflow:hidden}.section-inactive{display:none}",w1=v1,Ns,k1=(Ns=class{constructor(e){Re(this,e),this.searchCompleted=$e(this,"searchCompleted",7),this.searchResultClick=$e(this,"searchResultClick",7),this.clearChat=$e(this,"clearChat",7),this.startConversation=$e(this,"startConversation",7),this.answerGenerated=$e(this,"answerGenerated",7),this.answerSourceClick=$e(this,"answerSourceClick",7),this.chatMarkdownLinkClicked=$e(this,"chatMarkdownLinkClicked",7),this.modalClosed=$e(this,"modalClosed",7),this.modalStatusChanged=$e(this,"modalStatusChanged",7),this.colorScheme="light",this.open=!1,this.resultMap={},this.disableChat=!1,this.layout="modal",this.highlightTitle=!1,this.highlightDescription=!1,this.showKeyboardShortcuts=!1,this.componentID=gn("search-box"),this.systemScheme="light",this.closeSearchbox=()=>{this.globalStore.state.open=!1,this.open=!1},this.onChatButtonClick=()=>{this.globalStore.state.currentTask="chat"},this.onPrefersColorSchemeChange=t=>{this.systemScheme=t.matches?"dark":"light",this.updateTheme()},this.updateWindowWidth=t=>{this.windowWidth=t.detail}}indexChanged(){this.searchStore&&this.startServices()}watchHandler(){this.updateTheme()}handleOpenPropChange(e){this.globalStore.state.open=e,this.modalStatusChanged.emit({open:e,id:this.wrapperRef}),e||this.modalClosed.emit()}handleFacetPropertyChange(e){this.searchStore.state.facetProperty=e}handleSearchParamsChange(e){this.searchStore.state.searchParams=e}handleKeyDown(e){var t;((t=this.globalStore)===null||t===void 0?void 0:t.state.currentTask)==="search"&&(this.layout==="modal"&&this.open||this.layout==="embed")&&["ArrowDown","ArrowUp"].includes(e.key)&&Wc(this.wrapperRef,e)}updateTheme(){let e=bn(this.htmlElement,this.colorScheme,this.systemScheme);yn(this.htmlElement,e,this.themeConfig)}getOldOramaClient(){if(!this.oramaCoreClientInstance)return this.clientInstance?this.clientInstance:Co(this.index)}startServices(){if(!this.index&&!this.clientInstance&&!this.oramaCoreClientInstance)return;To(this.htmlElement,this.index,this.clientInstance,this.oramaCoreClientInstance);let e=this.getOldOramaClient();this.searchStore.state.searchService=new b1(e,this.oramaCoreClientInstance,this.searchStore),this.chatStore.state.chatService=new Xd(e,this.oramaCoreClientInstance,this.chatStore)}componentWillLoad(){this.searchStore.state.facetProperty=this.facetProperty,this.searchStore.state.resultMap=this.resultMap,this.searchStore.state.searchParams=this.searchParams,this.htmlElement.id=this.componentID,this.startServices(),this.globalStore.state.open=this.open,this.globalStore.onChange("open",()=>{this.globalStore&&(this.open=this.globalStore.state.open,this.globalStore.state.open||(this.globalStore.state.currentTerm="",this.searchStore.state.facets=[],this.searchStore.state.count=0,this.searchStore.state.results=[],this.searchStore.state.highlightedIndex=-1,this.searchStore.state.loading=!1,this.searchStore.state.error=!1,this.chatStore.state.interactions=[],setTimeout(()=>{})))}),this.schemaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange),Jn.addEventListener("widthChange",this.updateWindowWidth)}connectedCallback(){this.chatStore=en("chat",this.componentID),this.searchStore=en("search",this.componentID),this.globalStore=en("global",this.componentID),this.windowWidth=Jn.width}disconnectedCallback(){var e;sh(this.componentID),Jn.removeEventListener("widthChange",this.updateWindowWidth),(e=this.schemaQuery)===null||e===void 0||e.removeEventListener("change",this.onPrefersColorSchemeChange)}getSearchBox(){return y("div",{class:`${this.windowWidth>1024||this.globalStore.state.currentTask==="search"?"section-active":"section-inactive"}`},y("orama-search",{placeholder:(this===null||this===void 0?void 0:this.searchPlaceholder)||"Search...",focusInput:this.globalStore.state.currentTask==="search",sourceBaseUrl:this.sourceBaseUrl,linksTarget:this.linksTarget,linksRel:this.linksRel,highlightTitle:this.highlightTitle,highlightDescription:this.highlightDescription,disableChat:this.disableChat,suggestions:this.suggestions},this.windowWidth>1024&&!this.disableChat&&y("orama-chat-button",{slot:"summary","focus-on-arrow-nav":!0,active:!!this.globalStore.state.currentTerm,label:`${this.globalStore.state.currentTerm?`${this.globalStore.state.currentTerm} - `:""}Get a summary`,onClick:this.onChatButtonClick,onKeyPress:this.onChatButtonClick})))}getChatBox(){return y(lr,null,y("orama-chat",{class:`${this.globalStore.state.currentTask==="chat"?"section-active":"section-inactive"}`,defaultTerm:this.globalStore.state.currentTask==="chat"?this.globalStore.state.currentTerm:"",showClearChat:!1,focusInput:this.globalStore.state.currentTask==="chat",placeholder:(this===null||this===void 0?void 0:this.chatPlaceholder)||this.placeholder,sourceBaseUrl:this.sourceBaseUrl,linksTarget:this.linksTarget,linksRel:this.linksRel,sourcesMap:this.sourcesMap,suggestions:this.suggestions,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}))}getInnerContent(){return y(lr,null,this.disableChat?null:y("orama-navigation-bar",{handleClose:this.closeSearchbox,showBackButton:this.layout!=="embed",showChatActions:this.globalStore.state.currentTask==="chat"}),y("div",{class:"main"},this.getSearchBox(),this.windowWidth<=1024&&this.getChatBox()),y("orama-footer",{colorScheme:this.colorScheme==="system"?this.systemScheme:this.colorScheme,showKeyboardShortcuts:this.showKeyboardShortcuts}))}getOuterContent(){return this.windowWidth>1024?y("orama-sliding-panel",{open:this.globalStore.state.currentTask==="chat",backdrop:this.layout==="embed",closed:i(()=>{this.globalStore.state.currentTask="search"},"closed")},this.getChatBox()):null}getModalLayout(){return y(lr,null,y("orama-modal",{ref:i(e=>this.wrapperRef=e,"ref"),class:"modal",mainTitle:"Start your search",onModalClosed:i(e=>{this.open=!1,e.stopPropagation()},"onModalClosed"),closeOnEscape:this.globalStore.state.currentTask==="search"||this.windowWidth<=1024},this.getInnerContent()),this.getOuterContent())}getEmbedLayout(){return y(lr,null,y("orama-embed",{ref:i(e=>this.wrapperRef=e,"ref")},this.getInnerContent()),this.getOuterContent())}render(){return this.layout==="modal"&&!this.globalStore.state.open?null:this.searchStore.state.searchService?this.chatStore.state.chatService?this.layout==="modal"?this.getModalLayout():this.getEmbedLayout():y("orama-text",{as:"p"},"Unable to initialize chat service"):y("orama-text",{as:"p"},"Unable to initialize search service")}get htmlElement(){return Ke(this)}static get watchers(){return{index:["indexChanged"],clientInstance:["indexChanged"],oramaCoreClientInstance:["indexChanged"],themeConfig:["watchHandler"],colorScheme:["watchHandler"],open:["handleOpenPropChange"],facetProperty:["handleFacetPropertyChange"],searchParams:["handleSearchParamsChange"]}}},i(Ns,"SearchBox"),Ns);k1.style=w1;var x1=":host{display:block}.kyb-shortcut{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));padding:.25rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(4rem/var(--orama-base-font-size, 16)))}",_1=x1,Hs,S1=(Hs=class{constructor(e){Re(this,e),this.size="medium",this.colorScheme="light",this.systemScheme="light",this.shortcutLabel="",this.componentID=gn("search-button"),this.onPrefersColorSchemeChange=t=>{this.systemScheme=t.matches?"dark":"light",this.updateTheme()}}watchHandler(){this.updateTheme()}handleSearchboxClosed(e){this.buttonRef.querySelector("button").focus()}handleKeyDown(e){e.key==="k"&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),this.buttonRef.click())}updateTheme(){let e=bn(this.htmlElement,this.colorScheme,this.systemScheme);yn(this.htmlElement,e,this.themeConfig)}handleShortcutLabel(){return navigator.userAgent.includes("Mac")?"â K":"Ctrl + K"}connectedCallback(){this.htmlElement.id=this.componentID,this.shortcutLabel=this.handleShortcutLabel(),this.schemaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange)}disconnectedCallback(){this.schemaQuery.removeEventListener("change",this.onPrefersColorSchemeChange)}componentWillLoad(){this.updateTheme()}render(){return y(st,{key:"31f636068b1f055167f0ff33a89ded39e650d50d"},y("orama-button",{key:"29dbd772116d1a0fb84e362b3d27d124f6fdd0b1",type:"button",variant:"secondary",ref:i(e=>this.buttonRef=e,"ref"),size:this.size,onClick:i(()=>{let e=document.getElementsByTagName("orama-search-box");if(!e.length){console.error("No OramaSearchBox found");return}if(e.length>1){console.error("Multiple instances of OramaSearchBox (orama-search-box) found. Considere to assign an ID to OramaSearchBox, implement onClick on OramaSearchButton and select desired OramaSearchBox on onClick method");return}e[0].open=!0},"onClick")},y("span",{key:"a25383abaccd46cdb1a310d27de501adb100fdfc",slot:"adorment-start"},y("ph-magnifying-glass",{key:"d96898f70517ac70edf58dcf57bf404ad9f4e35f"})),y("slot",{key:"b6feb536a70d1aff3644ef4d6dd81376ebee96c6"}),y("span",{key:"124f2463c619220884eb5bdfc02ff77697701b54",slot:"adorment-end",class:"kyb-shortcut"},this.shortcutLabel)))}get htmlElement(){return Ke(this)}static get watchers(){return{themeConfig:["watchHandler"],colorScheme:["watchHandler"]}}},i(Hs,"OramaSearchButton"),Hs);S1.style=_1;var rn={WHOLE_WORD_MATCH:"wholeWordMatch",PARTIAL_MATCH:"partialMatch",PARTIAL_MATCH_FULL_WORD:"partialMatchFullWord"},sa={caseSensitive:!1,strategy:rn.PARTIAL_MATCH,HTMLTag:"mark",CSSClass:"orama-highlight"},Ds,jc=(Ds=class{constructor(e=sa){N(this,"options");N(this,"_positions",[]);N(this,"_HTML","");N(this,"_searchTerm","");N(this,"_originalText","");this.options={...sa,...e}}highlight(e,t){if(this._searchTerm=t??"",this._originalText=e??"",!this._searchTerm||!this._originalText)return this._positions=[],this._HTML=this._originalText,this;let a=this.options.HTMLTag??sa.HTMLTag,s=this.options.CSSClass??sa.CSSClass,n=this.options.caseSensitive??sa.caseSensitive,o=this.options.strategy??sa.strategy,l=n?"g":"gi",h=this.escapeRegExp(n?this._searchTerm:this._searchTerm.toLowerCase()).trim().split(/\s+/).join("|"),d;if(o===rn.WHOLE_WORD_MATCH)d=new RegExp(`\\b${h}\\b`,l);else if(o===rn.PARTIAL_MATCH)d=new RegExp(h,l);else if(o===rn.PARTIAL_MATCH_FULL_WORD)d=new RegExp(`\\b[^\\s]*(${h})[^\\s]*\\b`,l);else throw new Error("Invalid highlighter strategy");let m=[],b=[],k,A=0,z=-1;for(;(k=d.exec(this._originalText))!==null&&d.lastIndex!==z;){z=d.lastIndex;let I=k.index,F=I+k[0].length-1;m.push({start:I,end:F}),b.push(this._originalText.slice(A,I)),b.push(`<${a} class="${s}">${k[0]}</${a}>`),A=F+1}return b.push(this._originalText.slice(A)),this._positions=m,this._HTML=b.join(""),this}trim(e,t=!0){if(this._positions.length===0)return`${this._HTML.substring(0,e)}${t?"...":""}`;if(this._originalText.length<=e)return this._HTML;let a=this._positions[0].start,s=Math.max(a-Math.floor(e/2),0),n=Math.min(s+e,this._originalText.length),o=`${s===0||!t?"":"..."}${this._originalText.slice(s,n)}${n<this._originalText.length&&t?"...":""}`;return this.highlight(o,this._searchTerm),this._HTML}get positions(){return this._positions}get HTML(){return this._HTML}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},i(Ds,"M$1"),Ds),A1=Object.defineProperty,T1=Object.getOwnPropertyDescriptor,Bi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?T1(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&A1(e,t,s),s},"h"),Zs,Qt=(Zs=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Qt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Zs,"a$1"),Zs);Qt.weightsMap=new Map([["thin",L`<path d="M210.83,69.17l-40-40A4,4,0,0,0,168,28H88A12,12,0,0,0,76,40V60H56A12,12,0,0,0,44,72V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V196h20a12,12,0,0,0,12-12V72A4,4,0,0,0,210.83,69.17ZM172,216a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h78.34L172,105.66Zm32-32a4,4,0,0,1-4,4H180V104a4,4,0,0,0-1.17-2.83l-40-40A4,4,0,0,0,136,60H84V40a4,4,0,0,1,4-4h78.34L204,73.66Zm-64-32a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h48A4,4,0,0,1,140,152Zm0,32a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h48A4,4,0,0,1,140,184Z"/>`],["light",L`<path d="M212.24,67.76l-40-40A6,6,0,0,0,168,26H88A14,14,0,0,0,74,40V58H56A14,14,0,0,0,42,72V216a14,14,0,0,0,14,14H168a14,14,0,0,0,14-14V198h18a14,14,0,0,0,14-14V72A6,6,0,0,0,212.24,67.76ZM170,216a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h77.51L170,106.49Zm32-32a2,2,0,0,1-2,2H182V104a6,6,0,0,0-1.76-4.24l-40-40A6,6,0,0,0,136,58H86V40a2,2,0,0,1,2-2h77.51L202,74.49Zm-60-32a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h48A6,6,0,0,1,142,152Zm0,32a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h48A6,6,0,0,1,142,184Z"/>`],["regular",L`<path d="M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z"/>`],["bold",L`<path d="M220.49,59.51l-40-40A12,12,0,0,0,172,16H92A20,20,0,0,0,72,36V56H56A20,20,0,0,0,36,76V216a20,20,0,0,0,20,20H164a20,20,0,0,0,20-20V196h20a20,20,0,0,0,20-20V68A12,12,0,0,0,220.49,59.51ZM160,212H60V80h67l33,33Zm40-40H184V108a12,12,0,0,0-3.51-8.49l-40-40A12,12,0,0,0,132,56H96V40h71l33,33Zm-56-28a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h44A12,12,0,0,1,144,144Zm0,40a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h44A12,12,0,0,1,144,184Z"/>`],["fill",L`<path d="M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM136,192H88a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm0-32H88a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm64,24H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Z"/>`],["duotone",L`<path d="M208,72V184a8,8,0,0,1-8,8H176V104L136,64H80V40a8,8,0,0,1,8-8h80Z" opacity="0.2"/><path d="M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z"/>`]]);Qt.styles=Ve`
    :host {
      display: contents;
    }
  `;Bi([K({type:String,reflect:!0})],Qt.prototype,"size",2);Bi([K({type:String,reflect:!0})],Qt.prototype,"weight",2);Bi([K({type:String,reflect:!0})],Qt.prototype,"color",2);Bi([K({type:Boolean,reflect:!0})],Qt.prototype,"mirrored",2);Qt=Bi([qe("ph-files")],Qt);var C1=".list.sc-orama-search-results{list-style:none;margin:0;padding:0}.section-list.sc-orama-search-results{gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));margin-top:.5rem;margin-top:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));padding-bottom:1rem;padding-bottom:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.section-item-list.sc-orama-search-results,.section-list.sc-orama-search-results{display:flex;flex-direction:column}.section-wrapper.sc-orama-search-results{border-bottom:1px solid #dadada;border-bottom:1px solid var(--border-color-primary,#dadada);padding-bottom:.75rem;padding-bottom:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.section-wrapper.sc-orama-search-results:last-of-type{border-bottom:none}.section-title-wrapper.sc-orama-search-results{padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));text-transform:capitalize}.section-title-wrapper.sc-orama-search-results *.sc-orama-search-results{color:#838289;color:var(--text-text-color-secondary,#838289)}.list-item.sc-orama-search-results{cursor:pointer}.list-item-button.sc-orama-search-results{align-items:center;background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid transparent;border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-family:inherit;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative;text-align:left;text-decoration:none;transition:background-color .2s}@media (hover:hover){.list-item-button.sc-orama-search-results:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}}.list-item-button.sc-orama-search-results:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.collapsed.sc-orama-search-results{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.result-title.sc-orama-search-results{color:#151515;color:var(--text-color-primary,#151515)}.result-description.sc-orama-search-results{color:#99989d;color:var(--text-color-tertiary,#99989d)}.results-empty.sc-orama-search-results{margin:2rem auto 2.5rem;margin:calc(32rem/var(--orama-base-font-size, 16)) auto calc(40rem/var(--orama-base-font-size, 16));max-width:25rem;max-width:calc(400rem/var(--orama-base-font-size, 16));text-align:center;width:80%}.suggestions-wrapper.sc-orama-search-results{padding:1rem 0 .75rem;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0 var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) 0}.suggestions-title.sc-orama-search-results{margin-bottom:.25rem;margin-bottom:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:0 .5rem;padding:0 var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));text-transform:uppercase}.textWrapper.sc-orama-search-results{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}ph-files.sc-orama-search-results{color:#151515;color:var(--icon-color-primary,#151515)}.result-item-icon-wrapper.sc-orama-search-results{align-items:center;display:flex;flex-shrink:0;height:20px;justify-content:center;width:20px}.custom-result-item-icon.sc-orama-search-results{max-height:20px;max-width:20px;-o-object-fit:contain;object-fit:contain}",E1=C1,js,I1=(js=class{constructor(e){Re(this,e),this.searchResultClick=$e(this,"searchResultClick",7),this.linksTarget="_blank",this.linksRel="noopener noreferrer",this.sections=[],this.suggestions=[],this.loading=!1,this.error=!1,this.highlightTitle=!1,this.highlightDescription=!1,this.handleItemClick=(t,a)=>{if(this.searchResultClick.emit({result:a}).defaultPrevented){t.preventDefault();return}if(!(a!=null&&a.path))throw new Error("No path found")},this.getItemLinkUrl=t=>t!=null&&t.path?this.sourceBaseUrl?`${this.sourceBaseUrl}${t.path}`:t.path:"#",this.getHighlightedTitleText=t=>this.highlighterTitle.highlight(t,this.searchTerm),this.getHighlightedDescriptionText=t=>this.highlighterDescription.highlight(t,this.searchTerm)}buildUrl(e){if(!e)return"#";if(this.sourceBaseUrl){let t=this.sourceBaseUrl.replace(/\/+$/,""),a=e.replace(/^\/+/,"");return`${t}/${a}`}return e}componentDidLoad(){this.highlightTitle&&(this.highlighterTitle=new jc(this.highlightTitle)),this.highlightDescription&&(this.highlighterDescription=new jc(this.highlightDescription))}render(){var e,t;return this.searchTerm?this.error?y("div",null,"An error occurred while trying to search. Please try again."):!this.loading&&!(!((t=this.sections)===null||t===void 0)&&t.some(a=>a.items.length>0))?y("div",{class:"results-empty"},y("orama-text",{as:"h3",styledAs:"span"},`No results found ${this.searchTerm?`for "${this.searchTerm}"`:""}`)):y(st,null,y("ul",{class:"list section-list"},this.sections.map(a=>y("div",{key:a.section,class:"section-wrapper"},a.section&&y("div",{class:"section-title-wrapper"},y("orama-text",{as:"h2",styledAs:"span"},a.section)),y("ul",{class:"list section-item-list"},a.items.map(s=>y("li",{class:"list-item",key:s.id},y("a",{"focus-on-arrow-nav":!0,href:this.buildUrl(s.path),class:"list-item-button",target:this.linksTarget,rel:this.linksRel,id:`search-result-${s.id}`,onClick:i(n=>this.handleItemClick(n,s),"onClick")},y("div",{class:"result-item-icon-wrapper"},s.icon?y("img",{alt:"",class:"custom-result-item-icon",src:s.icon}):y("ph-files",{size:"20px"})),y("div",{class:"textWrapper"},y("orama-text",{as:"h3",styledAs:"p",class:"result-title collapsed"},this.highlightTitle?s.title.length>200?y("span",{innerHTML:this.getHighlightedTitleText(s.title).trim(200)}):y("span",{innerHTML:this.getHighlightedTitleText(s.title).HTML}):y("span",{innerHTML:s.title})),y("orama-text",{as:"p",styledAs:"span",class:"result-description collapsed",variant:"tertiary"},this.highlightDescription?y("span",{innerHTML:this.getHighlightedDescriptionText(s.description).HTML}):y("span",{innerHTML:s.description}))))))))))):y("div",{class:"suggestions-wrapper"},!!(!((e=this.suggestions)===null||e===void 0)&&e.length)&&y("orama-text",{as:"h2",styledAs:"small",class:"suggestions-title",variant:"secondary"},"Suggestions"),y("orama-suggestions",{as:"list",suggestions:this.suggestions,icon:y(Jd,{name:"starFour",size:16,color:"var(--text-color-accent, text-color('accent')"}),suggestionClicked:i(a=>{this.setChatTerm(a)},"suggestionClicked")}))}get el(){return Ke(this)}},i(js,"SearchResults"),js);I1.style=E1;var O1=".slide-backdrop.visible.sc-orama-sliding-panel{animation:backdropFadeIn .5s ease-in 1;background-color:hsla(0,0%,98%,.7);background-color:var(--backdrop-background-color-primary,hsla(0,0%,98%,.7));display:none;display:block;height:100vh;left:0;opacity:0;position:fixed;top:0;width:100vw;z-index:10009}@media (min-width:1024.02px){.slide-backdrop.visible.sc-orama-sliding-panel{display:block;opacity:1}}@keyframes backdropFadeIn{0%{opacity:0}50%{opacity:.2}to{opacity:1}}.slide-container.sc-orama-sliding-panel{background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0;bottom:0;box-sizing:border-box;color:#151515;color:var(--text-color-primary,#151515);height:95vh;left:0;position:fixed;transform:translate3d(0,calc(100% + 5vh),0);transition:.4s cubic-bezier(.4,0,.2,1);width:100%;z-index:10019}.slide-container.slide-up.sc-orama-sliding-panel{transform:translateZ(0)}@media (max-width:1024px){.slide-container.sc-orama-sliding-panel{display:none}}.slide-container-inner.sc-orama-sliding-panel{height:95vh;margin:0 auto;max-width:52.5rem;max-width:calc(840rem/var(--orama-base-font-size, 16));width:80%}.slide-container-inner.sc-orama-sliding-panel orama-chat.sc-orama-sliding-panel{height:100%}.slide-container-header.sc-orama-sliding-panel{box-sizing:border-box;display:flex;height:5vh;justify-content:flex-end;padding:0 2.5rem;padding:0 var(--spacing-3xl,calc(40rem/var(--orama-base-font-size, 16)));position:absolute;top:-5vh;width:100%}.close-button.sc-orama-sliding-panel{animation:showIn .3s cubic-bezier(.4,0,.2,1) .1s forwards;background-color:transparent;border:0;color:#151515;color:var(--text-color-primary,#151515);cursor:pointer}",L1=O1,Bs,M1=(Bs=class{constructor(e){Re(this,e),this.backdrop=!1,this.open=!1,this.isOpen=this.open}openChanged(){this.isOpen=this.open}closePanel(){this.closed&&this.closed(),this.isOpen=!1}trapFocus(e){var t;let a=(t=this.el)===null||t===void 0?void 0:t.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),s=Array.from(a);if(s=s.filter(n=>n.tabIndex!==-1),s.length>0){this.firstFocusableElement=s[0],this.lastFocusableElement=s[s.length-1];let n=this.el.querySelector(":focus");e.shiftKey&&n===this.firstFocusableElement?(e.preventDefault(),this.lastFocusableElement.focus()):!e.shiftKey&&n===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}}handleKeyDown(e){e.stopPropagation(),e.key==="Escape"&&this.closePanel(),e.key==="Tab"&&this.trapFocus(e)}componentDidLoad(){this.isOpen=this.open}render(){return y(lr,{key:"f88b00bf1fc61de9416fcbfe6401ff14d7865fd2"},y("div",{key:"dba8338860b889ca1bed7bf25de95be366f0a2f4",class:{"slide-container":!0,"slide-up":this.isOpen},tabIndex:this.isOpen?0:-1},y("div",{key:"1f7b7c593782897ca63527c93cf775985f3682d2",class:"slide-container-header"},y("button",{key:"08826ac5dc073eba459dd2fd9adbbe34521c48a5",onClick:i(()=>this.closePanel(),"onClick"),"aria-expanded":this.isOpen?"true":"false","aria-label":"Close panel","aria-controls":"panel",class:"close-button",type:"button"},y("ph-x",{key:"e1f618268881eeb161291e7b25accdc9835e453a",size:"18"}))),y("div",{key:"d032def08d136efb85b7dcc203b855c211024537",id:"panel","aria-hidden":!this.isOpen,tabindex:"-1",class:"slide-container-inner"},y("slot",{key:"63db6812e71a0cc1a7fd0bc630a5200632908562"}))),this.backdrop&&y("div",{key:"a1da61d3366e055e2c3bb40cc60dd2ad14a8e9ac",class:{"slide-backdrop":!0,visible:this.isOpen}}))}get el(){return Ke(this)}static get watchers(){return{open:["openChanged"]}}},i(Bs,"SlideInPanel"),Bs);M1.style=L1;var P1=Object.defineProperty,$1=Object.getOwnPropertyDescriptor,Ui=i((r,e,t,a)=>{for(var s=a>1?void 0:a?$1(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&P1(e,t,s),s},"s"),Us,Xt=(Us=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Xt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Us,"t"),Us);Xt.weightsMap=new Map([["thin",L`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",L`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",L`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",L`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",L`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",L`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]);Xt.styles=Ve`
    :host {
      display: contents;
    }
  `;Ui([K({type:String,reflect:!0})],Xt.prototype,"size",2);Ui([K({type:String,reflect:!0})],Xt.prototype,"weight",2);Ui([K({type:String,reflect:!0})],Xt.prototype,"color",2);Ui([K({type:Boolean,reflect:!0})],Xt.prototype,"mirrored",2);Xt=Ui([qe("ph-caret-right")],Xt);var R1=".sources-outer-wrapper{margin:0 .5rem .75rem 1rem;margin:0 var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));overflow:hidden;position:relative}.source-next{left:0}.carousel-arrow,.source-next{bottom:0;position:absolute;top:0}.carousel-arrow{align-items:center;border:none;color:#838289;color:var(--text-color-secondary,#838289);cursor:pointer;display:flex;font-size:1.125rem;font-size:calc(18rem/var(--orama-base-font-size, 16));height:-moz-fit-content;height:fit-content;height:100%;justify-content:center;margin-block:auto;opacity:1;padding:0 .75rem;padding:0 var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));transition:color .2s,opacity .2s;z-index:1}.carousel-arrow.hidden{opacity:0;pointer-events:none}.carousel-arrow:focus:not(.hidden),.carousel-arrow:hover:not(.hidden){color:#151515;color:var(--text-color-primary,#151515)}.carousel-arrow--prev{background:linear-gradient(-90deg,transparent,70%,#fbfbfb);background:linear-gradient(-90deg,transparent,70%,var(--background-color-primary,#fbfbfb));left:0}.carousel-arrow--next{background:linear-gradient(90deg,transparent,30%,#fbfbfb);background:linear-gradient(90deg,transparent,30%,var(--background-color-primary,#fbfbfb));right:0}.sources-wrapper{display:flex;overflow-x:auto;overflow-x:scroll;position:relative;scroll-behavior:smooth;scrollbar-width:none}.source{background:#fff;background:var(--background-color-secondary,#fff);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));flex-grow:0;flex-shrink:0;overflow:hidden;padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative;text-decoration:none;width:12.1875rem;width:calc(195rem/var(--orama-base-font-size, 16))}.source .source-subtitle,.source .source-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (hover:hover){.source:hover{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6);transition:background .2s ease-in-out}}.source-inner-wrapper{display:flex;padding-right:.5rem;padding-right:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:relative}.source-inner-wrapper:last-of-type{padding-right:1rem;padding-right:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.sr-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}",z1=R1,hi=0,Vs,N1=(Vs=class{constructor(e){Re(this,e),this.answerSourceClick=$e(this,"answerSourceClick",7),this.sourceBaseURL="",this.linksTarget="_blank",this.linksRel="noopener noreferrer",this.sourcesMap={title:"title",description:"description",path:"path"},this.isCarouselScrollAtEnd=!1,this.isCarouselScrollAtStart=!1,this.handleCarouselScroll=()=>{this.computeCarouselArrowsVisibility()},this.handleItemClick=(t,a)=>{if(this.answerSourceClick.emit({source:a}).defaultPrevented){t.preventDefault();return}if(!(a!=null&&a.path))throw new Error("No path found")},this.resizeObserver=new ResizeObserver(()=>{this.computeCarouselArrowsVisibility()})}buildUrl(e){if(!e)return"#";if(this.sourceBaseURL){let t=this.sourceBaseURL.replace(/\/+$/,""),a=e.replace(/^\/+/,"");return`${t}/${a}`}return e}getNextItemCarousel(e,t){for(let a=0;a<t.length;a++){let s=t[a],n=s.getBoundingClientRect(),o=e.getBoundingClientRect();if(n.right-hi>o.right)return s}return null}getPreviousItemCarousel(e,t){var a;for(let s=0;s<t.length;s++){let n=t[s],o=n.getBoundingClientRect(),l=e.getBoundingClientRect();if(o.left+hi>=l.left&&o.right-hi<=l.right)return(a=t[s-1])!==null&&a!==void 0?a:null;if(o.left-hi<l.right&&o.right-hi>l.right)return n}return null}handleCarouselMove(e){let t=this.carouselSourceRef;if(!t)return;let a=t.getElementsByClassName("source-inner-wrapper");if(e==="forward"){let s=this.getNextItemCarousel(t,a);s&&s.scrollIntoView({behavior:"smooth",inline:"end",block:"nearest"})}else{let s=this.getPreviousItemCarousel(t,a);s&&s.scrollIntoView({behavior:"smooth",inline:"start",block:"nearest"})}}computeCarouselArrowsVisibility(){let e=this.carouselSourceRef;if(!e)return;let t=e.getElementsByClassName("source-inner-wrapper");this.isCarouselScrollAtEnd=!this.getNextItemCarousel(e,t),this.isCarouselScrollAtStart=!this.getPreviousItemCarousel(e,t)}componentDidLoad(){var e;(e=this.carouselSourceRef)===null||e===void 0||e.addEventListener("scroll",this.handleCarouselScroll),this.computeCarouselArrowsVisibility(),this.carouselSourceRef&&this.resizeObserver.observe(this.carouselSourceRef)}disconnectedCallback(){var e;(e=this.carouselSourceRef)===null||e===void 0||e.removeEventListener("scroll",this.handleCarouselScroll),this.resizeObserver.disconnect()}hasHorizontalOverflow(e){return e?e.scrollWidth>e.clientWidth:!1}render(){var e;if(!((e=this.sources)===null||e===void 0)&&e.length)return y("host",null,y("div",{class:{"sources-outer-wrapper":!0,"oveflow-decorator":this.hasHorizontalOverflow(this.carouselSourceRef)}},y("h2",{class:"sr-only"},"Sources"),y("button",{class:{"carousel-arrow carousel-arrow--prev":!0,hidden:this.isCarouselScrollAtStart},onClick:i(()=>this.handleCarouselMove("backwards"),"onClick"),type:"button"},y("ph-caret-left",null)),y("button",{class:{"carousel-arrow carousel-arrow--next":!0,hidden:this.isCarouselScrollAtEnd},onClick:i(()=>this.handleCarouselMove("forward"),"onClick"),type:"button"},y("ph-caret-right",null)),y("div",{class:"sources-wrapper",ref:i(t=>{this.carouselSourceRef=t},"ref")},this.sources.map((t,a)=>{if(t[this.sourcesMap.title]&&t[this.sourcesMap.path]||t[this.sourcesMap.description]&&t[this.sourcesMap.path])return y("div",{class:"source-inner-wrapper",key:`source-${a}`,style:{position:"relative",display:"flex"}},y("a",{href:this.buildUrl(t[this.sourcesMap.path]),class:"source",target:this.linksTarget,rel:this.linksRel,id:`source-${a}`,onClick:i(s=>this.handleItemClick(s,t),"onClick")},y("orama-text",{as:"h3",styledAs:"span",class:"source-title"},t[this.sourcesMap.title]),y("orama-text",{as:"p",styledAs:"span",class:"source-subtitle",variant:"tertiary"},t[this.sourcesMap.description])))}))))}},i(Vs,"OramaSources"),Vs);N1.style=z1;var H1=".suggestions-chips.sc-orama-suggestions{align-items:center;display:flex;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));list-style:none;margin:0;overflow-x:auto;padding:.5rem 1rem;padding:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16))) var(--radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.suggestions-chips.sc-orama-suggestions::-webkit-scrollbar{background-color:transparent;height:0}@media (min-width:768.02px){.suggestions-chips.sc-orama-suggestions{flex-wrap:wrap;justify-content:center}}.suggestion-button-chips.sc-orama-suggestions{align-items:center;background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:1rem;border-radius:var(--radius-l,calc(16rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);color:#838289;color:var(--text-color-secondary,#838289);-moz-column-gap:.5rem;column-gap:.5rem;-moz-column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));transition:background-color .2s;width:-moz-max-content;width:max-content}@media (hover:hover){.suggestion-button-chips.sc-orama-suggestions:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}}.suggestion-button-chips.sc-orama-suggestions:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.suggestions-list.sc-orama-suggestions{align-items:center;display:flex;flex-wrap:wrap;list-style:none;margin:0;padding:0}.suggestion-item-list.sc-orama-suggestions{width:100%}.suggestion-button-list.sc-orama-suggestions{align-items:center;background-color:transparent;background:linear-gradient(90deg,#ae8ff7,#151515);background:linear-gradient(90deg,var(--text-color-accent,#ae8ff7) 0,var(--text-color-primary,#151515) 100%);-webkit-background-clip:text;background-clip:text;color:#838289;color:var(--text-color-secondary,#838289);-moz-column-gap:.5rem;column-gap:.5rem;-moz-column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));text-align:left;-webkit-text-fill-color:transparent;border:1px solid transparent;font-family:inherit;width:100%}.suggestion-button-list.sc-orama-suggestions:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));outline:none}",D1=H1,Fs,Z1=(Fs=class{constructor(e){Re(this,e),this.as="chips"}handleClick(e){this.suggestionClicked&&this.suggestionClicked(e)}render(){var e;let t=this.as==="chips",a=this.as==="list",s=t?"chips":a?"list":"";return!((e=this.suggestions)===null||e===void 0)&&e.length?y("ul",{class:`suggestions-${s}`},this.suggestions.map(n=>y("li",{key:n.split(" ").join("-").toLowerCase(),class:`suggestion-item-${s}`},y("button",{"focus-on-arrow-nav":!0,type:"button",class:`suggestion-button-${s}`,onClick:i(o=>{o.preventDefault(),this.handleClick(n)},"onClick")},this.icon,n)))):null}},i(Fs,"OramaSuggestions"),Fs);Z1.style=D1;var j1=".p.sc-orama-text{color:#151515;color:var(--text-color-primary,#151515);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0}@media (min-width:768.02px){.p.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.p-secondary.sc-orama-text{color:#838289;color:var(--text-color-secondary,#838289);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0}@media (min-width:768.02px){.p-secondary.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.p-tertiary.sc-orama-text{color:#99989d;color:var(--text-color-tertiary,#99989d);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0}@media (min-width:768.02px){.p-tertiary.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.span.sc-orama-text{color:#151515;color:var(--text-color-primary,#151515)}.span.sc-orama-text,.span-secondary.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.span-secondary.sc-orama-text{color:#838289;color:var(--text-color-secondary,#838289)}.span-tertiary.sc-orama-text{color:#99989d;color:var(--text-color-tertiary,#99989d);font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.small.sc-orama-text{color:#151515;color:var(--text-color-primary,#151515)}.small.sc-orama-text,.small-secondary.sc-orama-text{font-size:.75rem;font-size:var(--font-size-xs,calc(12rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.small-secondary.sc-orama-text{color:#838289;color:var(--text-color-secondary,#838289)}.small-tertiary.sc-orama-text{color:#99989d;color:var(--text-color-tertiary,#99989d);font-size:.75rem;font-size:var(--font-size-xs,calc(12rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.text-bold.sc-orama-text{font-weight:600;font-weight:var(--font-weight-semibold,600)}.text-left.sc-orama-text{text-align:left}.text-right.sc-orama-text{text-align:right}.text-center.sc-orama-text{text-align:center}.text-inactive.sc-orama-text{color:#99989d;color:var(--text-color-inactive,#99989d)}",B1=j1,qs,U1=(qs=class{constructor(e){Re(this,e),this.as="p",this.bold=!1,this.variant="primary"}render(){let e=this.styledAs==="span"||this.styledAs==="small"||this.styledAs==="p"?this.styledAs:this.as,t=this.as,a=["as","styled-as","class"],s=Ai(this.el,a);return y(t,Object.assign({key:"a1c41477fc4643a8fd1eba038a39117311e17a20",class:{[e]:!0,[`text-${this.align}`]:!!this.align,[`${e}-${this.variant}`]:!0,"text-inactive":!!this.inactive,"text-bold":!!this.bold,[this.class]:!!this.class}},s),y("slot",{key:"d78c56927befa49cf5f54ab77dd76c9ab3797770"}))}get el(){return Ke(this)}},i(qs,"OramaText"),qs);U1.style=B1;var V1=".sc-orama-textarea-h{align-items:center;background:#fff;background:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:1rem;border-radius:var(--textarea-radius,var(--radius-l,calc(16rem/var(--orama-base-font-size, 16))));box-shadow:#fff;box-shadow:var(--textarea-shadow,var(--shadow-color-primary,#fff));display:flex;padding:.25rem .25rem .25rem .75rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative}.sc-orama-textarea-s>[slot=adornment-end]{align-items:center;display:flex;justify-content:center}.textarea.sc-orama-textarea{background:none;border:none;color:#151515;color:var(--text-color-primary,#151515);font-family:inherit;font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);left:0;line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;outline:none;padding:0;resize:none;right:0;transition:height .1s;width:100%}@media (min-width:768.02px){.textarea.sc-orama-textarea{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}}.textarea.sc-orama-textarea::-moz-placeholder{color:#99989d;color:var(--text-color-inactive,#99989d);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%}.textarea.sc-orama-textarea::placeholder{color:#99989d;color:var(--text-color-inactive,#99989d);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%}.textarea.sc-orama-textarea:focus-visible{border-color:#432d77;border-color:var(--border-color-accent,#432d77);outline:none}.textarea.sc-orama-textarea::-webkit-scrollbar{width:.3em}.textarea.sc-orama-textarea::-webkit-scrollbar-track{background:transparent}.textarea.sc-orama-textarea::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:768.02px){.textarea.sc-orama-textarea{font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)))}}",F1=V1,Gs,q1=(Gs=class{constructor(e){Re(this,e),this.value="",this.minRows=1,this.autoFocus=!1,this.handleChange=t=>{let a=t.target;this.value||this.syncHeight(),this.value=a.value}}handleAutoFocusChange(){this.autoFocus&&this.textarea.focus()}componetWillLoad(){this.startAdornmentWidth=this.getNamedSlotWidth("adornment-start"),this.endAdornmentWidth=this.getNamedSlotWidth("adornment-end"),this.syncHeight(),this.autoFocus&&this.textarea.focus()}getNamedSlotWidth(e){let t=this.el.querySelector(`slot[name="${e}"]`);if(t){let a=t.assignedElements();if(a.length>0)return a[0].offsetWidth}return 0}handlePropsChange(){this.syncHeight()}getStyleValue(e){return Number.parseInt(e,10)||0}calculateTextareaStyles(){let e=this.textarea,t=window.getComputedStyle(e);if(t.width==="0px")return{outerHeightStyle:0,overflowing:!1};let a=this.shadowTextarea;a.style.width=t.width,a.value=e.value||this.placeholder||"x",a.value.slice(-1)===`
`&&(a.value+=" ");let s=t.boxSizing,n=this.getStyleValue(t.paddingBottom)+this.getStyleValue(t.paddingTop),o=this.getStyleValue(t.borderBottomWidth)+this.getStyleValue(t.borderTopWidth),l=a.scrollHeight;a.value="x";let h=a.scrollHeight,d=l;this.minRows&&(d=Math.max(Number(this.minRows)*h,d)),this.maxRows&&(d=Math.min(Number(this.maxRows)*h,d)),d=Math.max(d,h);let m=d+(s==="border-box"?n+o:0),b=Math.abs(d-l)<=1;return{outerHeightStyle:m,overflowing:b}}syncHeight(){let e=this.calculateTextareaStyles();if(!e)return;let t=e.outerHeightStyle;this.height!==t&&(this.height=t,this.textarea.style.height=`${t}px`),this.textarea.style.overflow=e.overflowing?"hidden":""}getAllProps(){let e={};for(let t=0;t<this.el.attributes.length;t++){let a=this.el.attributes[t];e[a.name]=a.value}return e}render(){return y(st,{key:"5d11fb96304062ca9861694d682d8e12064bdb1e"},y("slot",{key:"17fc62c00745e57cdc27e826f5481f4c6f497e3e",name:"adornment-start"}),y("textarea",Object.assign({key:"016d07bebfb05aa4f547bffbc2afa3dfc88970bc"},this.getAllProps(),{value:this.value,onInput:this.handleChange,ref:i(e=>this.textarea=e,"ref"),rows:Number(this.minRows),style:{height:this.height?`${this.height}px`:void 0,paddingLeft:this.startAdornmentWidth?`${this.startAdornmentWidth}px`:void 0,paddingRight:this.endAdornmentWidth?`${this.endAdornmentWidth}px`:void 0},class:"textarea",placeholder:this.placeholder})),y("slot",{key:"515eb08d900f216a6e1a70a45287750fb4eec53f",name:"adornment-end"}),y("textarea",{key:"76d4ec4a7a7ecae613a1dc47beec8716e652acab","aria-hidden":"true",readonly:!0,ref:i(e=>this.shadowTextarea=e,"ref"),tabindex:-1,class:"textarea",style:{visibility:"hidden",position:"absolute",overflow:"hidden",height:"0",top:"0",left:"0",transform:"translateZ(0)",paddingTop:"0",paddingBottom:"0",paddingLeft:this.startAdornmentWidth?`${this.startAdornmentWidth}px`:void 0,paddingRight:this.endAdornmentWidth?`${this.endAdornmentWidth}px`:void 0}}))}get el(){return Ke(this)}static get watchers(){return{autoFocus:["handleAutoFocusChange"],value:["handlePropsChange"],maxRows:["handlePropsChange"],minRows:["handlePropsChange"]}}},i(Gs,"OramaTextarea"),Gs);q1.style=F1;var G1=Object.defineProperty,W1=Object.getOwnPropertyDescriptor,Vi=i((r,e,t,a)=>{for(var s=a>1?void 0:a?W1(e,t):e,n=r.length-1,o;n>=0;n--)(o=r[n])&&(s=(a?o(e,t,s):o(s))||s);return a&&s&&G1(e,t,s),s},"l"),Ws,Jt=(Ws=class extends Ne{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Fe`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Jt.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},i(Ws,"a"),Ws);Jt.weightsMap=new Map([["thin",L`<path d="M196.2,132.81l-53.36-19.65L123.19,59.8a11.93,11.93,0,0,0-22.38,0L81.16,113.16,27.8,132.81a11.93,11.93,0,0,0,0,22.38l53.36,19.65,19.65,53.36a11.93,11.93,0,0,0,22.38,0l19.65-53.36,53.36-19.65a11.93,11.93,0,0,0,0-22.38Zm-2.77,14.87L138.35,168a4,4,0,0,0-2.37,2.37l-20.3,55.08a3.92,3.92,0,0,1-7.36,0L88,170.35A4,4,0,0,0,85.65,168l-55.08-20.3a3.92,3.92,0,0,1,0-7.36L85.65,120A4,4,0,0,0,88,117.65l20.3-55.08a3.92,3.92,0,0,1,7.36,0L136,117.65a4,4,0,0,0,2.37,2.37l55.08,20.3a3.92,3.92,0,0,1,0,7.36ZM148,40a4,4,0,0,1,4-4h20V16a4,4,0,0,1,8,0V36h20a4,4,0,0,1,0,8H180V64a4,4,0,0,1-8,0V44H152A4,4,0,0,1,148,40Zm96,48a4,4,0,0,1-4,4H228v12a4,4,0,0,1-8,0V92H208a4,4,0,0,1,0-8h12V72a4,4,0,0,1,8,0V84h12A4,4,0,0,1,244,88Z"/>`],["light",L`<path d="M196.89,130.94,144.4,111.6,125.06,59.11a13.92,13.92,0,0,0-26.12,0L79.6,111.6,27.11,130.94a13.92,13.92,0,0,0,0,26.12L79.6,176.4l19.34,52.49a13.92,13.92,0,0,0,26.12,0L144.4,176.4l52.49-19.34a13.92,13.92,0,0,0,0-26.12Zm-4.15,14.86-55.08,20.3a6,6,0,0,0-3.56,3.56l-20.3,55.08a1.92,1.92,0,0,1-3.6,0L89.9,169.66a6,6,0,0,0-3.56-3.56L31.26,145.8a1.92,1.92,0,0,1,0-3.6l55.08-20.3a6,6,0,0,0,3.56-3.56l20.3-55.08a1.92,1.92,0,0,1,3.6,0l20.3,55.08a6,6,0,0,0,3.56,3.56l55.08,20.3a1.92,1.92,0,0,1,0,3.6ZM146,40a6,6,0,0,1,6-6h18V16a6,6,0,0,1,12,0V34h18a6,6,0,0,1,0,12H182V64a6,6,0,0,1-12,0V46H152A6,6,0,0,1,146,40ZM246,88a6,6,0,0,1-6,6H230v10a6,6,0,0,1-12,0V94H208a6,6,0,0,1,0-12h10V72a6,6,0,0,1,12,0V82h10A6,6,0,0,1,246,88Z"/>`],["regular",L`<path d="M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"/>`],["bold",L`<path d="M199,125.31l-49.88-18.39L130.69,57a19.92,19.92,0,0,0-37.38,0L74.92,106.92,25,125.31a19.92,19.92,0,0,0,0,37.38l49.88,18.39L93.31,231a19.92,19.92,0,0,0,37.38,0l18.39-49.88L199,162.69a19.92,19.92,0,0,0,0-37.38Zm-63.38,35.16a12,12,0,0,0-7.11,7.11L112,212.28l-16.47-44.7a12,12,0,0,0-7.11-7.11L43.72,144l44.7-16.47a12,12,0,0,0,7.11-7.11L112,75.72l16.47,44.7a12,12,0,0,0,7.11,7.11L180.28,144ZM140,40a12,12,0,0,1,12-12h12V16a12,12,0,0,1,24,0V28h12a12,12,0,0,1,0,24H188V64a12,12,0,0,1-24,0V52H152A12,12,0,0,1,140,40ZM252,88a12,12,0,0,1-12,12h-4v4a12,12,0,0,1-24,0v-4h-4a12,12,0,0,1,0-24h4V72a12,12,0,0,1,24,0v4h4A12,12,0,0,1,252,88Z"/>`],["fill",L`<path d="M208,144a15.78,15.78,0,0,1-10.42,14.94L146,178l-19,51.62a15.92,15.92,0,0,1-29.88,0L78,178l-51.62-19a15.92,15.92,0,0,1,0-29.88L78,110l19-51.62a15.92,15.92,0,0,1,29.88,0L146,110l51.62,19A15.78,15.78,0,0,1,208,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"/>`],["duotone",L`<path d="M194.82,151.43l-55.09,20.3-20.3,55.09a7.92,7.92,0,0,1-14.86,0l-20.3-55.09-55.09-20.3a7.92,7.92,0,0,1,0-14.86l55.09-20.3,20.3-55.09a7.92,7.92,0,0,1,14.86,0l20.3,55.09,55.09,20.3A7.92,7.92,0,0,1,194.82,151.43Z" opacity="0.2"/><path d="M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"/>`]]);Jt.styles=Ve`
    :host {
      display: contents;
    }
  `;Vi([K({type:String,reflect:!0})],Jt.prototype,"size",2);Vi([K({type:String,reflect:!0})],Jt.prototype,"weight",2);Vi([K({type:String,reflect:!0})],Jt.prototype,"color",2);Vi([K({type:Boolean,reflect:!0})],Jt.prototype,"mirrored",2);Jt=Vi([qe("ph-sparkle")],Jt);var K1='.sc-orama-toggler-h{align-items:center;background:#efefef;background:var(--background-color-fourth,#efefef);border-radius:2.5rem;border-radius:var(--radius-3xl,calc(40rem/var(--orama-base-font-size, 16)));display:inline-flex;overflow:hidden;padding:.125rem;padding:var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16)))}.sc-orama-toggler-h button.sc-orama-toggler{align-items:center;background-color:transparent;border:none;color:#151515;color:var(--text-color-primary,#151515);cursor:pointer;display:flex;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative}.sc-orama-toggler-h button.selected.sc-orama-toggler{color:#fff;color:var(--text-color-reverse,#fff);transition:color .3s ease-in-out;z-index:1}.sc-orama-toggler-h button.selected.sc-orama-toggler:after{background-color:#000;background-color:var(--background-color-reverse,#000);border-radius:2.5rem;border-radius:var(--radius-3xl,calc(40rem/var(--orama-base-font-size, 16)));content:"";inset:0;padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:absolute;z-index:-1}.sc-orama-toggler-h button.selected.animate.sc-orama-toggler:after{animation:slideToLeft .3s ease-in-out}.sc-orama-toggler-h button.selected.animate.sc-orama-toggler:first-child:after{animation:slideToRight .3s ease-in-out}@keyframes slideToRight{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes slideToLeft{0%{transform:translateX(-100%)}to{transform:translateX(0)}}',Y1=K1,Q1=function(r,e,t,a){var s=arguments.length,n=s<3?e:a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,e,t,a);else for(var l=r.length-1;l>=0;l--)(o=r[l])&&(n=(s<3?o(n):s>3?o(e,t,n):o(e,t))||n);return s>3&&n&&Object.defineProperty(e,t,n),n},Ks,Ou=(Ks=class{constructor(e){Re(this,e),this.performInitialAnimation=!1,this.firstRender=!0}componentWillLoad(){this.performInitialAnimation&&(this.firstRender=!1)}componentDidLoad(){this.firstRender&&(this.firstRender=!1)}render(){return y(st,{key:"b5f2e4d25150746ea7d8c8f49ce65810709c62f7"},y("button",{key:"d4216bdf455ca829574dcfd2caab5f0e081da74a",type:"button",class:{selected:this.globalStore.state.currentTask==="search",animate:!this.firstRender||this.performInitialAnimation},onClick:i(()=>this.globalStore.state.currentTask="search","onClick")},y("span",{key:"d8a05a2f1c92c27c3189e4e3682f5d162973af60"},"Search"),y("ph-magnifying-glass",{key:"c2cca7b67b39d6db8edf9a05f18e12c41510c790",size:16})),y("button",{key:"793b326cd3b463bbcc9604cb04b0671418540d04",type:"button",class:{selected:this.globalStore.state.currentTask==="chat",animate:!this.firstRender||this.performInitialAnimation},onClick:i(()=>this.globalStore.state.currentTask="chat","onClick")},y("ph-sparkle",{key:"8d6aaffc7c5984026397228d71fbc4fe7f03a9ea",size:16}),y("span",{key:"3879f5cc81113d6c74b6c9e6f71ed1b6e0ba9500"},"Ask AI")))}},i(Ks,"OramaToggler"),Ks);Q1([er("global")],Ou.prototype,"globalStore",void 0);Ou.style=Y1;/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*//**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *//*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */export{mp as orama_button,oh as orama_chat,lh as orama_chat_assistent_message,jf as orama_chat_box,qf as orama_chat_button,eu as orama_chat_messages_container,Xf as orama_chat_user_message,tm as orama_dots_loader,sm as orama_embed,om as orama_facets,um as orama_footer,vm as orama_input,e1 as orama_markdown,a1 as orama_modal,Iu as orama_navigation_bar,Ln as orama_search,k1 as orama_search_box,S1 as orama_search_button,I1 as orama_search_results,M1 as orama_sliding_panel,N1 as orama_sources,Z1 as orama_suggestions,U1 as orama_text,q1 as orama_textarea,Ou as orama_toggler};
