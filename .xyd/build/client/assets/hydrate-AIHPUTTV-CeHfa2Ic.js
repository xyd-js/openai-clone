var V8=Object.defineProperty;var G_=Ut=>{throw TypeError(Ut)};var Z8=(Ut,Kt,Rr)=>Kt in Ut?V8(Ut,Kt,{enumerable:!0,configurable:!0,writable:!0,value:Rr}):Ut[Kt]=Rr;var Yr=(Ut,Kt,Rr)=>Z8(Ut,typeof Kt!="symbol"?Kt+"":Kt,Rr),W8=(Ut,Kt,Rr)=>Kt.has(Ut)||G_("Cannot "+Rr);var j_=(Ut,Kt,Rr)=>Kt.has(Ut)?G_("Cannot add the same private member more than once"):Kt instanceof WeakSet?Kt.add(Ut):Kt.set(Ut,Rr);var Oh=(Ut,Kt,Rr)=>(W8(Ut,Kt,"access private method"),Rr);import{h as Y8,f as q8,e as o}from"./index-qO9vE9Y2.js";import"./layout-CQlSoY_t.js";import"./chunk-C37GKA54-BD_pa8mJ.js";import"./index-BBwMgKmy.js";import"./context-CGKFz-SV.js";import"./virtual_xyd-settings-_98JY2AR.js";import"./content-SkUwg4m7.js";var K8={},Q8={},X8=Y8(Ut=>{var Kn,Qn,Xn,Jn,ei,ti,ri,si,ai,ni,ii,oi,li,ci,hi,ui,di,pi,mi,fi,gi,Ei,Va,Za,Wa,Ti,bi,yi,_i,Ai,vi,Si,Ci,ki,wi,Ii,Wt,Ni,Li,xi,Ri,Oi,Mi,Di,Pi,Ya,$i,Hi,hs,Bi,Ui,Fi,zi,qa,Ka,Gi,ji,Vi,Zi,Wi,Yi,qi,Ki,Qi,Qa;Object.defineProperty(Ut,"__esModule",{value:!0});var Kt=q8("stream"),Rr=[];function Pf(r,t,i,d,E){var At,at,It,ur;var y=r,O=r;r.addEventListener.bind(r),r.alert.bind(r),r.blur.bind(r),r.cancelAnimationFrame.bind(r),r.cancelIdleCallback.bind(r);var Y=r.clearInterval.bind(r),be=r.clearTimeout.bind(r);o(()=>{},"close"),r.confirm.bind(r),r.dispatchEvent.bind(r),r.focus.bind(r),r.getComputedStyle.bind(r),r.matchMedia.bind(r),r.open.bind(r),r.prompt.bind(r),r.removeEventListener.bind(r);var He=r.requestAnimationFrame.bind(r);r.requestIdleCallback.bind(r);var Be=r.setInterval.bind(r),Fe=r.setTimeout.bind(r);r.CharacterData,r.CSS;var pt=r.CustomEvent,$t=r.Document,Bt=r.ShadowRoot;r.DocumentFragment,r.DocumentType,r.DOMTokenList,r.Element,r.Event,r.HTMLAnchorElement,r.HTMLBaseElement,r.HTMLButtonElement,r.HTMLCanvasElement;var xs=r.HTMLElement;r.HTMLFormElement,r.HTMLImageElement,r.HTMLInputElement,r.HTMLLinkElement,r.HTMLMetaElement,r.HTMLScriptElement,r.HTMLStyleElement,r.HTMLTemplateElement,r.HTMLTitleElement,r.IntersectionObserver;var yr=r.ResizeObserver;r.KeyboardEvent,r.MouseEvent,r.Node,r.NodeList;var yt=r.URL,je=r.console,Kr=r.customElements;r.history;var K=r.localStorage,Jt=r.location,Ct=r.navigator,We=r.performance;r.sessionStorage,r.devicePixelRatio,r.innerHeight,r.innerWidth,r.origin,r.pageXOffset,r.pageYOffset,r.screen,r.screenLeft,r.screenTop,r.screenX,r.screenY,r.scrollX,r.scrollY;var mt,rt;typeof r.fetch=="function"?mt=r.fetch:mt=r.fetch=function(){throw new Error("fetch() is not implemented")},typeof r.FetchError=="function"?r.FetchError:r.FetchError=(At=class{constructor(){throw new Error("FetchError is not implemented")}},o(At,"FetchError"),At),typeof r.Headers=="function"?rt=r.Headers:rt=r.Headers=(at=class{constructor(){throw new Error("Headers is not implemented")}},o(at,"Headers"),at),typeof r.Request=="function"?r.Request:r.Request=(It=class{constructor(){throw new Error("Request is not implemented")}},o(It,"Request"),It),typeof r.Response=="function"?r.Response:r.Response=(ur=class{constructor(){throw new Error("Response is not implemented")}},o(ur,"Response"),ur);function kt(ua){var mo,fo,go,Eo,dn,pn,To,bo,ms,La,xa,yo,mn,_o,Ao,vo,So,Co,ko,wo,aa,Tr,Io,No,fn,Lo,Ra,xo,Ro,Oa,Oo,Mo,Do,Po,$o,Ho,Bo,Uo,Fo,gn,zo,En,Go,jo,Vo,Zo,Wo,Yo,qo,Tn,Ko,Qo,Xo,Jo,el,bn,tl,yn,rl,sl,al,nl,il,ol,ll,cl,hl,ul,dl,pl,ml,fl,gl,El,Tl,bl,yl,_l,Al,vl,Sl,Cl,kl,wl,Il,Nl,Ll,xl,Rl,Ol,Ml,_n,Dl,Pl,$l,Hl,Bl,Ul,Fl,zl,Gl,jl,Vl,Zl,Wl,Yl,ql,Kl,Ql,Xl,Jl,ec,tc,rc,sc,ac;let Rt=ua,Nt=ua.document,Xi="orama-ui",er={experimentalSlotFixes:!1,hydratedSelectorName:"hydrated",lazyLoad:!0,slotRelocation:!0,updatable:!0};var ke=Object.defineProperty,he=o((s,e)=>{for(var a in e)ke(s,a,{get:e[a],enumerable:!0})},"__export"),Je="http://www.w3.org/2000/svg",Ht="http://www.w3.org/1999/xhtml",Qr=o(s=>s!=null&&s!==void 0,"isDef"),Dr=o(s=>(s=typeof s,s==="object"||s==="function"),"isComplexType");function pu(s){var e,a,n;return(n=(a=(e=s.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:a.getAttribute("content"))!=null?n:void 0}o(pu,"queryNonceMetaTagContent");var Xr=o(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"escapeRegExpSpecialCharacters"),da={};he(da,{err:o(()=>Mc,"err"),map:o(()=>pa,"map"),ok:o(()=>Oc,"ok"),unwrap:o(()=>Fp,"unwrap"),unwrapErr:o(()=>Ji,"unwrapErr")});var Oc=o(s=>({isOk:!0,isErr:!1,value:s}),"ok"),Mc=o(s=>({isOk:!1,isErr:!0,value:s}),"err");function pa(s,e){if(s.isOk){let a=e(s.value);return a instanceof Promise?a.then(n=>Oc(n)):Oc(a)}if(s.isErr){let a=s.value;return Mc(a)}throw"should never get here"}o(pa,"map");var Fp=o(s=>{if(s.isOk)return s.value;throw s.value},"unwrap$1"),Ji=o(s=>{if(s.isErr)return s.value;throw s.value},"unwrapErr"),mu="r",Dc="o",fu="s",Pc="t",eo="c",Rs="s-id",us="sty-id",Jr="c-id",_r="_stencilDocData",gu={hostIds:0,rootLevelIds:0,staticComponents:new Set},ds="slot-fb{display:contents}slot-fb[hidden]{display:none}",Gr="http://www.w3.org/1999/xlink",Eu=o(s=>{let e=ma(s,"childNodes");s.tagName&&s.tagName.includes("-")&&s["s-cr"]&&s.tagName!=="SLOT-FB"&&to(e,s.tagName).forEach(n=>{n.nodeType===1&&n.tagName==="SLOT-FB"&&(bu(n,Xa(n),!1).length?n.hidden=!0:n.hidden=!1)});let a=0;for(a=0;a<e.length;a++){let n=e[a];n.nodeType===1&&ma(n,"childNodes").length&&Eu(n)}},"updateFallbackSlotVisibility"),Tu=o(s=>{let e=[];for(let a=0;a<s.length;a++){let n=s[a]["s-nr"]||void 0;n&&n.isConnected&&e.push(n)}return e},"getSlottedChildNodes");function to(s,e,a){let n=0,l=[],c;for(;n<s.length;n++){if(c=s[n],c["s-sr"]&&(!e||c["s-hn"]===e)&&(a===void 0||Xa(c)===a)&&(l.push(c),typeof a<"u"))return l;l=[...l,...to(c.childNodes,e,a)]}return l}o(to,"getHostSlotNodes");var bu=o((s,e,a=!0)=>{let n=[];(a&&s["s-sr"]||!s["s-sr"])&&n.push(s);let l=s;for(;l=l.nextSibling;)Xa(l)===e&&(a||!l["s-sr"])&&n.push(l);return n},"getSlotChildSiblings"),yu=o((s,e)=>s.nodeType===1?s.getAttribute("slot")===null&&e===""||s.getAttribute("slot")===e:s["s-sn"]===e?!0:e==="","isNodeLocatedInSlot"),zp=o((s,e,a,n)=>{if(s["s-ol"]&&s["s-ol"].isConnected)return;let l=Nt.createTextNode("");if(l["s-nr"]=s,!e["s-cr"]||!e["s-cr"].parentNode)return;let c=e["s-cr"].parentNode,h=a?ma(c,"prepend"):ma(c,"appendChild");if(typeof n<"u"){l["s-oo"]=n;let p=ma(c,"childNodes"),m=[l];p.forEach(f=>{f["s-nr"]&&m.push(f)}),m.sort((f,g)=>!f["s-oo"]||f["s-oo"]<(g["s-oo"]||0)?-1:!g["s-oo"]||g["s-oo"]<f["s-oo"]?1:0),m.forEach(f=>h.call(c,f))}else h.call(c,l);s["s-ol"]=l,s["s-sh"]=e["s-hn"]},"addSlotRelocateNode"),Xa=o(s=>typeof s["s-sn"]=="string"?s["s-sn"]:s.nodeType===1&&s.getAttribute("slot")||void 0,"getSlotName");function $c(s){if(s.assignedElements||s.assignedNodes||!s["s-sr"])return;let e=o(a=>(function(n){let l=[],c=this["s-sn"];n?.flatten&&je.error(`
          Flattening is not supported for Stencil non-shadow slots. 
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);let h=this["s-cr"].parentElement;return(h.__childNodes?h.childNodes:Tu(h.childNodes)).forEach(p=>{c===Xa(p)&&l.push(p)}),a?l.filter(p=>p.nodeType===1):l}).bind(s),"assignedFactory");s.assignedElements=e(!0),s.assignedNodes=e(!1)}o($c,"patchSlotNode");function ma(s,e){if("__"+e in s){let a=s["__"+e];return typeof a!="function"?a:a.bind(s)}else return typeof s[e]!="function"?s[e]:s[e].bind(s)}o(ma,"internalCall");var es=o((s,e="")=>()=>{},"createTime"),Gp=o((s,e)=>()=>{},"uniqueTime"),Yt=o((s,e,...a)=>{let n=null,l=null,c=null,h=!1,p=!1,m=[],f=o(_=>{for(let w=0;w<_.length;w++)n=_[w],Array.isArray(n)?f(n):n!=null&&typeof n!="boolean"&&((h=typeof s!="function"&&!Dr(n))&&(n=String(n)),h&&p?m[m.length-1].$text$+=n:m.push(h?tr(null,n):n),p=h)},"walk");if(f(a),e){e.key&&(l=e.key),e.name&&(c=e.name);{let _=e.className||e.class;_&&(e.class=typeof _!="object"?_:Object.keys(_).filter(w=>_[w]).join(" "))}}if(typeof s=="function")return s(e===null?{}:e,m,Hc);let g=tr(s,null);return g.$attrs$=e,m.length>0&&(g.$children$=m),g.$key$=l,g.$name$=c,g},"h$3"),tr=o((s,e)=>{let a={$flags$:0,$tag$:s,$text$:e,$elm$:null,$children$:null};return a.$attrs$=null,a.$key$=null,a.$name$=null,a},"newVNode"),qt={},_u=o(s=>s&&s.$tag$===qt,"isHost"),Hc={forEach:o((s,e)=>s.map(ts).forEach(e),"forEach"),map:o((s,e)=>s.map(ts).map(e).map(fa),"map")},ts=o(s=>({vattrs:s.$attrs$,vchildren:s.$children$,vkey:s.$key$,vname:s.$name$,vtag:s.$tag$,vtext:s.$text$}),"convertToPublic"),fa=o(s=>{if(typeof s.vtag=="function"){let a={...s.vattrs};return s.vkey&&(a.key=s.vkey),s.vname&&(a.name=s.vname),Yt(s.vtag,a,...s.vchildren||[])}let e=tr(s.vtag,s.vtext);return e.$attrs$=s.vattrs,e.$children$=s.vchildren,e.$key$=s.vkey,e.$name$=s.vname,e},"convertToPrivate"),Bc=o((s,e,a,n)=>{let l=es("hydrateClient",e),c=s.shadowRoot,h=[],p=[],m=[],f=c?[]:null,g=tr(e,null);g.$elm$=s;let _;{let ie=n.$cmpMeta$;ie&&ie.$flags$&10&&s["s-sc"]?(_=s["s-sc"],s.classList.add(_+"-h")):s["s-sc"]&&delete s["s-sc"]}(!jt.$orgLocNodes$||!jt.$orgLocNodes$.size)&&ga(Pr.body,jt.$orgLocNodes$=new Map),s[Rs]=a,s.removeAttribute(Rs),n.$vnode$=Os(g,h,p,f,s,s,a,m);let w=0,D=h.length,B;for(w;w<D;w++){B=h[w];let ie=B.$hostId$+"."+B.$nodeId$,q=jt.$orgLocNodes$.get(ie),te=B.$elm$;c||(te["s-hn"]=e.toUpperCase(),B.$tag$==="slot"&&(te["s-cr"]=s["s-cr"])),B.$tag$==="slot"&&(B.$name$=B.$elm$["s-sn"]||B.$elm$.name||null,B.$children$?(B.$flags$|=2,B.$elm$.childNodes.length||B.$children$.forEach($e=>{B.$elm$.appendChild($e.$elm$)})):B.$flags$|=1),q&&q.isConnected&&(c&&q["s-en"]===""&&q.parentNode.insertBefore(te,q.nextSibling),q.parentNode.removeChild(q),c||(te["s-oo"]=parseInt(B.$nodeId$))),jt.$orgLocNodes$.delete(ie)}let G=[],ee=m.length,ae=0,ne,Ee,Pe,me;for(ae;ae<ee;ae++)if(ne=m[ae],!(!ne||!ne.length))for(Pe=ne.length,Ee=0,Ee;Ee<Pe;Ee++){if(me=ne[Ee],G[me.hostId]||(G[me.hostId]=jt.$orgLocNodes$.get(me.hostId)),!G[me.hostId])continue;let ie=G[me.hostId];(!ie.shadowRoot||!c)&&(me.slot["s-cr"]=ie["s-cr"],!me.slot["s-cr"]&&ie.shadowRoot?me.slot["s-cr"]=ie:me.slot["s-cr"]=(ie.__childNodes||ie.childNodes)[0],zp(me.node,me.slot,!1,me.node["s-oo"])),ie.shadowRoot&&me.node.parentElement!==ie&&ie.appendChild(me.node)}if(_&&p.length&&p.forEach(ie=>{ie.$elm$.parentElement.classList.add(_+"-s")}),c&&!c.childNodes.length){let ie=0,q=f.length;if(q){for(ie;ie<q;ie++)c.appendChild(f[ie]);Array.from(s.childNodes).forEach(te=>{typeof te["s-sn"]!="string"&&(te.nodeType===1&&te.slot&&te.hidden?te.removeAttribute("hidden"):(te.nodeType===8||te.nodeType===3&&!te.wholeText.trim())&&te.parentNode.removeChild(te))})}}jt.$orgLocNodes$.delete(s["s-id"]),n.$hostElement$=s,l()},"initializeClientHydrate"),Os=o((s,e,a,n,l,c,h,p=[])=>{let m,f,g,_,w=l["s-sc"];if(c.nodeType===1){if(m=c.getAttribute(Jr),m&&(f=m.split("."),f[0]===h||f[0]==="0")){g=Uc({$flags$:0,$hostId$:f[0],$nodeId$:f[1],$depth$:f[2],$index$:f[3],$tag$:c.tagName.toLowerCase(),$elm$:c,$attrs$:{class:c.className||""}}),e.push(g),c.removeAttribute(Jr),s.$children$||(s.$children$=[]),w&&(c["s-si"]=w,g.$attrs$.class+=" "+w);let B=g.$elm$.getAttribute("s-sn");typeof B=="string"&&(g.$tag$==="slot-fb"&&(Ms(B,f[2],g,c,s,e,a,n,p),w&&c.classList.add(w)),g.$elm$["s-sn"]=B,g.$elm$.removeAttribute("s-sn")),g.$index$!==void 0&&(s.$children$[g.$index$]=g),s=g,n&&g.$depth$==="0"&&(n[g.$index$]=g.$elm$)}if(c.shadowRoot)for(_=c.shadowRoot.childNodes.length-1;_>=0;_--)Os(s,e,a,n,l,c.shadowRoot.childNodes[_],h,p);let D=c.__childNodes||c.childNodes;for(_=D.length-1;_>=0;_--)Os(s,e,a,n,l,D[_],h,p)}else if(c.nodeType===8){if(f=c.nodeValue.split("."),f[1]===h||f[1]==="0"){if(m=f[0],g=Uc({$hostId$:f[1],$nodeId$:f[2],$depth$:f[3],$index$:f[4]||"0",$elm$:c,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),m===Pc)g.$elm$=en(c,3),g.$elm$&&g.$elm$.nodeType===3&&(g.$text$=g.$elm$.textContent,e.push(g),c.remove(),h===g.$hostId$&&(s.$children$||(s.$children$=[]),s.$children$[g.$index$]=g),n&&g.$depth$==="0"&&(n[g.$index$]=g.$elm$));else if(m===eo)g.$elm$=en(c,8),g.$elm$&&g.$elm$.nodeType===8&&(e.push(g),c.remove());else if(g.$hostId$===h)if(m===fu){let D=c["s-sn"]=f[5]||"";Ms(D,f[2],g,c,s,e,a,n,p)}else m===mu&&(n?c.remove():(l["s-cr"]=c,c["s-cn"]=!0))}}else if(s&&s.$tag$==="style"){let D=tr(null,c.textContent);D.$elm$=c,D.$index$="0",s.$children$=[D]}else c.nodeType===3&&!c.wholeText.trim()&&c.remove();return s},"clientHydrate"),ga=o((s,e)=>{if(s.nodeType===1){let a=s[Rs]||s.getAttribute(Rs);a&&e.set(a,s);let n=0;if(s.shadowRoot)for(;n<s.shadowRoot.childNodes.length;n++)ga(s.shadowRoot.childNodes[n],e);let l=s.__childNodes||s.childNodes;for(n=0;n<l.length;n++)ga(l[n],e)}else if(s.nodeType===8){let a=s.nodeValue.split(".");a[0]===Dc&&(e.set(a[1]+"."+a[2],s),s.nodeValue="",s["s-en"]=a[3])}},"initializeDocumentHydrate"),Uc=o(s=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...s}),"createSimpleVNode");function Ms(s,e,a,n,l,c,h,p,m){n["s-sr"]=!0,a.$name$=s||null,a.$tag$="slot";let f=l?.$elm$?l.$elm$["s-id"]||l.$elm$.getAttribute("s-id"):"";if(p){let g=a.$elm$=Pr.createElement(a.$tag$);a.$name$&&a.$elm$.setAttribute("name",s),f&&f!==a.$hostId$?l.$elm$.insertBefore(g,l.$elm$.children[0]):n.parentNode.insertBefore(a.$elm$,n),Ja(m,e,s,n,a.$hostId$),n.remove(),a.$depth$==="0"&&(p[a.$index$]=a.$elm$)}else{let g=a.$elm$,_=f&&f!==a.$hostId$&&l.$elm$.shadowRoot;Ja(m,e,s,n,_?f:a.$hostId$),$c(n),_&&l.$elm$.insertBefore(g,l.$elm$.children[0]),c.push(a)}h.push(a),l.$children$||(l.$children$=[]),l.$children$[a.$index$]=a}o(Ms,"addSlot");var Ja=o((s,e,a,n,l)=>{let c=n.nextSibling;for(s[e]=s[e]||[];c&&((c.getAttribute&&c.getAttribute("slot")||c["s-sn"])===a||a===""&&!c["s-sn"]&&(c.nodeType===8&&c.nodeValue.indexOf(".")!==1||c.nodeType===3));)c["s-sn"]=a,s[e].push({slot:n,node:c,hostId:l}),c=c.nextSibling},"addSlottedNodes"),en=o((s,e)=>{let a=s;do a=a.nextSibling;while(a&&(a.nodeType!==e||!a.nodeValue));return a},"findCorrespondingNode"),Au=o(s=>{let e=[],a=0;return s=s.replace(/(\[[^\]]*\])/g,(n,l)=>{let c=`__ph-${a}__`;return e.push(l),a++,c}),{content:s.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,l,c)=>{let h=`__ph-${a}__`;return e.push(c),a++,l+h}),placeholders:e}},"safeSelector"),ro=o((s,e)=>e.replace(/__ph-(\d+)__/g,(a,n)=>s[+n]),"restoreSafeSelector"),Ds="-shadowcsshost",T="-shadowcssslotted",I="-shadowcsscontext",M=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",V=new RegExp("("+Ds+M,"gim"),X=new RegExp("("+I+M,"gim"),ye=new RegExp("("+T+M,"gim"),fe=Ds+"-no-combinator",Oe=/-shadowcsshost-no-combinator([^\s]*)/,Le=[/::shadow/g,/::content/g],lt="([>\\s~+[.,{:][\\s\\S]*)?$",ze=/-shadowcsshost/gim,Qe=o(s=>new RegExp(`((?<!(^@supports(.*)))|(?<={.*))(${s}\\b)`,"gim"),"createSupportsRuleRe"),ft=Qe("::slotted"),De=Qe(":host"),wt=Qe(":host-context"),mr=/\/\*\s*[\s\S]*?\*\//g,rr=o(s=>s.replace(mr,""),"stripComments"),Nr=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,rs=o(s=>s.match(Nr)||[],"extractCommentsWithHash"),Ea=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Ar=/([{}])/g,lv=/(^.*?[^\\])??((:+)(.*)|$)/,cv="{",hv="}",vu="%BLOCK%",jp=o((s,e)=>{let a=uv(s),n=0;return a.escapedString.replace(Ea,(...l)=>{let c=l[2],h="",p=l[4],m="";p&&p.startsWith("{"+vu)&&(h=a.blocks[n++],p=p.substring(vu.length+1),m="{");let f=e({selector:c,content:h});return`${l[1]}${f.selector}${l[3]}${m}${f.content}${p}`})},"processRules"),uv=o(s=>{let e=s.split(Ar),a=[],n=[],l=0,c=[];for(let h=0;h<e.length;h++){let p=e[h];p===hv&&l--,l>0?c.push(p):(c.length>0&&(n.push(c.join("")),a.push(vu),c=[]),a.push(p)),p===cv&&l++}return c.length>0&&(n.push(c.join("")),a.push(vu)),{escapedString:a.join(""),blocks:n}},"escapeBlocks"),dv=o(s=>(s=s.replace(wt,`$1${I}`).replace(De,`$1${Ds}`).replace(ft,`$1${T}`),s),"insertPolyfillHostInCssText"),q1=o((s,e,a)=>s.replace(e,(...n)=>{if(n[2]){let l=n[2].split(","),c=[];for(let h=0;h<l.length;h++){let p=l[h].trim();if(!p)break;c.push(a(fe,p,n[3]))}return c.join(",")}else return fe+n[3]}),"convertColonRule"),K1=o((s,e,a)=>s+e.replace(Ds,"")+a,"colonHostPartReplacer"),pv=o(s=>q1(s,V,K1),"convertColonHost"),mv=o((s,e,a)=>e.indexOf(Ds)>-1?K1(s,e,a):s+e+a+", "+e+" "+s+a,"colonHostContextPartReplacer"),fv=o((s,e)=>{let a="."+e+" > ",n=[];return s=s.replace(ye,(...l)=>{if(l[2]){let c=l[2].trim(),h=l[3],p=a+c+h,m="";for(let _=l[4]-1;_>=0;_--){let w=l[5][_];if(w==="}"||w===",")break;m=w+m}let f=(m+p).trim(),g=`${m.trimEnd()}${p.trim()}`.trim();if(f!==g){let _=`${g}, ${f}`;n.push({orgSelector:f,updatedSelector:_})}return p}else return fe+l[3]}),{selectors:n,cssText:s}},"convertColonSlotted"),gv=o(s=>q1(s,X,mv),"convertColonHostContext"),Ev=o(s=>Le.reduce((e,a)=>e.replace(a," "),s),"convertShadowDOMSelectors"),Tv=o(s=>{let e=/\[/g,a=/\]/g;return s=s.replace(e,"\\[").replace(a,"\\]"),new RegExp("^("+s+")"+lt,"m")},"makeScopeMatcher"),bv=o((s,e)=>!Tv(e).test(s),"selectorNeedsScoping"),Q1=o((s,e)=>s.replace(lv,(a,n="",l,c="",h="")=>n+e+c+h),"injectScopingSelector"),yv=o((s,e,a)=>{if(ze.lastIndex=0,ze.test(s)){let n=`.${a}`;return s.replace(Oe,(l,c)=>Q1(c,n)).replace(ze,n+" ")}return e+" "+s},"applySimpleSelectorScope"),_v=o((s,e,a)=>{let n=/\[is=([^\]]*)\]/g;e=e.replace(n,(D,...B)=>B[0]);let l="."+e,c=o(D=>{let B=D.trim();if(!B)return"";if(D.indexOf(fe)>-1)B=yv(D,e,a);else{let G=D.replace(ze,"");G.length>0&&(B=Q1(G,l))}return B},"_scopeSelectorPart"),h=Au(s);s=h.content;let p="",m=0,f,g=/( |>|\+|~(?!=))\s*/g,_=!(s.indexOf(fe)>-1);for(;(f=g.exec(s))!==null;){let D=f[1],B=s.slice(m,f.index).trim();_=_||B.indexOf(fe)>-1;let G=_?c(B):B;p+=`${G} ${D} `,m=g.lastIndex}let w=s.substring(m);return _=_||w.indexOf(fe)>-1,p+=_?c(w):w,ro(h.placeholders,p)},"applyStrictSelectorScope"),Av=o((s,e,a,n)=>s.split(",").map(l=>n&&l.indexOf("."+n)>-1?l.trim():bv(l,e)?_v(l,e,a).trim():l.trim()).join(", "),"scopeSelector"),X1=o((s,e,a,n,l)=>jp(s,c=>{let h=c.selector,p=c.content;return c.selector[0]!=="@"?h=Av(c.selector,e,a,n):(c.selector.startsWith("@media")||c.selector.startsWith("@supports")||c.selector.startsWith("@page")||c.selector.startsWith("@document"))&&(p=X1(c.content,e,a,n)),{selector:h.replace(/\s{2,}/g," ").trim(),content:p}}),"scopeSelectors"),vv=o((s,e,a,n,l)=>{s=dv(s),s=pv(s),s=gv(s);let c=fv(s,n);return s=c.cssText,s=Ev(s),e&&(s=X1(s,e,a,n)),s=Vp(s,a),s=s.replace(/>\s*\*\s+([^{, ]+)/gm," $1 "),{cssText:s.trim(),slottedSelectors:c.selectors.map(h=>({orgSelector:Vp(h.orgSelector,a),updatedSelector:Vp(h.updatedSelector,a)}))}},"scopeCssText"),Vp=o((s,e)=>s.replace(/-shadowcsshost-no-combinator/g,`.${e}`),"replaceShadowCssHost"),Sv=o((s,e,a)=>{let n=e+"-h",l=e+"-s",c=rs(s);s=rr(s);let h=[];if(a){let m=o(f=>{let g=`/*!@___${h.length}___*/`,_=`/*!@${f.selector}*/`;return h.push({placeholder:g,comment:_}),f.selector=g+f.selector,f},"processCommentedSelector");s=jp(s,f=>f.selector[0]!=="@"?m(f):((f.selector.startsWith("@media")||f.selector.startsWith("@supports")||f.selector.startsWith("@page")||f.selector.startsWith("@document"))&&(f.content=jp(f.content,m)),f))}let p=vv(s,e,n,l);return s=[p.cssText,...c].join(`
`),a&&h.forEach(({placeholder:m,comment:f})=>{s=s.replace(m,f)}),p.slottedSelectors.forEach(m=>{let f=new RegExp(Xr(m.orgSelector),"g");s=s.replace(f,m.updatedSelector)}),s},"scopeCss"),Su=o((s,e)=>s!=null&&!Dr(s)?e&4?s==="false"?!1:s===""||!!s:e&2?parseFloat(s):e&1?String(s):s:s,"parsePropertyValue"),sr=o(s=>vr(s).$hostElement$,"getElement"),Ot=o((s,e,a)=>{let n=sr(s);return{emit:o(l=>J1(n,e,{bubbles:!!(a&4),composed:!!(a&2),cancelable:!!(a&1),detail:l}),"emit")}},"createEvent"),J1=o((s,e,a)=>{let n=jt.ce(e,a);return s.dispatchEvent(n),n},"emitEvent"),eE=new WeakMap,Cv=o((s,e,a)=>{let n=Ru.get(s);n=e,Ru.set(s,n)},"registerStyle"),tE=o((s,e,a)=>{var n;let l=Zp(e),c=Ru.get(l);if(s=s.nodeType===11?s:Pr,c&&typeof c=="string"){s=s.head||s;let h=eE.get(s),p;if(h||eE.set(s,h=new Set),!h.has(l)){if(s.host&&(p=s.querySelector(`[${us}="${l}"]`)))p.innerHTML=c;else{p=Nt.querySelector(`[${us}="${l}"]`)||Pr.createElement("style"),p.innerHTML=c;let m=(n=jt.$nonce$)!=null?n:pu(Pr);if(m!=null&&p.setAttribute("nonce",m),(e.$flags$&2||e.$flags$&128)&&p.setAttribute(us,l),!(e.$flags$&1))if(s.nodeName==="HEAD"){let f=s.querySelectorAll("link[rel=preconnect]"),g=f.length>0?f[f.length-1].nextSibling:s.querySelector("style");s.insertBefore(p,g?.parentNode===s?g:null)}else if("host"in s){let f=s.querySelector("style");f?f.innerHTML=c+f.innerHTML:s.prepend(p)}else s.append(p);e.$flags$&1&&s.insertBefore(p,null)}e.$flags$&4&&(p.innerHTML+=ds),h&&h.add(l)}}return l},"addStyle"),kv=o(s=>{let e=s.$cmpMeta$,a=s.$hostElement$,n=e.$flags$,l=es("attachStyles",e.$tagName$),c=tE(a.shadowRoot?a.shadowRoot:a.getRootNode(),e);(n&10&&n&2||n&128)&&(a["s-sc"]=c,a.classList.add(c+"-h")),l()},"attachStyles"),Zp=o((s,e)=>"sc-"+s.$tagName$,"getScopeId"),rE=o((s,e,a,n,l,c,h)=>{if(a===n)return;let p=IE(s,e),m=e.toLowerCase();if(e==="class"){let f=s.classList,g=sE(a),_=sE(n);s["s-si"]&&h?(_.push(s["s-si"]),g.forEach(w=>{w.startsWith(s["s-si"])&&_.push(w)}),_=[...new Set(_)],f.add(..._)):(f.remove(...g.filter(w=>w&&!_.includes(w))),f.add(..._.filter(w=>w&&!g.includes(w))))}else if(e==="style"){for(let f in a)(!n||n[f]==null)&&(s.style[f]="");for(let f in n)(!a||n[f]!==a[f])&&(s.style[f]=n[f])}else if(e!=="key")if(e==="ref")n&&n(s);else if(!p&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):IE(xu,m)?e=m.slice(2):e=m[2]+e.slice(3),a||n){let f=e.endsWith(aE);e=e.replace(Iv,""),a&&jt.rel(s,e,a,f),n&&jt.ael(s,e,n,f)}}else{let f=Dr(n);if((p||f&&n!==null)&&!l)try{if(s.tagName.includes("-"))s[e]!==n&&(s[e]=n);else{let _=n??"";e==="list"?p=!1:(a==null||s[e]!=_)&&(typeof s.__lookupSetter__(e)=="function"?s[e]=_:s.setAttribute(e,_))}}catch{}let g=!1;m!==(m=m.replace(/^xlink\:?/,""))&&(e=m,g=!0),n==null||n===!1?(n!==!1||s.getAttribute(e)==="")&&(g?s.removeAttributeNS(Gr,e):s.removeAttribute(e)):(!p||c&4||l)&&!f&&s.nodeType===1&&(n=n===!0?"":n,g?s.setAttributeNS(Gr,e,n):s.setAttribute(e,n))}},"setAccessor"),wv=/\s/,sE=o(s=>(typeof s=="object"&&s&&"baseVal"in s&&(s=s.baseVal),!s||typeof s!="string"?[]:s.split(wv)),"parseClassList"),aE="Capture",Iv=new RegExp(aE+"$"),Wp=o((s,e,a,n)=>{let l=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,c=s&&s.$attrs$||{},h=e.$attrs$||{};for(let p of Yp(Object.keys(c)))p in h||rE(l,p,c[p],void 0,a,e.$flags$,n);for(let p of Yp(Object.keys(h)))rE(l,p,c[p],h[p],a,e.$flags$,n)},"updateElement");function Yp(s){return s.includes("ref")?[...s.filter(e=>e!=="ref"),"ref"]:s}o(Yp,"sortedAttrNames");var Cu,ku,Fc,qp=!1,wu=!1,Kp=!1,Lr=!1,Iu=o((s,e,a)=>{var n;let l=e.$children$[a],c=0,h,p,m;if(qp||(Kp=!0,l.$tag$==="slot"&&(l.$flags$|=l.$children$?2:1)),l.$text$!==null)h=l.$elm$=Pr.createTextNode(l.$text$);else if(l.$flags$&1)h=l.$elm$=xv(l),Wp(null,l,Lr);else{if(Lr||(Lr=l.$tag$==="svg"),h=l.$elm$=Pr.createElementNS(Lr?Je:Ht,!qp&&er.slotRelocation&&l.$flags$&2?"slot-fb":l.$tag$),Lr&&l.$tag$==="foreignObject"&&(Lr=!1),Wp(null,l,Lr),Qr(Cu)&&h["s-si"]!==Cu&&h.classList.add(h["s-si"]=Cu),l.$children$)for(c=0;c<l.$children$.length;++c)p=Iu(s,l,c),p&&h.appendChild(p);l.$tag$==="svg"?Lr=!1:h.tagName==="foreignObject"&&(Lr=!0)}return h["s-hn"]=Fc,l.$flags$&3&&(h["s-sr"]=!0,h["s-cr"]=ku,h["s-sn"]=l.$name$||"",h["s-rf"]=(n=l.$attrs$)==null?void 0:n.ref,$c(h),m=s&&s.$children$&&s.$children$[a],m&&m.$tag$===l.$tag$&&s.$elm$&&zc(s.$elm$,!1),Qp(ku,h,e.$elm$,s?.$elm$)),h},"createElm"),zc=o((s,e)=>{jt.$flags$|=1;let a=Array.from(s.__childNodes||s.childNodes);s["s-sr"]&&er.experimentalSlotFixes;for(let n=a.length-1;n>=0;n--){let l=a[n];l["s-hn"]!==Fc&&l["s-ol"]&&(ps(Gc(l).parentNode,l,Gc(l)),l["s-ol"].remove(),l["s-ol"]=void 0,l["s-sh"]=void 0,Kp=!0),e&&zc(l,e)}jt.$flags$&=-2},"putBackInOriginalLocation"),nE=o((s,e,a,n,l,c)=>{let h=s["s-cr"]&&s["s-cr"].parentNode||s,p;for(h.shadowRoot&&h.tagName===Fc&&(h=h.shadowRoot);l<=c;++l)n[l]&&(p=Iu(null,a,l),p&&(n[l].$elm$=p,ps(h,p,Gc(e))))},"addVnodes"),iE=o((s,e,a)=>{for(let n=e;n<=a;++n){let l=s[n];if(l){let c=l.$elm$;lE(l),c&&(wu=!0,c["s-ol"]?c["s-ol"].remove():zc(c,!0),c.remove())}}},"removeVnodes"),Nv=o((s,e,a,n,l=!1)=>{let c=0,h=0,p=0,m=0,f=e.length-1,g=e[0],_=e[f],w=n.length-1,D=n[0],B=n[w],G,ee;for(;c<=f&&h<=w;)if(g==null)g=e[++c];else if(_==null)_=e[--f];else if(D==null)D=n[++h];else if(B==null)B=n[--w];else if(Nu(g,D,l))so(g,D,l),g=e[++c],D=n[++h];else if(Nu(_,B,l))so(_,B,l),_=e[--f],B=n[--w];else if(Nu(g,B,l))(g.$tag$==="slot"||B.$tag$==="slot")&&zc(g.$elm$.parentNode,!1),so(g,B,l),ps(s,g.$elm$,_.$elm$.nextSibling),g=e[++c],B=n[--w];else if(Nu(_,D,l))(g.$tag$==="slot"||B.$tag$==="slot")&&zc(_.$elm$.parentNode,!1),so(_,D,l),ps(s,_.$elm$,g.$elm$),_=e[--f],D=n[++h];else{for(p=-1,m=c;m<=f;++m)if(e[m]&&e[m].$key$!==null&&e[m].$key$===D.$key$){p=m;break}p>=0?(ee=e[p],ee.$tag$!==D.$tag$?G=Iu(e&&e[h],a,p):(so(ee,D,l),e[p]=void 0,G=ee.$elm$),D=n[++h]):(G=Iu(e&&e[h],a,h),D=n[++h]),G&&ps(Gc(g.$elm$).parentNode,G,Gc(g.$elm$))}c>f?nE(s,n[w+1]==null?null:n[w+1].$elm$,a,n,h,w):h>w&&iE(e,c,f)},"updateChildren"),Nu=o((s,e,a=!1)=>s.$tag$===e.$tag$?s.$tag$==="slot"?s.$name$===e.$name$:a?(a&&!s.$key$&&e.$key$&&(s.$key$=e.$key$),!0):s.$key$===e.$key$:!1,"isSameVnode"),Gc=o(s=>s&&s["s-ol"]||s,"referenceNode"),so=o((s,e,a=!1)=>{let n=e.$elm$=s.$elm$,l=s.$children$,c=e.$children$,h=e.$tag$,p=e.$text$,m;p===null?(Lr=h==="svg"?!0:h==="foreignObject"?!1:Lr,Wp(s,e,Lr,a),l!==null&&c!==null?Nv(n,l,e,c,a):c!==null?(s.$text$!==null&&(n.textContent=""),nE(n,null,e,c,0,c.length-1)):!a&&er.updatable&&l!==null&&iE(l,0,l.length-1),Lr&&h==="svg"&&(Lr=!1)):(m=n["s-cr"])?m.parentNode.textContent=p:s.$text$!==p&&(n.data=p)},"patch"),Ps=[],oE=o(s=>{let e,a,n,l=s.__childNodes||s.childNodes;for(let c of l){if(c["s-sr"]&&(e=c["s-cr"])&&e.parentNode){a=e.parentNode.__childNodes||e.parentNode.childNodes;let h=c["s-sn"];for(n=a.length-1;n>=0;n--)if(e=a[n],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==c["s-hn"]&&!0)if(yu(e,h)){let p=Ps.find(m=>m.$nodeToRelocate$===e);wu=!0,e["s-sn"]=e["s-sn"]||h,p?(p.$nodeToRelocate$["s-sh"]=c["s-hn"],p.$slotRefNode$=c):(e["s-sh"]=c["s-hn"],Ps.push({$slotRefNode$:c,$nodeToRelocate$:e})),e["s-sr"]&&Ps.map(m=>{yu(m.$nodeToRelocate$,e["s-sn"])&&(p=Ps.find(f=>f.$nodeToRelocate$===e),p&&!m.$slotRefNode$&&(m.$slotRefNode$=p.$slotRefNode$))})}else Ps.some(p=>p.$nodeToRelocate$===e)||Ps.push({$nodeToRelocate$:e})}c.nodeType===1&&oE(c)}},"markSlotContentForRelocation"),lE=o(s=>{s.$attrs$&&s.$attrs$.ref&&s.$attrs$.ref(null),s.$children$&&s.$children$.map(lE)},"nullifyVNodeRefs"),ps=o((s,e,a)=>(typeof e["s-sn"]=="string"&&e["s-sr"]&&e["s-cr"]&&Qp(e["s-cr"],e,s,e.parentElement),s?.insertBefore(e,a)),"insertBefore");function Qp(s,e,a,n){var l,c;let h;if(s&&typeof e["s-sn"]=="string"&&e["s-sr"]&&s.parentNode&&s.parentNode["s-sc"]&&(h=e["s-si"]||s.parentNode["s-sc"])){let p=e["s-sn"],m=e["s-hn"];if((l=a.classList)==null||l.add(h+"-s"),n&&(c=n.classList)!=null&&c.contains(h+"-s")){let f=(n.__childNodes||n.childNodes)[0],g=!1;for(;f;){if(f["s-sn"]!==p&&f["s-hn"]===m&&f["s-sr"]){g=!0;break}f=f.nextSibling}g||n.classList.remove(h+"-s")}}}o(Qp,"addRemoveSlotScopedClass");var Lv=o((s,e,a=!1)=>{var n,l;let c=s.$hostElement$,h=s.$cmpMeta$,p=s.$vnode$||tr(null,null),m=_u(e)?e:Yt(null,null,e);if(Fc=c.tagName,h.$attrsToReflect$&&(m.$attrs$=m.$attrs$||{},h.$attrsToReflect$.map(([f,g])=>m.$attrs$[g]=c[f])),a&&m.$attrs$)for(let f of Object.keys(m.$attrs$))c.hasAttribute(f)&&!["key","ref","style","class"].includes(f)&&(m.$attrs$[f]=c[f]);m.$tag$=null,m.$flags$|=4,s.$vnode$=m,m.$elm$=p.$elm$=c.shadowRoot||c,Cu=c["s-sc"],qp=!!(h.$flags$&1)&&!(h.$flags$&128),ku=c["s-cr"],wu=!1,so(p,m,a);{if(jt.$flags$|=1,Kp){oE(m.$elm$);for(let f of Ps){let g=f.$nodeToRelocate$;if(!g["s-ol"]){let _=Rv(g);_["s-nr"]=g,ps(g.parentNode,g["s-ol"]=_,g)}}for(let f of Ps){let g=f.$nodeToRelocate$,_=f.$slotRefNode$;if(_){let w=_.parentNode,D=_.nextSibling,B=g.__parentNode||g.parentNode,G=g.__nextSibling||g.nextSibling;(!D&&w!==B||G!==D)&&g!==D&&(!g["s-hn"]&&g["s-ol"]&&(g["s-hn"]=g["s-ol"].parentNode.nodeName),ps(w,g,D),g.nodeType===1&&g.tagName!=="SLOT-FB"&&(g.hidden=(n=g["s-ih"])!=null?n:!1)),g&&typeof _["s-rf"]=="function"&&_["s-rf"](_)}else g.nodeType===1&&(a&&(g["s-ih"]=(l=g.hidden)!=null?l:!1),g.hidden=!0)}}wu&&Eu(m.$elm$),jt.$flags$&=-2,Ps.length=0}ku=void 0},"renderVdom"),xv=o(s=>Pr.createComment(`<slot${s.$name$?' name="'+s.$name$+'"':""}> (host=${Fc.toLowerCase()})`),"slotReferenceDebugNode"),Rv=o(s=>Pr.createComment("org-location for "+(s.localName?`<${s.localName}> (host=${s["s-hn"]})`:`[${s.textContent}]`)),"originalLocationDebugNode"),cE=o((s,e)=>{if(e&&!s.$onRenderResolve$&&e["s-p"]){let a=e["s-p"].push(new Promise(n=>s.$onRenderResolve$=()=>{e["s-p"].splice(a-1,1),n()}))}},"attachToAncestor"),Xp=o((s,e)=>{if(s.$flags$|=16,s.$flags$&4){s.$flags$|=512;return}return cE(s,s.$ancestorComponent$),Qv(o(()=>Ov(s,e),"dispatch"))},"scheduleUpdate"),Ov=o((s,e)=>{let a=s.$hostElement$,n=es("scheduleUpdate",s.$cmpMeta$.$tagName$),l=s.$lazyInstance$;if(!l)throw new Error(`Can't render component <${a.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let c;return e?(s.$flags$|=256,s.$queuedListeners$&&(s.$queuedListeners$.map(([h,p])=>Ta(l,h,p,a)),s.$queuedListeners$=void 0),c=Ta(l,"componentWillLoad",void 0,a)):c=Ta(l,"componentWillUpdate",void 0,a),c=hE(c,()=>Ta(l,"componentWillRender",void 0,a)),n(),hE(c,()=>Dv(s,l,e))},"dispatchHooks"),hE=o((s,e)=>Mv(s)?s.then(e).catch(a=>{je.error(a),e()}):e(),"enqueue"),Mv=o(s=>s instanceof Promise||s&&s.then&&typeof s.then=="function","isPromisey"),Dv=o(async(s,e,a)=>{var n;let l=s.$hostElement$,c=es("update",s.$cmpMeta$.$tagName$),h=l["s-rc"];a&&kv(s);let p=es("render",s.$cmpMeta$.$tagName$);await Pv(s,e,l,a);try{pE(l),a&&(s.$cmpMeta$.$flags$&1?l["s-en"]="":s.$cmpMeta$.$flags$&2&&(l["s-en"]="c"))}catch(m){ya(m,l)}h&&(h.map(m=>m()),l["s-rc"]=void 0),p(),c();{let m=(n=l["s-p"])!=null?n:[],f=o(()=>$v(s),"postUpdate");m.length===0?f():(Promise.all(m).then(f),s.$flags$|=4,m.length=0)}},"updateComponent"),Jp=null,Pv=o((s,e,a,n)=>{try{return Jp=e,e=e.render(),s.$flags$&=-17,s.$flags$|=2,Promise.resolve(e).then(l=>Lv(s,l,n))}catch(l){ya(l,s.$hostElement$)}return Jp=null,null},"callRender"),uE=o(()=>Jp,"getRenderingRef"),$v=o(s=>{let e=s.$cmpMeta$.$tagName$,a=s.$hostElement$,n=es("postUpdate",e),l=s.$lazyInstance$,c=s.$ancestorComponent$;Ta(l,"componentDidRender",void 0,a),s.$flags$&64?(Ta(l,"componentDidUpdate",void 0,a),n()):(s.$flags$|=64,Bv(a),Ta(l,"componentDidLoad",void 0,a),n(),s.$onReadyResolve$(a),c||Hv()),s.$onRenderResolve$&&(s.$onRenderResolve$(),s.$onRenderResolve$=void 0),s.$flags$&512&&nm(()=>Xp(s,!1)),s.$flags$&=-517},"postUpdateComponent"),dE=o(s=>!1,"forceUpdate"),Hv=o(s=>{nm(()=>J1(xu,"appload",{detail:{namespace:Xi}}))},"appDidLoad"),Ta=o((s,e,a,n)=>{if(s&&s[e])try{return s[e](a)}catch(l){ya(l,n)}},"safeCall"),Bv=o(s=>{var e;return s.classList.add((e=er.hydratedSelectorName)!=null?e:"hydrated")},"addHydratedFlag"),pE=o(s=>{let e=s.children;if(e!=null)for(let a=0,n=e.length;a<n;a++){let l=e[a];typeof l.connectedCallback=="function"&&l.connectedCallback(),pE(l)}},"serverSideConnected"),Lu=o((s,e)=>vr(s).$instanceValues$.get(e),"getValue"),jc=o((s,e,a,n)=>{let l=vr(s);if(!l)throw new Error(`Couldn't find host element for "${n.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);let c=l.$hostElement$,h=l.$instanceValues$.get(e),p=l.$flags$,m=l.$lazyInstance$;a=Su(a,n.$members$[e][0]);let f=Number.isNaN(h)&&Number.isNaN(a),g=a!==h&&!f;if((!(p&8)||h===void 0)&&g&&(l.$instanceValues$.set(e,a),m)){if(n.$watchers$&&p&128){let _=n.$watchers$[e];_&&_.map(w=>{try{m[w](a,h,e)}catch(D){ya(D,c)}})}if((p&18)===2){if(m.componentShouldUpdate&&m.componentShouldUpdate(a,h,e)===!1)return;Xp(l,!1)}}},"setValue"),Uv=o((s,e,a)=>{var n,l;let c=s.prototype;if(e.$members$||e.$watchers$||s.watchers){s.watchers&&!e.$watchers$&&(e.$watchers$=s.watchers);let h=Object.entries((n=e.$members$)!=null?n:{});if(h.map(([p,[m]])=>{if(m&31||a&2&&m&32){let{get:f,set:g}=Object.getOwnPropertyDescriptor(c,p)||{};f&&(e.$members$[p][0]|=2048),g&&(e.$members$[p][0]|=4096),(a&1||!f)&&Object.defineProperty(c,p,{get(){{if((e.$members$[p][0]&2048)===0)return Lu(this,p);let _=vr(this),w=_?_.$lazyInstance$:c;return w?w[p]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(c,p,{set(_){let w=vr(this);if(g){let D=m&32?this[p]:w.$hostElement$[p];typeof D>"u"&&w.$instanceValues$.get(p)?_=w.$instanceValues$.get(p):!w.$instanceValues$.get(p)&&D&&w.$instanceValues$.set(p,D),g.apply(this,[Su(_,m)]),_=m&32?this[p]:w.$hostElement$[p],jc(this,p,_,e);return}{if((a&1)===0||(e.$members$[p][0]&4096)===0){jc(this,p,_,e),a&1&&!w.$lazyInstance$&&w.$onReadyPromise$.then(()=>{e.$members$[p][0]&4096&&w.$lazyInstance$[p]!==w.$instanceValues$.get(p)&&(w.$lazyInstance$[p]=_)});return}let D=o(()=>{let B=w.$lazyInstance$[p];!w.$instanceValues$.get(p)&&B&&w.$instanceValues$.set(p,B),w.$lazyInstance$[p]=Su(_,m),jc(this,p,w.$lazyInstance$[p],e)},"setterSetVal");w.$lazyInstance$?D():w.$onReadyPromise$.then(()=>D())}}})}}),a&1){let p=new Map;c.attributeChangedCallback=function(m,f,g){jt.jmp(()=>{var _;let w=p.get(m);if(this.hasOwnProperty(w)&&er.lazyLoad)g=this[w],delete this[w];else{if(c.hasOwnProperty(w)&&typeof this[w]=="number"&&this[w]==g)return;if(w==null){let B=vr(this),G=B?.$flags$;if(G&&!(G&8)&&G&128&&g!==f){let ee=B.$lazyInstance$;((_=e.$watchers$)==null?void 0:_[m])?.forEach(ne=>{ee[ne]!=null&&ee[ne].call(ee,g,f,m)})}return}}let D=Object.getOwnPropertyDescriptor(c,w);g=g===null&&typeof this[w]=="boolean"?!1:g,g!==this[w]&&(!D.get||D.set)&&(this[w]=g)})},s.observedAttributes=Array.from(new Set([...Object.keys((l=e.$watchers$)!=null?l:{}),...h.filter(([m,f])=>f[0]&15).map(([m,f])=>{var g;let _=f[1]||m;return p.set(_,m),f[0]&512&&((g=e.$attrsToReflect$)==null||g.push([m,_])),_})]))}}return s},"proxyComponent"),Fv=o(async(s,e,a,n)=>{let l;if((e.$flags$&32)===0){if(e.$flags$|=32,a.$lazyBundleId$){let p=am(a);if(p&&"then"in p){let f=Gp();l=await p,f()}else l=p;if(!l)throw new Error(`Constructor for "${a.$tagName$}#${e.$modeName$}" was not found`);l.isProxied||(a.$watchers$=l.watchers,Uv(l,a,2),l.isProxied=!0);let m=es("createInstance",a.$tagName$);e.$flags$|=8;try{new l(e)}catch(f){ya(f,s)}e.$flags$&=-9,e.$flags$|=128,m(),em(e.$lazyInstance$,s)}else{l=s.constructor;let p=s.localName;Kr.whenDefined(p).then(()=>e.$flags$|=128)}if(l&&l.style){let p;typeof l.style=="string"&&(p=l.style);let m=Zp(a);if(!Ru.has(m)){let f=es("registerStyles",a.$tagName$);a.$flags$&128&&(p=Sv(p,m,!0)),Cv(m,p),f()}}}let c=e.$ancestorComponent$,h=o(()=>Xp(e,!0),"schedule");c&&c["s-rc"]?c["s-rc"].push(h):h()},"initializeComponent"),em=o((s,e)=>{Ta(s,"connectedCallback",void 0,e)},"fireConnectedCallback"),zv=o(s=>{if((jt.$flags$&1)===0){let e=vr(s),a=e.$cmpMeta$,n=es("connectedCallback",a.$tagName$);if(e.$flags$&1)mE(s,e,a.$listeners$),e?.$lazyInstance$?em(e.$lazyInstance$,s):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>em(e.$lazyInstance$,s));else{e.$flags$|=1;let l;if(l=s.getAttribute(Rs),l){if(a.$flags$&1){let c=tE(s.shadowRoot,a);s.classList.remove(c+"-h",c+"-s")}else if(a.$flags$&2){let c=Zp(a);s["s-sc"]=c}Bc(s,a.$tagName$,l,e)}l||Gv(s);{let c=s;for(;c=c.parentNode||c.host;)if(c.nodeType===1&&c.hasAttribute("s-id")&&c["s-p"]||c["s-p"]){cE(e,e.$ancestorComponent$=c);break}}Fv(s,e,a)}n()}},"connectedCallback"),Gv=o(s=>{let e=s["s-cr"]=Pr.createComment("");e["s-cn"]=!0,ps(s,e,s.firstChild)},"setContentReference"),ba=o((s,e)=>e,"Fragment"),mE=o((s,e,a,n)=>{a&&a.map(([l,c,h])=>{let p=Vv(s,l),m=jv(e,h),f=Zv(l);jt.ael(p,c,m,f),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>jt.rel(p,c,m,f))})},"addHostEventListeners"),jv=o((s,e)=>a=>{var n;try{s.$flags$&256?(n=s.$lazyInstance$)==null||n[e](a):(s.$queuedListeners$=s.$queuedListeners$||[]).push([e,a])}catch(l){ya(l,s.$hostElement$)}},"hostListenerProxy"),Vv=o((s,e)=>e&4?Pr:e&16?Pr.body:s,"getHostListenerTarget"),Zv=o(s=>(s&2)!==0,"hostListenerOpts"),Wv=o((s,e)=>{if(s!=null){let a=_r in s?s[_r]:{...gu};a.staticComponents=new Set(e);let n=[];fE(s,s.body,a,n),n.forEach(l=>{var c;if(l!=null&&l["s-nr"]){let h=l["s-nr"],p=h["s-host-id"],m=h["s-node-id"],f=`${p}.${m}`;if(p==null){if(p=0,a.rootLevelIds++,m=a.rootLevelIds,f=`${p}.${m}`,h.nodeType===1)h.setAttribute(Jr,f),typeof h["s-sn"]=="string"&&!h.getAttribute("slot")&&h.setAttribute("s-sn",h["s-sn"]);else if(h.nodeType===3){if(p===0&&((c=h.nodeValue)==null?void 0:c.trim())===""){l.remove();return}let w=s.createComment(f);w.nodeValue=`${Pc}.${f}`,ps(h.parentNode,w,h)}else if(h.nodeType===8){let w=s.createComment(f);w.nodeValue=`${eo}.${f}`,h.parentNode.insertBefore(w,h)}}let g=`${Dc}.${f}`,_=l.parentElement;_&&(_["s-en"]===""?g+=".":_["s-en"]==="c"&&(g+=".c")),l.nodeValue=g}})}},"insertVdomAnnotations"),fE=o((s,e,a,n)=>{var l;e!=null&&(e["s-nr"]!=null&&n.push(e),e.nodeType===1&&[...Array.from(e.childNodes),...Array.from(((l=e.shadowRoot)==null?void 0:l.childNodes)||[])].forEach(c=>{let h=vr(c);if(h!=null&&!a.staticComponents.has(c.nodeName.toLowerCase())){let p={nodeIds:0};Yv(s,c,h.$vnode$,a,p)}fE(s,c,a,n)}))},"parseVNodeAnnotations"),Yv=o((s,e,a,n,l)=>{if(a!=null){let c=++n.hostIds;if(e.setAttribute(Rs,c),e["s-cr"]!=null&&(e["s-cr"].nodeValue=`${mu}.${c}`),a.$children$!=null&&a.$children$.forEach((h,p)=>{gE(s,h,l,c,0,p)}),e&&a&&a.$elm$&&!e.hasAttribute(Jr)){let h=e.parentElement;if(h&&h.childNodes){let p=Array.from(h.childNodes),m=p.find(f=>f.nodeType===8&&f["s-sr"]);if(m){let f=p.indexOf(e)-1;a.$elm$.setAttribute(Jr,`${m["s-host-id"]}.${m["s-node-id"]}.0.${f}`)}}}}},"insertVNodeAnnotations"),gE=o((s,e,a,n,l,c)=>{let h=e.$elm$;if(h==null)return;let p=a.nodeIds++,m=`${n}.${p}.${l}.${c}`;if(h["s-host-id"]=n,h["s-node-id"]=p,h.nodeType===1)h.setAttribute(Jr,m),typeof h["s-sn"]=="string"&&!h.getAttribute("slot")&&h.setAttribute("s-sn",h["s-sn"]);else if(h.nodeType===3){let f=h.parentNode,g=f?.nodeName;if(g!=="STYLE"&&g!=="SCRIPT"){let _=`${Pc}.${m}`,w=s.createComment(_);ps(f,w,h)}}else if(h.nodeType===8&&h["s-sr"]){let f=h["s-sn"]||"",g=`${fu}.${m}.${f}`;h.nodeValue=g}if(e.$children$!=null){let f=l+1;e.$children$.forEach((g,_)=>{gE(s,g,a,n,f,_)})}},"insertChildVNodeAnnotations"),x=o((s,e,...a)=>{if(Array.isArray(a)&&a.length>0){let n=a.flat(1/0);return n.some(l=>l instanceof Promise)?Promise.all(n).then(l=>Yt(s,e,...l)).catch(l=>Yt(s,e)):Yt(s,e,...n)}return Yt(s,e)},"hAsync");function EE(s,e){let a=e.cmpMeta;if(typeof s.componentOnReady!="function"&&(s.componentOnReady=TE),typeof s.forceUpdate!="function"&&(s.forceUpdate=bE),!s.shadowRoot&&a.$flags$&1&&!(a.$flags$&128)&&s.attachShadow({mode:"open"}),a.$members$!=null){let n=vr(s);Object.entries(a.$members$).forEach(([l,[c,h]])=>{var p;if(c&31){let m=h||l,f=s.getAttribute(m);if(f?.startsWith("{")&&f.endsWith("}")||f?.startsWith("[")&&f.endsWith("]"))try{f=JSON.parse(f)}catch{}let{get:g,set:_}=Object.getOwnPropertyDescriptor(e.prototype,l)||{},w;f!=null&&(w=Su(f,c));let D=s[l];D!==void 0&&(w=D,delete s[l]),w!==void 0&&(_&&(_.apply(s,[w]),w=g?g.apply(s):w),(p=n?.$instanceValues$)==null||p.set(l,w));let B={get:o(function(){return Lu(this,l)},"get"),set:o(function(G){jc(this,l,G,a)},"set"),configurable:!0,enumerable:!0};Object.defineProperty(s,l,B),Object.defineProperty(s,h,B),e.prototype.__stencilAugmented||Object.defineProperty(e.prototype,l,{get:o(function(){var G;let ee=(G=vr(this).$instanceValues$)==null?void 0:G.get(l);return g&&ee===void 0&&!Lu(this,l)&&jc(this,l,g.apply(this),a),ee!==void 0?ee:g?g.apply(this):Lu(this,l)},"get"),configurable:!0,enumerable:!0})}else c&64&&Object.defineProperty(s,l,{value(...m){var f;let g=vr(this);return(f=g?.$onInstancePromise$)==null?void 0:f.then(()=>{var _;return(_=g?.$lazyInstance$)==null?void 0:_[l](...m)}).catch(_=>{ya(_,this)})}})}),e.prototype.__stencilAugmented=!0}}o(EE,"proxyHostElement");function TE(){var s;return(s=vr(this))==null?void 0:s.$onReadyPromise$}o(TE,"componentOnReady");function bE(){}o(bE,"forceUpdate2");function yE(s,e,a,n,l){let c=new Set,h=new Set,p=new Set,m=s.document.createElement,f=s.document.createElementNS,g=Promise.resolve(),_,w=!1;function D(){if(y.clearTimeout(_),h.clear(),c.clear(),!w){w=!0;try{e.clientHydrateAnnotations&&Wv(s.document,e.staticComponents),s.dispatchEvent(new s.Event("DOMContentLoaded")),s.document.createElement=m,s.document.createElementNS=f}catch(ee){sm(e,a,ee)}}n(s,e,a,l)}o(D,"hydratedComplete");function B(ee){sm(e,a,ee),D()}o(B,"hydratedError");function G(){B(`Hydrate exceeded timeout${SE(p)}`)}o(G,"timeoutExceeded");try{let ee=o(function(){return Ee(this)},"patchedConnectedCallback2"),ae=o(function(me){if(tm(me,e)&&!vr(me)){let ie=am({$tagName$:me.nodeName.toLowerCase(),$flags$:null});if(ie!=null&&ie.cmpMeta!=null){if(e.serializeShadowRoot!==!1&&ie.cmpMeta.$flags$&1&&CE(me.tagName,e.serializeShadowRoot)){let q=ie.cmpMeta;q.$flags$|=128,Object.defineProperty(ie,"cmpMeta",{get:o(function(){return q},"get")})}h.add(me),me.connectedCallback=ee,eS(me,ie.cmpMeta),EE(me,ie)}}},"patchElement2"),ne=o(function(me){if(me!=null&&me.nodeType===1){ae(me);let ie=me.children;for(let q=0,te=ie.length;q<te;q++)ne(ie[q])}},"patchChild2"),Ee=o(function(me){return h.delete(me),tm(me,e)&&a.hydratedCount<e.maxHydrateCount&&!c.has(me)&&rm(me)?(c.add(me),_E.call(me,s,a,me.nodeName,me,p)):g},"connectElement2"),Pe=o(function(){let me=Array.from(h).filter(ie=>ie.parentElement);return me.length>0?Promise.all(me.map(Ee)).then(Pe):g},"waitLoop2");s.document.createElement=o(function(me){let ie=m.call(s.document,me);return ae(ie),ie},"patchedCreateElement"),s.document.createElementNS=o(function(me,ie){let q=f.call(s.document,me,ie);return ae(q),q},"patchedCreateElement"),_=y.setTimeout(G,e.timeout),jt.$resourcesUrl$=new yt(e.resourcesUrl||"./",Pr.baseURI).href,ne(s.document.body),Pe().then(D).catch(B)}catch(ee){B(ee)}}o(yE,"hydrateApp");async function _E(s,e,a,n,l){a=a.toLowerCase();let c=am({$tagName$:a,$flags$:null});if(c!=null){let h=c.cmpMeta;if(h!=null){l.add(n);let p=vr(this);mE(this,p,h.$listeners$);try{zv(n),await n.componentOnReady(),e.hydratedCount++;let m=vr(n),f=m.$modeName$?m.$modeName$:"$";e.components.some(g=>g.tag===a&&g.mode===f)||e.components.push({tag:a,mode:f,count:0,depth:-1})}catch(m){s.console.error(m)}l.delete(n)}}}o(_E,"hydrateComponent");function tm(s,e){if(s!=null&&s.nodeType===1){let a=s.nodeName;if(typeof a=="string"&&a.includes("-"))return!e.excludeComponents.includes(a.toLowerCase())}return!1}o(tm,"isValidComponent");function rm(s){if(s.nodeType===9)return!0;if(qv.has(s.nodeName)||s.hasAttribute("no-prerender"))return!1;let e=s.parentNode;return e==null?!0:rm(e)}o(rm,"shouldHydrate");var qv=new Set(["CODE","HEAD","IFRAME","INPUT","OBJECT","OUTPUT","NOSCRIPT","PRE","SCRIPT","SELECT","STYLE","TEMPLATE","TEXTAREA"]);function sm(s,e,a){let n={level:"error",type:"build",header:"Hydrate Error",messageText:"",relFilePath:void 0,absFilePath:void 0,lines:[]};if(s.url)try{let l=new yt(s.url);l.pathname!=="/"&&(n.header+=": "+l.pathname)}catch{}a!=null&&(a.stack!=null?n.messageText=a.stack.toString():a.message!=null?n.messageText=a.message.toString():n.messageText=a.toString()),e.diagnostics.push(n)}o(sm,"renderCatchError");function AE(s){let e=`<${s.nodeName.toLowerCase()}`;if(Array.isArray(s.attributes))for(let a=0;a<s.attributes.length;a++){let n=s.attributes[a];e+=` ${n.name}`,n.value!==""&&(e+=`="${n.value}"`)}return e+=">",e}o(AE,"printTag");function vE(s){let e="";if(s){let a=[];e=" - waiting on:";let n=s;for(;n&&n.nodeType!==9&&n.nodeName!=="BODY";)a.unshift(AE(n)),n=n.parentElement;let l="";for(let c of a)l+="  ",e+=`
${l}${c}`}return e}o(vE,"waitingOnElementMsg");function SE(s){return Array.from(s).map(vE)}o(SE,"waitingOnElementsMsg");function CE(s,e){return typeof e=="string"?e==="scoped":typeof e=="boolean"?e!==!0:typeof e=="object"?(s=s.toLowerCase(),Array.isArray(e["declarative-shadow-dom"])&&e["declarative-shadow-dom"].includes(s)?!1:!((!Array.isArray(e.scoped)||!e.scoped.includes(s))&&e.default==="declarative-shadow-dom")):!1}o(CE,"tagRequiresScoped");var kE=new Map,wE=o(s=>{if(typeof s=="string"){s=s.toLowerCase();let e=kE.get(s);if(e!=null)return e[s]}return null},"getModule"),am=o((s,e,a)=>wE(s.$tagName$),"loadModule"),IE=o((s,e)=>{if(s!=null){if(e in s)return!0;let a=wE(s.nodeName);if(a!=null){let n=a;if(n!=null&&n.cmpMeta!=null&&n.cmpMeta.$members$!=null)return e in n.cmpMeta.$members$}}return!1},"isMemberInElement"),Kv=o(s=>{for(let e of s){let a=e.cmpMeta.$tagName$;kE.set(a,{[a]:e})}},"registerComponents"),xu=Rt,Pr=xu.document,Qv=o(s=>{nm(()=>{try{s()}catch(e){ya(e)}})},"writeTask"),Xv=Promise.resolve(),nm=o(s=>Xv.then(s),"nextTick"),Jv=o(s=>{s!=null&&je.error(s.stack||s.message||s)},"defaultConsoleError"),ya=o((s,e)=>Jv(s,e),"consoleError"),jt={$flags$:0,$resourcesUrl$:"",jmp:o(s=>s(),"jmp"),raf:o(s=>He(s),"raf"),ael:o((s,e,a,n)=>s.addEventListener(e,a,n),"ael"),rel:o((s,e,a,n)=>s.removeEventListener(e,a,n),"rel"),ce:o((s,e)=>new xu.CustomEvent(s,e),"ce")},vr=o(s=>{if(s.__stencil__getHostRef)return s.__stencil__getHostRef()},"getHostRef"),Lt=o((s,e)=>(s.__stencil__getHostRef=()=>e,e.$lazyInstance$=s,e),"registerInstance"),eS=o((s,e)=>{let a={$flags$:0,$cmpMeta$:e,$hostElement$:s,$instanceValues$:new Map,$renderCount$:0};return a.$onInstancePromise$=new Promise(n=>a.$onInstanceResolve$=n),a.$onReadyPromise$=new Promise(n=>a.$onReadyResolve$=n),s["s-p"]=[],s["s-rc"]=[],s.__stencil__getHostRef=()=>a,a},"registerHost"),Ru=new Map;let Vc=(mo=class extends Error{constructor(){super("Orama Client is not initialized")}},o(mo,"OramaClientNotInitializedError"),mo);var fr;(function(s){s.idle="idle",s.loading="loading",s.rendering="rendering",s.streaming="streaming",s.error="error",s.aborted="aborted",s.done="done"})(fr||(fr={}));let tS=Object.keys({arabic:"ar",armenian:"am",bulgarian:"bg",czech:"cz",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"});Date.now().toString().slice(5);let NE=BigInt(1e3),LE=BigInt(1e6),xE=BigInt(1e9),im=65535;function RE(s,e){if(e.length<im)Array.prototype.push.apply(s,e);else{let a=e.length;for(let n=0;n<a;n+=im)Array.prototype.push.apply(s,e.slice(n,n+im))}}o(RE,"safeArrayPush");function OE(s,...e){return s.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...a){let n=a[a.length-1],{width:l,type:c,position:h}=n,p=h?e[Number.parseInt(h)-1]:e.shift(),m=l===""?0:Number.parseInt(l);switch(c){case"d":return p.toString().padStart(m,"0");case"f":{let f=p,[g,_]=l.split(".").map(w=>Number.parseFloat(w));return typeof _=="number"&&_>=0&&(f=f.toFixed(_)),typeof g=="number"&&g>=0?f.toString().padStart(m,"0"):f.toString()}case"s":return m<0?p.toString().padEnd(-m," "):p.toString().padStart(m," ");default:return p}})}o(OE,"sprintf");function ME(){return typeof WorkerGlobalScope<"u"&&O instanceof WorkerGlobalScope}o(ME,"isInsideWebWorker");function DE(){return typeof process<"u"&&process.release&&process.release.name==="node"}o(DE,"isInsideNode");function om(){return BigInt(Math.floor(We.now()*1e6))}o(om,"getNanosecondTimeViaPerformance");function lm(s){return typeof s=="number"&&(s=BigInt(s)),s<NE?`${s}ns`:s<LE?`${s/NE}μs`:s<xE?`${s/LE}ms`:`${s/xE}s`}o(lm,"formatNanoseconds");function tn(){return ME()?om():DE()||typeof process<"u"&&typeof process?.hrtime?.bigint=="function"?process.hrtime.bigint():typeof We<"u"?om():BigInt(0)}o(tn,"getNanosecondsTime");function cm(s,e){return e[1]===s[1]?s[0]-e[0]:e[1]-s[1]}o(cm,"sortTokenScorePredicate");function PE(s){if(s.length===0)return[];if(s.length===1)return s[0];for(let a=1;a<s.length;a++)if(s[a].length<s[0].length){let n=s[0];s[0]=s[a],s[a]=n}let e=new Map;for(let a of s[0])e.set(a,1);for(let a=1;a<s.length;a++){let n=0;for(let l of s[a]){let c=e.get(l);c===a&&(e.set(l,c+1),n++)}if(n===0)return[]}return s[0].filter(a=>{let n=e.get(a);return n!==void 0&&e.set(a,0),n===s.length})}o(PE,"intersect");function $E(s,e){let a={},n=e.length;for(let l=0;l<n;l++){let c=e[l],h=c.split("."),p=s,m=h.length;for(let f=0;f<m;f++)if(p=p[h[f]],typeof p=="object"){if(p!==null&&"lat"in p&&"lon"in p&&typeof p.lat=="number"&&typeof p.lon=="number"){p=a[c]=p;break}else if(!Array.isArray(p)&&p!==null&&f===m-1){p=void 0;break}}else if((p===null||typeof p!="object")&&f<m-1){p=void 0;break}typeof p<"u"&&(a[c]=p)}return a}o($E,"getDocumentProperties");function Ou(s,e){return $E(s,[e])[e]}o(Ou,"getNested");function hm(s,e){s.hits=s.hits.map(a=>({...a,document:{...a.document,...e.reduce((n,l)=>{let c=l.split("."),h=c.pop(),p=n;for(let m of c)p[m]=p[m]??{},p=p[m];return p[h]=null,n},a.document)}}))}o(hm,"removeVectorsFromHits");function Mu(s){return Array.isArray(s)?s.some(e=>Mu(e)):s?.constructor?.name==="AsyncFunction"}o(Mu,"isAsyncFunction");let rS={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${tS.join(`
 - `)}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.orama.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:",PLUGIN_SECURE_PROXY_NOT_FOUND:`Could not find '@orama/secure-proxy-plugin' installed in your Orama instance.
Please install it before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy#plugin-secure-proxy
`,PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL:`Could not find a chat model defined in the secure proxy plugin configuration.
Please provide a chat model before proceeding with creating an answer session.
Read more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy#plugin-secure-proxy
`,ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT:"The last message in the session is not an assistant message. Cannot regenerate non-assistant messages.",PLUGIN_COMPONENT_CONFLICT:'The component "%s" is already defined. The plugin "%s" is trying to redefine it.'};function $r(s,...e){let a=new Error(OE(rS[s]??`Unsupported Orama Error code: ${s}`,...e));return a.code=s,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(a),a}o($r,"createError");function um(s,e){if(typeof e=="string"){let a=s.idToInternalId.get(e);if(a)return a;let n=s.idToInternalId.size+1;return s.idToInternalId.set(e,n),s.internalIdToId.push(e),n}return e>s.internalIdToId.length?um(s,e.toString()):e}o(um,"getInternalDocumentId");function Zc(s,e){if(s.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return s.internalIdToId[e-1]}o(Zc,"getDocumentIdFromInternalId");function Du(s,e,a,n,l){if(s.some(Mu))return(async()=>{for(let c of s)await c(e,a,n,l)})();for(let c of s)c(e,a,n,l)}o(Du,"runAfterSearch");function Pu(s,e,a,n){if(s.some(Mu))return(async()=>{for(let l of s)await l(e,a,n)})();for(let l of s)l(e,a,n)}o(Pu,"runBeforeSearch");let sS=.8;function HE(s){return s.documentsStore.count(s.data.docs)}o(HE,"count");let BE="fulltext",aS="hybrid",nS="vector";function UE(s,e){return s[1]-e[1]}o(UE,"sortAsc");function FE(s,e){return e[1]-s[1]}o(FE,"sortDesc");function zE(s="desc"){return s.toLowerCase()==="asc"?UE:FE}o(zE,"sortingPredicateBuilder");function $u(s,e,a){let n={},l=e.map(([f])=>f),c=s.documentsStore.getMultiple(s.data.docs,l),h=Object.keys(a),p=s.index.getSearchablePropertiesWithTypes(s.data.index);for(let f of h){let g;if(p[f]==="number"){let{ranges:_}=a[f],w=_.length,D=Array.from({length:w});for(let B=0;B<w;B++){let G=_[B];D[B]=[`${G.from}-${G.to}`,0]}g=Object.fromEntries(D)}n[f]={count:0,values:g??{}}}let m=c.length;for(let f=0;f<m;f++){let g=c[f];for(let _ of h){let w=_.includes(".")?Ou(g,_):g[_],D=p[_],B=n[_].values;switch(D){case"number":{let G=a[_].ranges;dm(G,B)(w);break}case"number[]":{let G=new Set,ee=a[_].ranges,ae=dm(ee,B,G);for(let ne of w)ae(ne);break}case"boolean":case"enum":case"string":{pm(B,D)(w);break}case"boolean[]":case"enum[]":case"string[]":{let G=pm(B,D==="boolean[]"?"boolean":"string",new Set);for(let ee of w)G(ee);break}default:throw $r("FACET_NOT_SUPPORTED",D)}}}for(let f of h){let g=n[f];if(g.count=Object.keys(g.values).length,p[f]==="string"){let _=a[f],w=zE(_.sort);g.values=Object.fromEntries(Object.entries(g.values).sort(w).slice(_.offset??0,_.limit??10))}}return n}o($u,"getFacets");function dm(s,e,a){return n=>{for(let l of s){let c=`${l.from}-${l.to}`;a?.has(c)||n>=l.from&&n<=l.to&&(e[c]===void 0?e[c]=1:(e[c]++,a?.add(c)))}}}o(dm,"calculateNumberFacetBuilder");function pm(s,e,a){let n=e==="boolean"?"false":"";return l=>{let c=l?.toString()??n;a?.has(c)||(s[c]=(s[c]??0)+1,a?.add(c))}}o(pm,"calculateBooleanStringOrEnumFacetBuilder");let iS={reducer:o((s,e,a,n)=>(e[n]=a,e),"reducer"),getInitialValue:o(s=>Array.from({length:s}),"getInitialValue")},GE=["string","number","boolean"];function Hu(s,e,a){let n=a.properties,l=n.length,c=s.index.getSearchablePropertiesWithTypes(s.data.index);for(let ae=0;ae<l;ae++){let ne=n[ae];if(typeof c[ne]>"u")throw $r("UNKNOWN_GROUP_BY_PROPERTY",ne);if(!GE.includes(c[ne]))throw $r("INVALID_GROUP_BY_PROPERTY",ne,GE.join(", "),c[ne])}let h=e.map(([ae])=>Zc(s.internalDocumentIDStore,ae)),p=s.documentsStore.getMultiple(s.data.docs,h),m=p.length,f=a.maxResult||Number.MAX_SAFE_INTEGER,g=[],_={};for(let ae=0;ae<l;ae++){let ne=n[ae],Ee={property:ne,perValue:{}},Pe=new Set;for(let me=0;me<m;me++){let ie=p[me],q=Ou(ie,ne);if(typeof q>"u")continue;let te=typeof q!="boolean"?q:""+q,$e=Ee.perValue[te]??{indexes:[],count:0};$e.count>=f||($e.indexes.push(me),$e.count++,Ee.perValue[te]=$e,Pe.add(q))}g.push(Array.from(Pe)),_[ne]=Ee}let w=mm(g),D=w.length,B=[];for(let ae=0;ae<D;ae++){let ne=w[ae],Ee=ne.length,Pe={values:[],indexes:[]},me=[];for(let ie=0;ie<Ee;ie++){let q=ne[ie],te=n[ie];me.push(_[te].perValue[typeof q!="boolean"?q:""+q].indexes),Pe.values.push(q)}Pe.indexes=PE(me).sort((ie,q)=>ie-q),Pe.indexes.length!==0&&B.push(Pe)}let G=B.length,ee=Array.from({length:G});for(let ae=0;ae<G;ae++){let ne=B[ae],Ee=a.reduce||iS,Pe=ne.indexes.map(te=>({id:h[te],score:e[te][1],document:p[te]})),me=Ee.reducer.bind(null,ne.values),ie=Ee.getInitialValue(ne.indexes.length),q=Pe.reduce(me,ie);ee[ae]={values:ne.values,result:q}}return ee}o(Hu,"getGroups");function mm(s,e=0){if(e+1===s.length)return s[e].map(c=>[c]);let a=s[e],n=mm(s,e+1),l=[];for(let c of a)for(let h of n){let p=[c];RE(p,h),l.push(p)}return l}o(mm,"calculateCombination");function fm(s,e,a){let{term:n,properties:l}=e,c=s.data.index,h=s.caches.propertiesToSearch;if(!h){let _=s.index.getSearchablePropertiesWithTypes(c);h=s.index.getSearchableProperties(c),h=h.filter(w=>_[w].startsWith("string")),s.caches.propertiesToSearch=h}if(l&&l!=="*"){for(let _ of l)if(!h.includes(_))throw $r("UNKNOWN_INDEX",_,h.join(", "));h=h.filter(_=>l.includes(_))}let p=Object.keys(e.where??{}).length>0,m;p&&(m=s.index.searchByWhereClause(c,s.tokenizer,e.where,a));let f,g=e.threshold!==void 0&&e.threshold!==null?e.threshold:1;if(n||l){let _=HE(s);f=s.index.search(c,n||"",s.tokenizer,a,h,e.exact||!1,e.tolerance||0,e.boost||{},VE(e.relevance),_,m,g)}else f=(m?Array.from(m):Object.keys(s.documentsStore.getAll(s.data.docs))).map(_=>[+_,0]);return f}o(fm,"innerFullTextSearch");function jE(s,e,a){let n=tn();function l(){let h=Object.keys(s.data.index.vectorIndexes),p=e.facets&&Object.keys(e.facets).length>0,{limit:m=10,offset:f=0,distinctOn:g,includeVectors:_=!1}=e,w=e.preflight===!0,D=fm(s,e,a);if(e.sortBy)if(typeof e.sortBy=="function"){let ee=D.map(([ne])=>ne),ae=s.documentsStore.getMultiple(s.data.docs,ee).map((ne,Ee)=>[D[Ee][0],D[Ee][1],ne]);ae.sort(e.sortBy),D=ae.map(([ne,Ee])=>[ne,Ee])}else D=s.sorter.sortBy(s.data.sorting,D,e.sortBy).map(([ee,ae])=>[um(s.internalDocumentIDStore,ee),ae]);else D=D.sort(cm);let B;w||(B=g?JE(s,D,f,m,g):ym(s,D,f,m));let G={elapsed:{formatted:"",raw:0},hits:[],count:D.length};if(typeof B<"u"&&(G.hits=B.filter(Boolean),_||hm(G,h)),p){let ee=$u(s,D,e.facets);G.facets=ee}return e.groupBy&&(G.groups=Hu(s,D,e.groupBy)),G.elapsed=s.formatElapsedTime(tn()-n),G}o(l,"performSearchLogic");async function c(){s.beforeSearch&&await Pu(s.beforeSearch,s,e,a);let h=l();return s.afterSearch&&await Du(s.afterSearch,s,e,a,h),h}return o(c,"executeSearchAsync"),s.beforeSearch?.length||s.afterSearch?.length?c():l()}o(jE,"fullTextSearch");let gm={k:1.2,b:.75,d:.5};function VE(s){let e=s??{};return e.k=e.k??gm.k,e.b=e.b??gm.b,e.d=e.d??gm.d,e}o(VE,"applyDefault");function Em(s,e,a){let n=e.vector;if(n&&(!("value"in n)||!("property"in n)))throw $r("INVALID_VECTOR_INPUT",Object.keys(n).join(", "));let l=s.data.index.vectorIndexes[n.property],c=l.node.size;if(n?.value.length!==c)throw n?.property===void 0||n?.value.length===void 0?$r("INVALID_INPUT_VECTOR","undefined",c,"undefined"):$r("INVALID_INPUT_VECTOR",n.property,c,n.value.length);let h=s.data.index,p;return Object.keys(e.where??{}).length>0&&(p=s.index.searchByWhereClause(h,s.tokenizer,e.where,a)),l.node.find(n.value,e.similarity??sS,p)}o(Em,"innerVectorSearch");function ZE(s,e,a="english"){let n=tn();function l(){let h=Em(s,e,a).sort(cm),p=[];e.facets&&Object.keys(e.facets).length>0&&(p=$u(s,h,e.facets));let m=e.vector.property,f=e.includeVectors??!1,g=e.limit??10,_=e.offset??0,w=Array.from({length:g});for(let G=0;G<g;G++){let ee=h[G+_];if(!ee)break;let ae=s.data.docs.docs[ee[0]];if(ae){f||(ae[m]=null);let ne={id:Zc(s.internalDocumentIDStore,ee[0]),score:ee[1],document:ae};w[G]=ne}}let D=[];e.groupBy&&(D=Hu(s,h,e.groupBy));let B=tn()-n;return{count:h.length,hits:w.filter(Boolean),elapsed:{raw:Number(B),formatted:lm(B)},...p?{facets:p}:{},...D?{groups:D}:{}}}o(l,"performSearchLogic");async function c(){s.beforeSearch&&await Pu(s.beforeSearch,s,e,a);let h=l();return s.afterSearch&&await Du(s.afterSearch,s,e,a,h),h}return o(c,"executeSearchAsync"),s.beforeSearch?.length||s.afterSearch?.length?c():l()}o(ZE,"searchVector");function WE(s,e,a){let n=qE(fm(s,e,a)),l=Em(s,e,a),c=e.hybridWeights;return QE(n,l,e.term??"",c)}o(WE,"innerHybridSearch");function YE(s,e,a){let n=tn();function l(){let h=WE(s,e,a),p;e.facets&&Object.keys(e.facets).length>0&&(p=$u(s,h,e.facets));let m;e.groupBy&&(m=Hu(s,h,e.groupBy));let f=e.offset??0,g=e.limit??10,_=ym(s,h,f,g).filter(Boolean),w=tn(),D={count:h.length,elapsed:{raw:Number(w-n),formatted:lm(w-n)},hits:_,...p?{facets:p}:{},...m?{groups:m}:{}};if(!(e.includeVectors??!1)){let B=Object.keys(s.data.index.vectorIndexes);hm(D,B)}return D}o(l,"performSearchLogic");async function c(){s.beforeSearch&&await Pu(s.beforeSearch,s,e,a);let h=l();return s.afterSearch&&await Du(s.afterSearch,s,e,a,h),h}return o(c,"executeSearchAsync"),s.beforeSearch?.length||s.afterSearch?.length?c():l()}o(YE,"hybridSearch");function Bu(s){return s[1]}o(Bu,"extractScore");function qE(s){let e=Math.max.apply(Math,s.map(Bu));return s.map(([a,n])=>[a,n/e])}o(qE,"minMaxScoreNormalization");function Tm(s,e){return s/e}o(Tm,"normalizeScore");function KE(s,e){return(a,n)=>a*s+n*e}o(KE,"hybridScoreBuilder");function QE(s,e,a,n){let l=Math.max.apply(Math,s.map(Bu)),c=Math.max.apply(Math,e.map(Bu)),h=n&&n.text&&n.vector,{text:p,vector:m}=h?n:XE(),f=new Map,g=s.length,_=KE(p,m);for(let D=0;D<g;D++){let[B,G]=s[D],ee=Tm(G,l),ae=_(ee,0);f.set(B,ae)}let w=e.length;for(let D=0;D<w;D++){let[B,G]=e[D],ee=Tm(G,c),ae=f.get(B)??0;f.set(B,ae+_(0,ee))}return[...f].sort((D,B)=>B[1]-D[1])}o(QE,"mergeAndRankResults");function XE(s){return{text:.5,vector:.5}}o(XE,"getQueryWeights");function bm(s,e,a){let n=e.mode??BE;if(n===BE)return jE(s,e,a);if(n===nS)return ZE(s,e);if(n===aS)return YE(s,e);throw $r("INVALID_SEARCH_MODE",n)}o(bm,"search");function JE(s,e,a,n,l){let c=s.data.docs,h=new Map,p=[],m=new Set,f=e.length,g=0;for(let _=0;_<f;_++){let w=e[_];if(typeof w>"u")continue;let[D,B]=w;if(m.has(D))continue;let G=s.documentsStore.get(c,D),ee=Ou(G,l);if(!(typeof ee>"u"||h.has(ee))&&(h.set(ee,!0),g++,!(g<=a)&&(p.push({id:Zc(s.internalDocumentIDStore,D),score:B,document:G}),m.add(D),g>=a+n)))break}return p}o(JE,"fetchDocumentsWithDistinct");function ym(s,e,a,n){let l=s.data.docs,c=Array.from({length:n}),h=new Set;for(let p=a;p<n+a;p++){let m=e[p];if(typeof m>"u")break;let[f,g]=m;if(!h.has(f)){let _=s.documentsStore.get(l,f);c[p]={id:Zc(s.internalDocumentIDStore,f),score:g,document:_},h.add(f)}}return c}o(ym,"fetchDocuments");let oS="orama-secure-proxy",lS=(fo=class{db;proxy=null;config;abortController=null;lastInteractionParams=null;chatModel=null;conversationID;messages=[];events;initPromise;state=[];constructor(e,a){this.db=e,this.config=a,this.init(),this.messages=a.initialMessages||[],this.events=a.events||{},this.conversationID=a.conversationID||this.generateRandomID()}async ask(e){await this.initPromise;let a="";for await(let n of await this.askStream(e))a+=n;return a}async askStream(e){return await this.initPromise,this.fetchAnswer(e)}abortAnswer(){this.abortController?.abort(),this.state[this.state.length-1].aborted=!0,this.triggerStateChange()}getMessages(){return this.messages}clearSession(){this.messages=[],this.state=[]}regenerateLast({stream:e=!0}){if(this.state.length===0||this.messages.length===0)throw new Error("No messages to regenerate");if(this.messages.at(-1)?.role!=="assistant")throw $r("ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT");return this.messages.pop(),this.state.pop(),e?this.askStream(this.lastInteractionParams):this.ask(this.lastInteractionParams)}async*fetchAnswer(e){if(!this.chatModel)throw $r("PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL");this.abortController=new AbortController,this.lastInteractionParams=e;let a=this.generateRandomID();this.messages.push({role:"user",content:e.term??""}),this.state.push({interactionId:a,aborted:!1,loading:!0,query:e.term??"",response:"",sources:null,translatedQuery:null,error:!1,errorMessage:null});let n=this.state.length-1;this.addEmptyAssistantMessage(),this.triggerStateChange();try{let l=await bm(this.db,e);this.state[n].sources=l,this.triggerStateChange();for await(let c of this.proxy.chatStream({model:this.chatModel,messages:this.messages}))yield c,this.state[n].response+=c,this.messages.findLast(h=>h.role==="assistant").content+=c,this.triggerStateChange()}catch(l){l.name==="AbortError"?this.state[n].aborted=!0:(this.state[n].error=!0,this.state[n].errorMessage=l.toString()),this.triggerStateChange()}return this.state[n].loading=!1,this.triggerStateChange(),this.state[n].response}generateRandomID(e=24){return Array.from({length:e},()=>Math.floor(Math.random()*36).toString(36)).join("")}triggerStateChange(){this.events.onStateChange&&this.events.onStateChange(this.state)}async init(){let e=this;async function a(){return await e.db.plugins.find(c=>c.name===oS)}o(a,"getPlugin");let n=await a();if(!n)throw $r("PLUGIN_SECURE_PROXY_NOT_FOUND");let l=n.extra;if(this.proxy=l.proxy,this.config.systemPrompt&&this.messages.push({role:"system",content:this.config.systemPrompt}),l?.pluginParams?.chat?.model)this.chatModel=l.pluginParams.chat.model;else throw $r("PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL")}addEmptyAssistantMessage(){this.messages.push({role:"assistant",content:""})}},o(fo,"AnswerSession$1"),fo),cS=(go=class extends TransformStream{constructor(){let e=new TextDecoder("utf-8",{ignoreBOM:!1}),a,n;super({start(){a="",n={data:""}},transform(l,c){let h=e.decode(l);a+=h;let p;for(;(p=/\r\n|\n|\r/.exec(a))!==null;){let m=a.substring(0,p.index);if(a=a.substring(p.index+p[0].length),m.length===0)c.enqueue(n),n={data:""};else if(!m.startsWith(":")){let f=/:/.exec(m);if(!f){n[m]="";continue}let g=m.substring(0,f.index),_=m.substring(f.index+1);n[g]=_?.replace(/^\u0020/,"")}}}})}},o(go,"EventsStreamTransformer"),go);function _m(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),a.push.apply(a,n)}return a}o(_m,"ownKeys");function Am(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?_m(Object(a),!0).forEach(function(n){eT(s,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):_m(Object(a)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(a,n))})}return s}o(Am,"_objectSpread");function eT(s,e,a){return e=tT(e),e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}o(eT,"_defineProperty");function tT(s){var e=rT(s,"string");return typeof e=="symbol"?e:String(e)}o(tT,"_toPropertyKey");function rT(s,e){if(typeof s!="object"||s===null)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var n=a.call(s,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}o(rT,"_toPrimitive");let sT=vm({});function vm(s){return e.withOptions=a=>vm(Am(Am({},s),a)),e;function e(a,...n){let l=typeof a=="string"?[a]:a.raw,{escapeSpecialCharacters:c=Array.isArray(a)}=s,h="";for(let f=0;f<l.length;f++){let g=l[f];c&&(g=g.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),h+=g,f<n.length&&(h+=n[f])}let p=h.split(`
`),m=null;for(let f of p){let g=f.match(/^(\s+)\S+/);if(g){let _=g[1].length;m?m=Math.min(m,_):m=_}}if(m!==null){let f=m;h=p.map(g=>g[0]===" "||g[0]==="	"?g.slice(f):g).join(`
`)}return h=h.trim(),c&&(h=h.replace(/\\n/g,`
`)),h}}o(vm,"createDedent");let aT=(Eo=class{constructor(e){Object.defineProperty(this,"baseURL",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"masterAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writeAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"readAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.baseURL=e.baseURL,this.masterAPIKey=e.masterAPIKey,this.writeAPIKey=e.writeAPIKey,this.readAPIKey=e.readAPIKey}async request(e){let a=new yt(e.url,this.baseURL),n=new rt;n.append("Content-Type","application/json");let l={method:e.method,headers:n};e.body&&e.method!=="GET"&&(l.body=JSON.stringify(e.body)),e.body&&e.method==="GET"&&(a.search=new URLSearchParams(e.body).toString());let c=this.getAPIKey(e.securityLevel);switch(!0){case(e.method!=="GET"&&e.securityLevel!=="read-query"):n.append("Authorization",`Bearer ${c}`);break;case(e.method==="GET"&&e.securityLevel==="master"):n.append("Authorization",`Bearer ${c}`);break;case(e.method==="GET"||e.securityLevel==="read-query"):a.searchParams.append("api-key",c);break}let h=await mt(a.toString(),l);if(!h.ok)throw new Error(sT(`
                Request to "${e.url}" failed with status ${h.status}:
                ${await h.text()}
            `));return h.json()}async requestStream(e){let a=new yt(e.url,this.baseURL),n=new rt;n.append("Content-Type","application/json");let l=this.getAPIKey(e.securityLevel);a.searchParams.append("api-key",l);let c=await mt(a.toString(),{body:JSON.stringify(e.body),headers:n,method:e.method});if(!c.ok)throw new Error(sT(`
                Request to "${e.url}" failed with status ${c.status}:
                ${await c.text()}
            `));if(c.body===null)throw new Error(`Response body is null for "${e.url}"`);return c.body?.pipeThrough(new cS)}getAPIKey(e){switch(e){case"master":if(!this.masterAPIKey)throw new Error("Master API key is required for this operation");return this.masterAPIKey;case"write":if(!this.writeAPIKey)throw new Error("Write API key is required for this operation");return this.writeAPIKey;case"read":case"read-query":if(!this.readAPIKey)throw new Error("Read API key is required for this operation");return this.readAPIKey}}},o(Eo,"OramaInterface"),Eo);function $s(s,e=!0){try{return JSON.parse(s)}catch(a){return e||je.warn("Recovered from failed JSON parsing with error:",a),s}}o($s,"safeJSONParse");let nT=iT(y,{});function iT(s,e){return new Proxy(s,{get(a,n,l){return n in e?e[n]:s[n]},set(a,n,l){return n in e&&delete e[n],s[n]=l,!0},deleteProperty(a,n){let l=!1;return n in e&&(delete e[n],l=!0),n in s&&(delete s[n],l=!0),l},ownKeys(a){let n=Reflect.ownKeys(s),l=Reflect.ownKeys(e),c=new Set(l);return[...n.filter(h=>!c.has(h)),...l]},defineProperty(a,n,l){return n in e&&delete e[n],Reflect.defineProperty(s,n,l),!0},getOwnPropertyDescriptor(a,n){return n in e?Reflect.getOwnPropertyDescriptor(e,n):Reflect.getOwnPropertyDescriptor(s,n)},has(a,n){return n in e||n in s}})}o(iT,"createMergeProxy");function oT(s){if(s<1e3)return`${s}ms`;{let e=s/1e3;return Number.isInteger(e)?`${e}s`:`${e.toFixed(1)}s`}}o(oT,"formatDuration");let hS=typeof K<"u";function lT(){return typeof nT<"u"||typeof Nt<"u"?!1:!!(typeof process<"u"&&process.versions?.node||typeof Deno<"u"&&typeof Deno.version<"u"||typeof Bun<"u"&&typeof Bun.version<"u"||typeof nT<"u"&&typeof y.Response=="function"&&typeof y.fetch=="function"&&typeof y.navigator>"u"||typeof process<"u"&&Q8.AWS_LAMBDA_FUNCTION_NAME)}o(lT,"isServerRuntime");var gt;(function(s){s.assertEqual=l=>l;function e(l){}o(e,"assertIs"),s.assertIs=e;function a(l){throw new Error}o(a,"assertNever"),s.assertNever=a,s.arrayToEnum=l=>{let c={};for(let h of l)c[h]=h;return c},s.getValidEnumValues=l=>{let c=s.objectKeys(l).filter(p=>typeof l[l[p]]!="number"),h={};for(let p of c)h[p]=l[p];return s.objectValues(h)},s.objectValues=l=>s.objectKeys(l).map(function(c){return l[c]}),s.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{let c=[];for(let h in l)Object.prototype.hasOwnProperty.call(l,h)&&c.push(h);return c},s.find=(l,c)=>{for(let h of l)if(c(h))return h},s.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function n(l,c=" | "){return l.map(h=>typeof h=="string"?`'${h}'`:h).join(c)}o(n,"joinValues"),s.joinValues=n,s.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(gt||(gt={}));var cT;(function(s){s.mergeShapes=(e,a)=>({...e,...a})})(cT||(cT={}));let we=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_a=o(s=>{switch(typeof s){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(s)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(s)?we.array:s===null?we.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?we.promise:typeof Map<"u"&&s instanceof Map?we.map:typeof Set<"u"&&s instanceof Set?we.set:typeof Date<"u"&&s instanceof Date?we.date:we.object;default:return we.unknown}},"getParsedType"),ce=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rn=(dn=class extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){let a=e||function(c){return c.message},n={_errors:[]},l=o(c=>{for(let h of c.issues)if(h.code==="invalid_union")h.unionErrors.map(l);else if(h.code==="invalid_return_type")l(h.returnTypeError);else if(h.code==="invalid_arguments")l(h.argumentsError);else if(h.path.length===0)n._errors.push(a(h));else{let p=n,m=0;for(;m<h.path.length;){let f=h.path[m];m===h.path.length-1?(p[f]=p[f]||{_errors:[]},p[f]._errors.push(a(h))):p[f]=p[f]||{_errors:[]},p=p[f],m++}}},"processError");return l(this),n}static assert(e){if(!(e instanceof dn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){let a={},n=[];for(let l of this.issues)l.path.length>0?(a[l.path[0]]=a[l.path[0]]||[],a[l.path[0]].push(e(l))):n.push(e(l));return{formErrors:n,fieldErrors:a}}get formErrors(){return this.flatten()}},o(dn,"ZodError"),dn);rn.create=s=>new rn(s);let Sm=o((s,e)=>{let a;switch(s.code){case ce.invalid_type:s.received===we.undefined?a="Required":a=`Expected ${s.expected}, received ${s.received}`;break;case ce.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(s.expected,gt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:a=`Unrecognized key(s) in object: ${gt.joinValues(s.keys,", ")}`;break;case ce.invalid_union:a="Invalid input";break;case ce.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${gt.joinValues(s.options)}`;break;case ce.invalid_enum_value:a=`Invalid enum value. Expected ${gt.joinValues(s.options)}, received '${s.received}'`;break;case ce.invalid_arguments:a="Invalid function arguments";break;case ce.invalid_return_type:a="Invalid function return type";break;case ce.invalid_date:a="Invalid date";break;case ce.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(a=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?a=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?a=`Invalid input: must end with "${s.validation.endsWith}"`:gt.assertNever(s.validation):s.validation!=="regex"?a=`Invalid ${s.validation}`:a="Invalid";break;case ce.too_small:s.type==="array"?a=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?a=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?a=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?a=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:a="Invalid input";break;case ce.too_big:s.type==="array"?a=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?a=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?a=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?a=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?a=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:a="Invalid input";break;case ce.custom:a="Invalid input";break;case ce.invalid_intersection_types:a="Intersection results could not be merged";break;case ce.not_multiple_of:a=`Number must be a multiple of ${s.multipleOf}`;break;case ce.not_finite:a="Number must be finite";break;default:a=e.defaultError,gt.assertNever(s)}return{message:a}},"errorMap"),uS=Sm;function hT(){return uS}o(hT,"getErrorMap");let dS=o(s=>{let{data:e,path:a,errorMaps:n,issueData:l}=s,c=[...a,...l.path||[]],h={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let p="",m=n.filter(f=>!!f).slice().reverse();for(let f of m)p=f(h,{data:e,defaultError:p}).message;return{...l,path:c,message:p}},"makeIssue");function ve(s,e){let a=hT(),n=dS({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,a,a===Sm?void 0:Sm].filter(l=>!!l)});s.common.issues.push(n)}o(ve,"addIssueToContext");let ss=(pn=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){let n=[];for(let l of a){if(l.status==="aborted")return Xe;l.status==="dirty"&&e.dirty(),n.push(l.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,a){let n=[];for(let l of a){let c=await l.key,h=await l.value;n.push({key:c,value:h})}return pn.mergeObjectSync(e,n)}static mergeObjectSync(e,a){let n={};for(let l of a){let{key:c,value:h}=l;if(c.status==="aborted"||h.status==="aborted")return Xe;c.status==="dirty"&&e.dirty(),h.status==="dirty"&&e.dirty(),c.value!=="__proto__"&&(typeof h.value<"u"||l.alwaysSet)&&(n[c.value]=h.value)}return{status:e.value,value:n}}},o(pn,"ParseStatus"),pn),Xe=Object.freeze({status:"aborted"}),Cm=o(s=>({status:"dirty",value:s}),"DIRTY"),jr=o(s=>({status:"valid",value:s}),"OK"),uT=o(s=>s.status==="aborted","isAborted"),dT=o(s=>s.status==="dirty","isDirty"),ao=o(s=>s.status==="valid","isValid"),Uu=o(s=>typeof Promise<"u"&&s instanceof Promise,"isAsync");function Wc(s,e,a,n){if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?n:a==="a"?n.call(s):n?n.value:e.get(s)}o(Wc,"__classPrivateFieldGet");function km(s,e,a,n,l){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!l:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?l.call(s,a):l?l.value=a:e.set(s,a),a}o(km,"__classPrivateFieldSet"),typeof SuppressedError=="function"&&SuppressedError;var Re;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e?.message})(Re||(Re={}));var Yc,qc;let Aa=(To=class{constructor(e,a,n,l){this._cachedPath=[],this.parent=e,this.data=a,this._path=n,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},o(To,"ParseInputLazyPath"),To),pT=o((s,e)=>{if(ao(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let a=new rn(s.common.issues);return this._error=a,this._error}}},"handleResult");function st(s){if(!s)return{};let{errorMap:e,invalid_type_error:a,required_error:n,description:l}=s;if(e&&(a||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:o((c,h)=>{var p,m;let{message:f}=s;return c.code==="invalid_enum_value"?{message:f??h.defaultError}:typeof h.data>"u"?{message:(p=f??n)!==null&&p!==void 0?p:h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:(m=f??a)!==null&&m!==void 0?m:h.defaultError}},"customMap"),description:l}}o(st,"processCreateParams");let ut=(bo=class{get description(){return this._def.description}_getType(e){return _a(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:_a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ss,ctx:{common:e.parent.common,data:e.data,parsedType:_a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let a=this._parse(e);if(Uu(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){let a=this._parse(e);return Promise.resolve(a)}parse(e,a){let n=this.safeParse(e,a);if(n.success)return n.data;throw n.error}safeParse(e,a){var n;let l={common:{issues:[],async:(n=a?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:a?.errorMap},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_a(e)},c=this._parseSync({data:e,path:l.path,parent:l});return pT(l,c)}"~validate"(e){var a,n;let l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_a(e)};if(!this["~standard"].async)try{let c=this._parseSync({data:e,path:[],parent:l});return ao(c)?{value:c.value}:{issues:l.common.issues}}catch(c){!((n=(a=c?.message)===null||a===void 0?void 0:a.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(c=>ao(c)?{value:c.value}:{issues:l.common.issues})}async parseAsync(e,a){let n=await this.safeParseAsync(e,a);if(n.success)return n.data;throw n.error}async safeParseAsync(e,a){let n={common:{issues:[],contextualErrorMap:a?.errorMap,async:!0},path:a?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_a(e)},l=this._parse({data:e,path:n.path,parent:n}),c=await(Uu(l)?l:Promise.resolve(l));return pT(n,c)}refine(e,a){let n=o(l=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(l):a,"getIssueProperties");return this._refinement((l,c)=>{let h=e(l),p=o(()=>c.addIssue({code:ce.custom,...n(l)}),"setError");return typeof Promise<"u"&&h instanceof Promise?h.then(m=>m?!0:(p(),!1)):h?!0:(p(),!1)})}refinement(e,a){return this._refinement((n,l)=>e(n)?!0:(l.addIssue(typeof a=="function"?a(n,l):a),!1))}_refinement(e){return new no({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o(a=>this["~validate"](a),"validate")}}optional(){return Sa.create(this,this._def)}nullable(){return Qc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Kc.create(this)}promise(){return Rm.create(this,this._def)}or(e){return Nm.create([this,e],this._def)}and(e){return Lm.create(this,e,this._def)}transform(e){return new no({...st(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let a=typeof e=="function"?e:()=>e;return new Om({...st(this._def),innerType:this,defaultValue:a,typeName:ue.ZodDefault})}brand(){return new NS({typeName:ue.ZodBranded,type:this,...st(this._def)})}catch(e){let a=typeof e=="function"?e:()=>e;return new Mm({...st(this._def),innerType:this,catchValue:a,typeName:ue.ZodCatch})}describe(e){let a=this.constructor;return new a({...this._def,description:e})}pipe(e){return LS.create(this,e)}readonly(){return Dm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},o(bo,"ZodType"),bo),pS=/^c[^\s-]{8,}$/i,mS=/^[0-9a-z]+$/,fS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ES=/^[a-z0-9_-]{21}$/i,TS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_S="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",wm,AS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",IS=new RegExp(`^${mT}$`);function Im(s){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`),e}o(Im,"timeRegexSource");function fT(s){return new RegExp(`^${Im(s)}$`)}o(fT,"timeRegex");function gT(s){let e=`${mT}T${Im(s)}`,a=[];return a.push(s.local?"Z?":"Z"),s.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}o(gT,"datetimeRegex");function ET(s,e){return!!((e==="v4"||!e)&&AS.test(s)||(e==="v6"||!e)&&SS.test(s))}o(ET,"isValidIP");function TT(s,e){if(!TS.test(s))return!1;try{let[a]=s.split("."),n=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),l=JSON.parse(atob(n));return!(typeof l!="object"||l===null||!l.typ||!l.alg||e&&l.alg!==e)}catch{return!1}}o(TT,"isValidJWT");function bT(s,e){return!!((e==="v4"||!e)&&vS.test(s)||(e==="v6"||!e)&&CS.test(s))}o(bT,"isValidCidr");let yT=(ms=class extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==we.string){let l=this._getOrReturnCtx(e);return ve(l,{code:ce.invalid_type,expected:we.string,received:l.parsedType}),Xe}let a=new ss,n;for(let l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),a.dirty());else if(l.kind==="max")e.data.length>l.value&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),a.dirty());else if(l.kind==="length"){let c=e.data.length>l.value,h=e.data.length<l.value;(c||h)&&(n=this._getOrReturnCtx(e,n),c?ve(n,{code:ce.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):h&&ve(n,{code:ce.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),a.dirty())}else if(l.kind==="email")yS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"email",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="emoji")wm||(wm=new RegExp(_S,"u")),wm.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"emoji",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="uuid")gS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"uuid",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="nanoid")ES.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"nanoid",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="cuid")pS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"cuid",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="cuid2")mS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"cuid2",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="ulid")fS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"ulid",code:ce.invalid_string,message:l.message}),a.dirty());else if(l.kind==="url")try{new yt(e.data)}catch{n=this._getOrReturnCtx(e,n),ve(n,{validation:"url",code:ce.invalid_string,message:l.message}),a.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"regex",code:ce.invalid_string,message:l.message}),a.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),a.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.invalid_string,validation:{startsWith:l.value},message:l.message}),a.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.invalid_string,validation:{endsWith:l.value},message:l.message}),a.dirty()):l.kind==="datetime"?gT(l).test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.invalid_string,validation:"datetime",message:l.message}),a.dirty()):l.kind==="date"?IS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.invalid_string,validation:"date",message:l.message}),a.dirty()):l.kind==="time"?fT(l).test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.invalid_string,validation:"time",message:l.message}),a.dirty()):l.kind==="duration"?bS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"duration",code:ce.invalid_string,message:l.message}),a.dirty()):l.kind==="ip"?ET(e.data,l.version)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"ip",code:ce.invalid_string,message:l.message}),a.dirty()):l.kind==="jwt"?TT(e.data,l.alg)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"jwt",code:ce.invalid_string,message:l.message}),a.dirty()):l.kind==="cidr"?bT(e.data,l.version)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"cidr",code:ce.invalid_string,message:l.message}),a.dirty()):l.kind==="base64"?kS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"base64",code:ce.invalid_string,message:l.message}),a.dirty()):l.kind==="base64url"?wS.test(e.data)||(n=this._getOrReturnCtx(e,n),ve(n,{validation:"base64url",code:ce.invalid_string,message:l.message}),a.dirty()):gt.assertNever(l);return{status:a.value,value:e.data}}_regex(e,a,n){return this.refinement(l=>e.test(l),{validation:a,code:ce.invalid_string,...Re.errToObj(n)})}_addCheck(e){return new ms({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){var a,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(a=e?.offset)!==null&&a!==void 0?a:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Re.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Re.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a?.position,...Re.errToObj(a?.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...Re.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...Re.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...Re.errToObj(a)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(let a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}},o(ms,"ZodString"),ms);yT.create=s=>{var e;return new yT({checks:[],typeName:ue.ZodString,coerce:(e=s?.coerce)!==null&&e!==void 0?e:!1,...st(s)})};function _T(s,e){let a=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,l=a>n?a:n,c=parseInt(s.toFixed(l).replace(".","")),h=parseInt(e.toFixed(l).replace(".",""));return c%h/Math.pow(10,l)}o(_T,"floatSafeRemainder");let AT=(La=class extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==we.number){let l=this._getOrReturnCtx(e);return ve(l,{code:ce.invalid_type,expected:we.number,received:l.parsedType}),Xe}let a,n=new ss;for(let l of this._def.checks)l.kind==="int"?gt.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.invalid_type,expected:"integer",received:"float",message:l.message}),n.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),n.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),n.dirty()):l.kind==="multipleOf"?_T(e.data,l.value)!==0&&(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.not_multiple_of,multipleOf:l.value,message:l.message}),n.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.not_finite,message:l.message}),n.dirty()):gt.assertNever(l);return{status:n.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,Re.toString(a))}gt(e,a){return this.setLimit("min",e,!1,Re.toString(a))}lte(e,a){return this.setLimit("max",e,!0,Re.toString(a))}lt(e,a){return this.setLimit("max",e,!1,Re.toString(a))}setLimit(e,a,n,l){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:n,message:Re.toString(l)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(let a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(let a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gt.isInteger(e.value))}get isFinite(){let e=null,a=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(a===null||n.value>a)&&(a=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(a)&&Number.isFinite(e)}},o(La,"ZodNumber"),La);AT.create=s=>new AT({checks:[],typeName:ue.ZodNumber,coerce:s?.coerce||!1,...st(s)});let vT=(xa=class extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==we.bigint)return this._getInvalidInput(e);let a,n=new ss;for(let l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),n.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),n.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),ve(a,{code:ce.not_multiple_of,multipleOf:l.value,message:l.message}),n.dirty()):gt.assertNever(l);return{status:n.value,value:e.data}}_getInvalidInput(e){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.bigint,received:a.parsedType}),Xe}gte(e,a){return this.setLimit("min",e,!0,Re.toString(a))}gt(e,a){return this.setLimit("min",e,!1,Re.toString(a))}lte(e,a){return this.setLimit("max",e,!0,Re.toString(a))}lt(e,a){return this.setLimit("max",e,!1,Re.toString(a))}setLimit(e,a,n,l){return new xa({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:n,message:Re.toString(l)}]})}_addCheck(e){return new xa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(a)})}get minValue(){let e=null;for(let a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(let a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}},o(xa,"ZodBigInt"),xa);vT.create=s=>{var e;return new vT({checks:[],typeName:ue.ZodBigInt,coerce:(e=s?.coerce)!==null&&e!==void 0?e:!1,...st(s)})};let ST=(yo=class extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==we.boolean){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.boolean,received:a.parsedType}),Xe}return jr(e.data)}},o(yo,"ZodBoolean"),yo);ST.create=s=>new ST({typeName:ue.ZodBoolean,coerce:s?.coerce||!1,...st(s)});let CT=(mn=class extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==we.date){let l=this._getOrReturnCtx(e);return ve(l,{code:ce.invalid_type,expected:we.date,received:l.parsedType}),Xe}if(isNaN(e.data.getTime())){let l=this._getOrReturnCtx(e);return ve(l,{code:ce.invalid_date}),Xe}let a=new ss,n;for(let l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),a.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(n=this._getOrReturnCtx(e,n),ve(n,{code:ce.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),a.dirty()):gt.assertNever(l);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mn({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(a)})}get minDate(){let e=null;for(let a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}},o(mn,"ZodDate"),mn);CT.create=s=>new CT({checks:[],coerce:s?.coerce||!1,typeName:ue.ZodDate,...st(s)});let kT=(_o=class extends ut{_parse(e){if(this._getType(e)!==we.symbol){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.symbol,received:a.parsedType}),Xe}return jr(e.data)}},o(_o,"ZodSymbol"),_o);kT.create=s=>new kT({typeName:ue.ZodSymbol,...st(s)});let wT=(Ao=class extends ut{_parse(e){if(this._getType(e)!==we.undefined){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.undefined,received:a.parsedType}),Xe}return jr(e.data)}},o(Ao,"ZodUndefined"),Ao);wT.create=s=>new wT({typeName:ue.ZodUndefined,...st(s)});let IT=(vo=class extends ut{_parse(e){if(this._getType(e)!==we.null){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.null,received:a.parsedType}),Xe}return jr(e.data)}},o(vo,"ZodNull"),vo);IT.create=s=>new IT({typeName:ue.ZodNull,...st(s)});let NT=(So=class extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return jr(e.data)}},o(So,"ZodAny"),So);NT.create=s=>new NT({typeName:ue.ZodAny,...st(s)});let LT=(Co=class extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jr(e.data)}},o(Co,"ZodUnknown"),Co);LT.create=s=>new LT({typeName:ue.ZodUnknown,...st(s)});let sn=(ko=class extends ut{_parse(e){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.never,received:a.parsedType}),Xe}},o(ko,"ZodNever"),ko);sn.create=s=>new sn({typeName:ue.ZodNever,...st(s)});let xT=(wo=class extends ut{_parse(e){if(this._getType(e)!==we.undefined){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.void,received:a.parsedType}),Xe}return jr(e.data)}},o(wo,"ZodVoid"),wo);xT.create=s=>new xT({typeName:ue.ZodVoid,...st(s)});let Kc=(aa=class extends ut{_parse(e){let{ctx:a,status:n}=this._processInputParams(e),l=this._def;if(a.parsedType!==we.array)return ve(a,{code:ce.invalid_type,expected:we.array,received:a.parsedType}),Xe;if(l.exactLength!==null){let h=a.data.length>l.exactLength.value,p=a.data.length<l.exactLength.value;(h||p)&&(ve(a,{code:h?ce.too_big:ce.too_small,minimum:p?l.exactLength.value:void 0,maximum:h?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),n.dirty())}if(l.minLength!==null&&a.data.length<l.minLength.value&&(ve(a,{code:ce.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),n.dirty()),l.maxLength!==null&&a.data.length>l.maxLength.value&&(ve(a,{code:ce.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),n.dirty()),a.common.async)return Promise.all([...a.data].map((h,p)=>l.type._parseAsync(new Aa(a,h,a.path,p)))).then(h=>ss.mergeArray(n,h));let c=[...a.data].map((h,p)=>l.type._parseSync(new Aa(a,h,a.path,p)));return ss.mergeArray(n,c)}get element(){return this._def.type}min(e,a){return new aa({...this._def,minLength:{value:e,message:Re.toString(a)}})}max(e,a){return new aa({...this._def,maxLength:{value:e,message:Re.toString(a)}})}length(e,a){return new aa({...this._def,exactLength:{value:e,message:Re.toString(a)}})}nonempty(e){return this.min(1,e)}},o(aa,"ZodArray"),aa);Kc.create=(s,e)=>new Kc({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...st(e)});function an(s){if(s instanceof va){let e={};for(let a in s.shape){let n=s.shape[a];e[a]=Sa.create(an(n))}return new va({...s._def,shape:o(()=>e,"shape")})}else return s instanceof Kc?new Kc({...s._def,type:an(s.element)}):s instanceof Sa?Sa.create(an(s.unwrap())):s instanceof Qc?Qc.create(an(s.unwrap())):s instanceof zu?zu.create(s.items.map(e=>an(e))):s}o(an,"deepPartialify");let va=(Tr=class extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),a=gt.objectKeys(e);return this._cached={shape:e,keys:a}}_parse(e){if(this._getType(e)!==we.object){let m=this._getOrReturnCtx(e);return ve(m,{code:ce.invalid_type,expected:we.object,received:m.parsedType}),Xe}let{status:a,ctx:n}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof sn&&this._def.unknownKeys==="strip"))for(let m in n.data)c.includes(m)||h.push(m);let p=[];for(let m of c){let f=l[m],g=n.data[m];p.push({key:{status:"valid",value:m},value:f._parse(new Aa(n,g,n.path,m)),alwaysSet:m in n.data})}if(this._def.catchall instanceof sn){let m=this._def.unknownKeys;if(m==="passthrough")for(let f of h)p.push({key:{status:"valid",value:f},value:{status:"valid",value:n.data[f]}});else if(m==="strict")h.length>0&&(ve(n,{code:ce.unrecognized_keys,keys:h}),a.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let m=this._def.catchall;for(let f of h){let g=n.data[f];p.push({key:{status:"valid",value:f},value:m._parse(new Aa(n,g,n.path,f)),alwaysSet:f in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let m=[];for(let f of p){let g=await f.key,_=await f.value;m.push({key:g,value:_,alwaysSet:f.alwaysSet})}return m}).then(m=>ss.mergeObjectSync(a,m)):ss.mergeObjectSync(a,p)}get shape(){return this._def.shape()}strict(e){return new Tr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:o((a,n)=>{var l,c,h,p;let m=(h=(c=(l=this._def).errorMap)===null||c===void 0?void 0:c.call(l,a,n).message)!==null&&h!==void 0?h:n.defaultError;return a.code==="unrecognized_keys"?{message:(p=Re.errToObj(e).message)!==null&&p!==void 0?p:m}:{message:m}},"errorMap")}:{}})}strip(){return new Tr({...this._def,unknownKeys:"strip"})}passthrough(){return new Tr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Tr({...this._def,shape:o(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new Tr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:o(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:ue.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new Tr({...this._def,catchall:e})}pick(e){let a={};return gt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(a[n]=this.shape[n])}),new Tr({...this._def,shape:o(()=>a,"shape")})}omit(e){let a={};return gt.objectKeys(this.shape).forEach(n=>{e[n]||(a[n]=this.shape[n])}),new Tr({...this._def,shape:o(()=>a,"shape")})}deepPartial(){return an(this)}partial(e){let a={};return gt.objectKeys(this.shape).forEach(n=>{let l=this.shape[n];e&&!e[n]?a[n]=l:a[n]=l.optional()}),new Tr({...this._def,shape:o(()=>a,"shape")})}required(e){let a={};return gt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])a[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Sa;)l=l._def.innerType;a[n]=l}}),new Tr({...this._def,shape:o(()=>a,"shape")})}keyof(){return xm(gt.objectKeys(this.shape))}},o(Tr,"ZodObject"),Tr);va.create=(s,e)=>new va({shape:o(()=>s,"shape"),unknownKeys:"strip",catchall:sn.create(),typeName:ue.ZodObject,...st(e)}),va.strictCreate=(s,e)=>new va({shape:o(()=>s,"shape"),unknownKeys:"strict",catchall:sn.create(),typeName:ue.ZodObject,...st(e)}),va.lazycreate=(s,e)=>new va({shape:s,unknownKeys:"strip",catchall:sn.create(),typeName:ue.ZodObject,...st(e)});let Nm=(Io=class extends ut{_parse(e){let{ctx:a}=this._processInputParams(e),n=this._def.options;function l(c){for(let p of c)if(p.result.status==="valid")return p.result;for(let p of c)if(p.result.status==="dirty")return a.common.issues.push(...p.ctx.common.issues),p.result;let h=c.map(p=>new rn(p.ctx.common.issues));return ve(a,{code:ce.invalid_union,unionErrors:h}),Xe}if(o(l,"handleResults"),a.common.async)return Promise.all(n.map(async c=>{let h={...a,common:{...a.common,issues:[]},parent:null};return{result:await c._parseAsync({data:a.data,path:a.path,parent:h}),ctx:h}})).then(l);{let c,h=[];for(let m of n){let f={...a,common:{...a.common,issues:[]},parent:null},g=m._parseSync({data:a.data,path:a.path,parent:f});if(g.status==="valid")return g;g.status==="dirty"&&!c&&(c={result:g,ctx:f}),f.common.issues.length&&h.push(f.common.issues)}if(c)return a.common.issues.push(...c.ctx.common.issues),c.result;let p=h.map(m=>new rn(m));return ve(a,{code:ce.invalid_union,unionErrors:p}),Xe}}get options(){return this._def.options}},o(Io,"ZodUnion"),Io);Nm.create=(s,e)=>new Nm({options:s,typeName:ue.ZodUnion,...st(e)});function Fu(s,e){let a=_a(s),n=_a(e);if(s===e)return{valid:!0,data:s};if(a===we.object&&n===we.object){let l=gt.objectKeys(e),c=gt.objectKeys(s).filter(p=>l.indexOf(p)!==-1),h={...s,...e};for(let p of c){let m=Fu(s[p],e[p]);if(!m.valid)return{valid:!1};h[p]=m.data}return{valid:!0,data:h}}else if(a===we.array&&n===we.array){if(s.length!==e.length)return{valid:!1};let l=[];for(let c=0;c<s.length;c++){let h=s[c],p=e[c],m=Fu(h,p);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return a===we.date&&n===we.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}o(Fu,"mergeValues");let Lm=(No=class extends ut{_parse(e){let{status:a,ctx:n}=this._processInputParams(e),l=o((c,h)=>{if(uT(c)||uT(h))return Xe;let p=Fu(c.value,h.value);return p.valid?((dT(c)||dT(h))&&a.dirty(),{status:a.value,value:p.data}):(ve(n,{code:ce.invalid_intersection_types}),Xe)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([c,h])=>l(c,h)):l(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}},o(No,"ZodIntersection"),No);Lm.create=(s,e,a)=>new Lm({left:s,right:e,typeName:ue.ZodIntersection,...st(a)});let zu=(fn=class extends ut{_parse(e){let{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==we.array)return ve(n,{code:ce.invalid_type,expected:we.array,received:n.parsedType}),Xe;if(n.data.length<this._def.items.length)return ve(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&n.data.length>this._def.items.length&&(ve(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());let l=[...n.data].map((c,h)=>{let p=this._def.items[h]||this._def.rest;return p?p._parse(new Aa(n,c,n.path,h)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>ss.mergeArray(a,c)):ss.mergeArray(a,l)}get items(){return this._def.items}rest(e){return new fn({...this._def,rest:e})}},o(fn,"ZodTuple"),fn);zu.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zu({items:s,typeName:ue.ZodTuple,rest:null,...st(e)})};let RT=(Lo=class extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==we.map)return ve(n,{code:ce.invalid_type,expected:we.map,received:n.parsedType}),Xe;let l=this._def.keyType,c=this._def.valueType,h=[...n.data.entries()].map(([p,m],f)=>({key:l._parse(new Aa(n,p,n.path,[f,"key"])),value:c._parse(new Aa(n,m,n.path,[f,"value"]))}));if(n.common.async){let p=new Map;return Promise.resolve().then(async()=>{for(let m of h){let f=await m.key,g=await m.value;if(f.status==="aborted"||g.status==="aborted")return Xe;(f.status==="dirty"||g.status==="dirty")&&a.dirty(),p.set(f.value,g.value)}return{status:a.value,value:p}})}else{let p=new Map;for(let m of h){let f=m.key,g=m.value;if(f.status==="aborted"||g.status==="aborted")return Xe;(f.status==="dirty"||g.status==="dirty")&&a.dirty(),p.set(f.value,g.value)}return{status:a.value,value:p}}}},o(Lo,"ZodMap"),Lo);RT.create=(s,e,a)=>new RT({valueType:e,keyType:s,typeName:ue.ZodMap,...st(a)});let OT=(Ra=class extends ut{_parse(e){let{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==we.set)return ve(n,{code:ce.invalid_type,expected:we.set,received:n.parsedType}),Xe;let l=this._def;l.minSize!==null&&n.data.size<l.minSize.value&&(ve(n,{code:ce.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),a.dirty()),l.maxSize!==null&&n.data.size>l.maxSize.value&&(ve(n,{code:ce.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),a.dirty());let c=this._def.valueType;function h(m){let f=new Set;for(let g of m){if(g.status==="aborted")return Xe;g.status==="dirty"&&a.dirty(),f.add(g.value)}return{status:a.value,value:f}}o(h,"finalizeSet");let p=[...n.data.values()].map((m,f)=>c._parse(new Aa(n,m,n.path,f)));return n.common.async?Promise.all(p).then(m=>h(m)):h(p)}min(e,a){return new Ra({...this._def,minSize:{value:e,message:Re.toString(a)}})}max(e,a){return new Ra({...this._def,maxSize:{value:e,message:Re.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}},o(Ra,"ZodSet"),Ra);OT.create=(s,e)=>new OT({valueType:s,minSize:null,maxSize:null,typeName:ue.ZodSet,...st(e)});let MT=(xo=class extends ut{get schema(){return this._def.getter()}_parse(e){let{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}},o(xo,"ZodLazy"),xo);MT.create=(s,e)=>new MT({getter:s,typeName:ue.ZodLazy,...st(e)});let DT=(Ro=class extends ut{_parse(e){if(e.data!==this._def.value){let a=this._getOrReturnCtx(e);return ve(a,{received:a.data,code:ce.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}},o(Ro,"ZodLiteral"),Ro);DT.create=(s,e)=>new DT({value:s,typeName:ue.ZodLiteral,...st(e)});function xm(s,e){return new PT({values:s,typeName:ue.ZodEnum,...st(e)})}o(xm,"createZodEnum");let PT=(Oa=class extends ut{constructor(){super(...arguments),Yc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let a=this._getOrReturnCtx(e),n=this._def.values;return ve(a,{expected:gt.joinValues(n),received:a.parsedType,code:ce.invalid_type}),Xe}if(Wc(this,Yc,"f")||km(this,Yc,new Set(this._def.values),"f"),!Wc(this,Yc,"f").has(e.data)){let a=this._getOrReturnCtx(e),n=this._def.values;return ve(a,{received:a.data,code:ce.invalid_enum_value,options:n}),Xe}return jr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let a of this._def.values)e[a]=a;return e}get Values(){let e={};for(let a of this._def.values)e[a]=a;return e}get Enum(){let e={};for(let a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return Oa.create(e,{...this._def,...a})}exclude(e,a=this._def){return Oa.create(this.options.filter(n=>!e.includes(n)),{...this._def,...a})}},o(Oa,"ZodEnum"),Oa);Yc=new WeakMap,PT.create=xm;let $T=(Oo=class extends ut{constructor(){super(...arguments),qc.set(this,void 0)}_parse(e){let a=gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==we.string&&n.parsedType!==we.number){let l=gt.objectValues(a);return ve(n,{expected:gt.joinValues(l),received:n.parsedType,code:ce.invalid_type}),Xe}if(Wc(this,qc,"f")||km(this,qc,new Set(gt.getValidEnumValues(this._def.values)),"f"),!Wc(this,qc,"f").has(e.data)){let l=gt.objectValues(a);return ve(n,{received:n.data,code:ce.invalid_enum_value,options:l}),Xe}return jr(e.data)}get enum(){return this._def.values}},o(Oo,"ZodNativeEnum"),Oo);qc=new WeakMap,$T.create=(s,e)=>new $T({values:s,typeName:ue.ZodNativeEnum,...st(e)});let Rm=(Mo=class extends ut{unwrap(){return this._def.type}_parse(e){let{ctx:a}=this._processInputParams(e);if(a.parsedType!==we.promise&&a.common.async===!1)return ve(a,{code:ce.invalid_type,expected:we.promise,received:a.parsedType}),Xe;let n=a.parsedType===we.promise?a.data:Promise.resolve(a.data);return jr(n.then(l=>this._def.type.parseAsync(l,{path:a.path,errorMap:a.common.contextualErrorMap})))}},o(Mo,"ZodPromise"),Mo);Rm.create=(s,e)=>new Rm({type:s,typeName:ue.ZodPromise,...st(e)});let no=(Do=class extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:a,ctx:n}=this._processInputParams(e),l=this._def.effect||null,c={addIssue:o(h=>{ve(n,h),h.fatal?a.abort():a.dirty()},"addIssue"),get path(){return n.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){let h=l.transform(n.data,c);if(n.common.async)return Promise.resolve(h).then(async p=>{if(a.value==="aborted")return Xe;let m=await this._def.schema._parseAsync({data:p,path:n.path,parent:n});return m.status==="aborted"?Xe:m.status==="dirty"||a.value==="dirty"?Cm(m.value):m});{if(a.value==="aborted")return Xe;let p=this._def.schema._parseSync({data:h,path:n.path,parent:n});return p.status==="aborted"?Xe:p.status==="dirty"||a.value==="dirty"?Cm(p.value):p}}if(l.type==="refinement"){let h=o(p=>{let m=l.refinement(p,c);if(n.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p},"executeRefinement");if(n.common.async===!1){let p=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return p.status==="aborted"?Xe:(p.status==="dirty"&&a.dirty(),h(p.value),{status:a.value,value:p.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(p=>p.status==="aborted"?Xe:(p.status==="dirty"&&a.dirty(),h(p.value).then(()=>({status:a.value,value:p.value}))))}if(l.type==="transform")if(n.common.async===!1){let h=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ao(h))return h;let p=l.transform(h.value,c);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:p}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(h=>ao(h)?Promise.resolve(l.transform(h.value,c)).then(p=>({status:a.value,value:p})):h);gt.assertNever(l)}},o(Do,"ZodEffects"),Do);no.create=(s,e,a)=>new no({schema:s,typeName:ue.ZodEffects,effect:e,...st(a)}),no.createWithPreprocess=(s,e,a)=>new no({schema:e,effect:{type:"preprocess",transform:s},typeName:ue.ZodEffects,...st(a)});let Sa=(Po=class extends ut{_parse(e){return this._getType(e)===we.undefined?jr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}},o(Po,"ZodOptional"),Po);Sa.create=(s,e)=>new Sa({innerType:s,typeName:ue.ZodOptional,...st(e)});let Qc=($o=class extends ut{_parse(e){return this._getType(e)===we.null?jr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}},o($o,"ZodNullable"),$o);Qc.create=(s,e)=>new Qc({innerType:s,typeName:ue.ZodNullable,...st(e)});let Om=(Ho=class extends ut{_parse(e){let{ctx:a}=this._processInputParams(e),n=a.data;return a.parsedType===we.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:a.path,parent:a})}removeDefault(){return this._def.innerType}},o(Ho,"ZodDefault"),Ho);Om.create=(s,e)=>new Om({innerType:s,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...st(e)});let Mm=(Bo=class extends ut{_parse(e){let{ctx:a}=this._processInputParams(e),n={...a,common:{...a.common,issues:[]}},l=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Uu(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new rn(n.common.issues)},input:n.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new rn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}},o(Bo,"ZodCatch"),Bo);Mm.create=(s,e)=>new Mm({innerType:s,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...st(e)});let HT=(Uo=class extends ut{_parse(e){if(this._getType(e)!==we.nan){let a=this._getOrReturnCtx(e);return ve(a,{code:ce.invalid_type,expected:we.nan,received:a.parsedType}),Xe}return{status:"valid",value:e.data}}},o(Uo,"ZodNaN"),Uo);HT.create=s=>new HT({typeName:ue.ZodNaN,...st(s)});let NS=(Fo=class extends ut{_parse(e){let{ctx:a}=this._processInputParams(e),n=a.data;return this._def.type._parse({data:n,path:a.path,parent:a})}unwrap(){return this._def.type}},o(Fo,"ZodBranded"),Fo),LS=(gn=class extends ut{_parse(e){let{status:a,ctx:n}=this._processInputParams(e);if(n.common.async)return o(async()=>{let l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Xe:l.status==="dirty"?(a.dirty(),Cm(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})},"handleAsync")();{let l=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Xe:l.status==="dirty"?(a.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:n.path,parent:n})}}static create(e,a){return new gn({in:e,out:a,typeName:ue.ZodPipeline})}},o(gn,"ZodPipeline"),gn),Dm=(zo=class extends ut{_parse(e){let a=this._def.innerType._parse(e),n=o(l=>(ao(l)&&(l.value=Object.freeze(l.value)),l),"freeze");return Uu(a)?a.then(l=>n(l)):n(a)}unwrap(){return this._def.innerType}},o(zo,"ZodReadonly"),zo);Dm.create=(s,e)=>new Dm({innerType:s,typeName:ue.ZodReadonly,...st(e)});var ue;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ue||(ue={}));let xS=Symbol("Let zodToJsonSchema decide on which parser to use"),BT={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},RS=o(s=>typeof s=="string"?{...BT,name:s}:{...BT,...s},"getDefaultOptions"),OS=o(s=>{let e=RS(s),a=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,l])=>[l._def,{def:l._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}},"getRefs");function Pm(s,e,a,n){n?.errorMessages&&a&&(s.errorMessage={...s.errorMessage,[e]:a})}o(Pm,"addErrorMessage");function _t(s,e,a,n,l){s[e]=a,Pm(s,e,n,l)}o(_t,"setResponseValueAndErrors");function UT(){return{}}o(UT,"parseAnyDef");function FT(s,e){let a={type:"array"};return s.type?._def&&s.type?._def?.typeName!==ue.ZodAny&&(a.items=Et(s.type._def,{...e,currentPath:[...e.currentPath,"items"]})),s.minLength&&_t(a,"minItems",s.minLength.value,s.minLength.message,e),s.maxLength&&_t(a,"maxItems",s.maxLength.value,s.maxLength.message,e),s.exactLength&&(_t(a,"minItems",s.exactLength.value,s.exactLength.message,e),_t(a,"maxItems",s.exactLength.value,s.exactLength.message,e)),a}o(FT,"parseArrayDef");function zT(s,e){let a={type:"integer",format:"int64"};if(!s.checks)return a;for(let n of s.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?_t(a,"minimum",n.value,n.message,e):_t(a,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(a.exclusiveMinimum=!0),_t(a,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?_t(a,"maximum",n.value,n.message,e):_t(a,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(a.exclusiveMaximum=!0),_t(a,"maximum",n.value,n.message,e));break;case"multipleOf":_t(a,"multipleOf",n.value,n.message,e);break}return a}o(zT,"parseBigintDef");function GT(){return{type:"boolean"}}o(GT,"parseBooleanDef");function $m(s,e){return Et(s.type._def,e)}o($m,"parseBrandedDef");let MS=o((s,e)=>Et(s.innerType._def,e),"parseCatchDef");function Hm(s,e,a){let n=a??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((l,c)=>Hm(s,e,l))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return DS(s,e)}}o(Hm,"parseDateDef");let DS=o((s,e)=>{let a={type:"integer",format:"unix-time"};if(e.target==="openApi3")return a;for(let n of s.checks)switch(n.kind){case"min":_t(a,"minimum",n.value,n.message,e);break;case"max":_t(a,"maximum",n.value,n.message,e);break}return a},"integerDateParser");function jT(s,e){return{...Et(s.innerType._def,e),default:s.defaultValue()}}o(jT,"parseDefaultDef");function VT(s,e){return e.effectStrategy==="input"?Et(s.schema._def,e):{}}o(VT,"parseEffectsDef");function ZT(s){return{type:"string",enum:Array.from(s.values)}}o(ZT,"parseEnumDef");let PS=o(s=>"type"in s&&s.type==="string"?!1:"allOf"in s,"isJsonSchema7AllOfType");function WT(s,e){let a=[Et(s.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Et(s.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(c=>!!c),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,l=[];return a.forEach(c=>{if(PS(c))l.push(...c.allOf),c.unevaluatedProperties===void 0&&(n=void 0);else{let h=c;if("additionalProperties"in c&&c.additionalProperties===!1){let{additionalProperties:p,...m}=c;h=m}else n=void 0;l.push(h)}}),l.length?{allOf:l,...n}:void 0}o(WT,"parseIntersectionDef");function YT(s,e){let a=typeof s.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(s.value)?"array":"object"}:e.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[s.value]}:{type:a==="bigint"?"integer":a,const:s.value}}o(YT,"parseLiteralDef");let Bm,as={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:o(()=>(Bm===void 0&&(Bm=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Bm),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Um(s,e){let a={type:"string"};if(s.checks)for(let n of s.checks)switch(n.kind){case"min":_t(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,n.value):n.value,n.message,e);break;case"max":_t(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Vr(a,"email",n.message,e);break;case"format:idn-email":Vr(a,"idn-email",n.message,e);break;case"pattern:zod":gr(a,as.email,n.message,e);break}break;case"url":Vr(a,"uri",n.message,e);break;case"uuid":Vr(a,"uuid",n.message,e);break;case"regex":gr(a,n.regex,n.message,e);break;case"cuid":gr(a,as.cuid,n.message,e);break;case"cuid2":gr(a,as.cuid2,n.message,e);break;case"startsWith":gr(a,RegExp(`^${Gu(n.value,e)}`),n.message,e);break;case"endsWith":gr(a,RegExp(`${Gu(n.value,e)}$`),n.message,e);break;case"datetime":Vr(a,"date-time",n.message,e);break;case"date":Vr(a,"date",n.message,e);break;case"time":Vr(a,"time",n.message,e);break;case"duration":Vr(a,"duration",n.message,e);break;case"length":_t(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,n.value):n.value,n.message,e),_t(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,n.value):n.value,n.message,e);break;case"includes":{gr(a,RegExp(Gu(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&Vr(a,"ipv4",n.message,e),n.version!=="v4"&&Vr(a,"ipv6",n.message,e);break}case"base64url":gr(a,as.base64url,n.message,e);break;case"jwt":gr(a,as.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&gr(a,as.ipv4Cidr,n.message,e),n.version!=="v4"&&gr(a,as.ipv6Cidr,n.message,e);break}case"emoji":gr(a,as.emoji(),n.message,e);break;case"ulid":{gr(a,as.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Vr(a,"binary",n.message,e);break}case"contentEncoding:base64":{_t(a,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{gr(a,as.base64,n.message,e);break}}break}case"nanoid":gr(a,as.nanoid,n.message,e)}return a}o(Um,"parseStringDef");function Gu(s,e){return e.patternStrategy==="escape"?qT(s):s}o(Gu,"escapeLiteralCheckValue");let $S=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function qT(s){let e="";for(let a=0;a<s.length;a++)$S.has(s[a])||(e+="\\"),e+=s[a];return e}o(qT,"escapeNonAlphaNumeric");function Vr(s,e,a,n){s.format||s.anyOf?.some(l=>l.format)?(s.anyOf||(s.anyOf=[]),s.format&&(s.anyOf.push({format:s.format,...s.errorMessage&&n.errorMessages&&{errorMessage:{format:s.errorMessage.format}}}),delete s.format,s.errorMessage&&(delete s.errorMessage.format,Object.keys(s.errorMessage).length===0&&delete s.errorMessage)),s.anyOf.push({format:e,...a&&n.errorMessages&&{errorMessage:{format:a}}})):_t(s,"format",e,a,n)}o(Vr,"addFormat");function gr(s,e,a,n){s.pattern||s.allOf?.some(l=>l.pattern)?(s.allOf||(s.allOf=[]),s.pattern&&(s.allOf.push({pattern:s.pattern,...s.errorMessage&&n.errorMessages&&{errorMessage:{pattern:s.errorMessage.pattern}}}),delete s.pattern,s.errorMessage&&(delete s.errorMessage.pattern,Object.keys(s.errorMessage).length===0&&delete s.errorMessage)),s.allOf.push({pattern:Fm(e,n),...a&&n.errorMessages&&{errorMessage:{pattern:a}}})):_t(s,"pattern",Fm(e,n),a,n)}o(gr,"addPattern");function Fm(s,e){if(!e.applyRegexFlags||!s.flags)return s.source;let a={i:s.flags.includes("i"),m:s.flags.includes("m"),s:s.flags.includes("s")},n=a.i?s.source.toLowerCase():s.source,l="",c=!1,h=!1,p=!1;for(let m=0;m<n.length;m++){if(c){l+=n[m],c=!1;continue}if(a.i){if(h){if(n[m].match(/[a-z]/)){p?(l+=n[m],l+=`${n[m-2]}-${n[m]}`.toUpperCase(),p=!1):n[m+1]==="-"&&n[m+2]?.match(/[a-z]/)?(l+=n[m],p=!0):l+=`${n[m]}${n[m].toUpperCase()}`;continue}}else if(n[m].match(/[a-z]/)){l+=`[${n[m]}${n[m].toUpperCase()}]`;continue}}if(a.m){if(n[m]==="^"){l+=`(^|(?<=[\r
]))`;continue}else if(n[m]==="$"){l+=`($|(?=[\r
]))`;continue}}if(a.s&&n[m]==="."){l+=h?`${n[m]}\r
`:`[${n[m]}\r
]`;continue}l+=n[m],n[m]==="\\"?c=!0:h&&n[m]==="]"?h=!1:!h&&n[m]==="["&&(h=!0)}return l}o(Fm,"stringifyRegExpWithFlags");function zm(s,e){if(e.target==="openAi"&&je.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&s.keyType?._def.typeName===ue.ZodEnum)return{type:"object",required:s.keyType._def.values,properties:s.keyType._def.values.reduce((n,l)=>({...n,[l]:Et(s.valueType._def,{...e,currentPath:[...e.currentPath,"properties",l]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let a={type:"object",additionalProperties:Et(s.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return a;if(s.keyType?._def.typeName===ue.ZodString&&s.keyType._def.checks?.length){let{type:n,...l}=Um(s.keyType._def,e);return{...a,propertyNames:l}}else{if(s.keyType?._def.typeName===ue.ZodEnum)return{...a,propertyNames:{enum:s.keyType._def.values}};if(s.keyType?._def.typeName===ue.ZodBranded&&s.keyType._def.type._def.typeName===ue.ZodString&&s.keyType._def.type._def.checks?.length){let{type:n,...l}=$m(s.keyType._def,e);return{...a,propertyNames:l}}}return a}o(zm,"parseRecordDef");function KT(s,e){if(e.mapStrategy==="record")return zm(s,e);let a=Et(s.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},n=Et(s.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,n],minItems:2,maxItems:2}}}o(KT,"parseMapDef");function QT(s){let e=s.values,a=Object.keys(s.values).filter(l=>typeof e[e[l]]!="number").map(l=>e[l]),n=Array.from(new Set(a.map(l=>typeof l)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:a}}o(QT,"parseNativeEnumDef");function XT(){return{not:{}}}o(XT,"parseNeverDef");function JT(s){return s.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}o(JT,"parseNullDef");let ju={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function eb(s,e){if(e.target==="openApi3")return tb(s,e);let a=s.options instanceof Map?Array.from(s.options.values()):s.options;if(a.every(n=>n._def.typeName in ju&&(!n._def.checks||!n._def.checks.length))){let n=a.reduce((l,c)=>{let h=ju[c._def.typeName];return h&&!l.includes(h)?[...l,h]:l},[]);return{type:n.length>1?n:n[0]}}else if(a.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=a.reduce((l,c)=>{let h=typeof c._def.value;switch(h){case"string":case"number":case"boolean":return[...l,h];case"bigint":return[...l,"integer"];case"object":if(c._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(n.length===a.length){let l=n.filter((c,h,p)=>p.indexOf(c)===h);return{type:l.length>1?l:l[0],enum:a.reduce((c,h)=>c.includes(h._def.value)?c:[...c,h._def.value],[])}}}else if(a.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((n,l)=>[...n,...l._def.values.filter(c=>!n.includes(c))],[])};return tb(s,e)}o(eb,"parseUnionDef");let tb=o((s,e)=>{let a=(s.options instanceof Map?Array.from(s.options.values()):s.options).map((n,l)=>Et(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${l}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return a.length?{anyOf:a}:void 0},"asAnyOf");function rb(s,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(s.innerType._def.typeName)&&(!s.innerType._def.checks||!s.innerType._def.checks.length))return e.target==="openApi3"?{type:ju[s.innerType._def.typeName],nullable:!0}:{type:[ju[s.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=Et(s.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let a=Et(s.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}o(rb,"parseNullableDef");function sb(s,e){let a={type:"number"};if(!s.checks)return a;for(let n of s.checks)switch(n.kind){case"int":a.type="integer",Pm(a,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?_t(a,"minimum",n.value,n.message,e):_t(a,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(a.exclusiveMinimum=!0),_t(a,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?_t(a,"maximum",n.value,n.message,e):_t(a,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(a.exclusiveMaximum=!0),_t(a,"maximum",n.value,n.message,e));break;case"multipleOf":_t(a,"multipleOf",n.value,n.message,e);break}return a}o(sb,"parseNumberDef");function ab(s,e){let a=e.target==="openAi",n={type:"object",properties:{}},l=[],c=s.shape();for(let p in c){let m=c[p];if(m===void 0||m._def===void 0)continue;let f=ib(m);f&&a&&(m instanceof Sa&&(m=m._def.innerType),m.isNullable()||(m=m.nullable()),f=!1);let g=Et(m._def,{...e,currentPath:[...e.currentPath,"properties",p],propertyPath:[...e.currentPath,"properties",p]});g!==void 0&&(n.properties[p]=g,f||l.push(p))}l.length&&(n.required=l);let h=nb(s,e);return h!==void 0&&(n.additionalProperties=h),n}o(ab,"parseObjectDef");function nb(s,e){if(s.catchall._def.typeName!=="ZodNever")return Et(s.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(s.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}o(nb,"decideAdditionalProperties");function ib(s){try{return s.isOptional()}catch{return!0}}o(ib,"safeIsOptional");let HS=o((s,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return Et(s.innerType._def,e);let a=Et(s.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},"parseOptionalDef"),BS=o((s,e)=>{if(e.pipeStrategy==="input")return Et(s.in._def,e);if(e.pipeStrategy==="output")return Et(s.out._def,e);let a=Et(s.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=Et(s.out._def,{...e,currentPath:[...e.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,n].filter(l=>l!==void 0)}},"parsePipelineDef");function ob(s,e){return Et(s.type._def,e)}o(ob,"parsePromiseDef");function lb(s,e){let a={type:"array",uniqueItems:!0,items:Et(s.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return s.minSize&&_t(a,"minItems",s.minSize.value,s.minSize.message,e),s.maxSize&&_t(a,"maxItems",s.maxSize.value,s.maxSize.message,e),a}o(lb,"parseSetDef");function cb(s,e){return s.rest?{type:"array",minItems:s.items.length,items:s.items.map((a,n)=>Et(a._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((a,n)=>n===void 0?a:[...a,n],[]),additionalItems:Et(s.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:s.items.length,maxItems:s.items.length,items:s.items.map((a,n)=>Et(a._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((a,n)=>n===void 0?a:[...a,n],[])}}o(cb,"parseTupleDef");function hb(){return{not:{}}}o(hb,"parseUndefinedDef");function ub(){return{}}o(ub,"parseUnknownDef");let US=o((s,e)=>Et(s.innerType._def,e),"parseReadonlyDef"),FS=o((s,e,a)=>{switch(e){case ue.ZodString:return Um(s,a);case ue.ZodNumber:return sb(s,a);case ue.ZodObject:return ab(s,a);case ue.ZodBigInt:return zT(s,a);case ue.ZodBoolean:return GT();case ue.ZodDate:return Hm(s,a);case ue.ZodUndefined:return hb();case ue.ZodNull:return JT(a);case ue.ZodArray:return FT(s,a);case ue.ZodUnion:case ue.ZodDiscriminatedUnion:return eb(s,a);case ue.ZodIntersection:return WT(s,a);case ue.ZodTuple:return cb(s,a);case ue.ZodRecord:return zm(s,a);case ue.ZodLiteral:return YT(s,a);case ue.ZodEnum:return ZT(s);case ue.ZodNativeEnum:return QT(s);case ue.ZodNullable:return rb(s,a);case ue.ZodOptional:return HS(s,a);case ue.ZodMap:return KT(s,a);case ue.ZodSet:return lb(s,a);case ue.ZodLazy:return()=>s.getter()._def;case ue.ZodPromise:return ob(s,a);case ue.ZodNaN:case ue.ZodNever:return XT();case ue.ZodEffects:return VT(s,a);case ue.ZodAny:return UT();case ue.ZodUnknown:return ub();case ue.ZodDefault:return jT(s,a);case ue.ZodBranded:return $m(s,a);case ue.ZodReadonly:return US(s,a);case ue.ZodCatch:return MS(s,a);case ue.ZodPipeline:return BS(s,a);case ue.ZodFunction:case ue.ZodVoid:case ue.ZodSymbol:return;default:return(n=>{})()}},"selectParser");function Et(s,e,a=!1){let n=e.seen.get(s);if(e.override){let p=e.override?.(s,e,n,a);if(p!==xS)return p}if(n&&!a){let p=zS(n,e);if(p!==void 0)return p}let l={def:s,path:e.currentPath,jsonSchema:void 0};e.seen.set(s,l);let c=FS(s,s.typeName,e),h=typeof c=="function"?Et(c(),e):c;if(h&&jS(s,e,h),e.postProcess){let p=e.postProcess(h,s,e);return l.jsonSchema=h,p}return l.jsonSchema=h,h}o(Et,"parseDef");let zS=o((s,e)=>{switch(e.$refStrategy){case"root":return{$ref:s.path.join("/")};case"relative":return{$ref:GS(e.currentPath,s.path)};case"none":case"seen":return s.path.length<e.currentPath.length&&s.path.every((a,n)=>e.currentPath[n]===a)?(je.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},"get$ref"),GS=o((s,e)=>{let a=0;for(;a<s.length&&a<e.length&&s[a]===e[a];a++);return[(s.length-a).toString(),...e.slice(a)].join("/")},"getRelativePath"),jS=o((s,e,a)=>(s.description&&(a.description=s.description,e.markdownDescription&&(a.markdownDescription=s.description)),a),"addMeta"),VS=o((s,e)=>{let a=OS(e),n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((m,[f,g])=>({...m,[f]:Et(g._def,{...a,currentPath:[...a.basePath,a.definitionPath,f]},!0)??{}}),{}):void 0,l=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,c=Et(s._def,l===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,l]},!1)??{},h=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;h!==void 0&&(c.title=h);let p=l===void 0?n?{...c,[a.definitionPath]:n}:c:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,l].join("/"),[a.definitionPath]:{...n,[l]:c}};return a.target==="jsonSchema7"?p.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(p.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in p||"oneOf"in p||"allOf"in p||"type"in p&&Array.isArray(p.type))&&je.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),p},"zodToJsonSchema");var Vu=typeof y<"u"?y:typeof Rt<"u"?Rt:typeof global<"u"?global:typeof O<"u"?O:{},Ca={},Mt={},qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.toBig=qe.shrSL=qe.shrSH=qe.rotrSL=qe.rotrSH=qe.rotrBL=qe.rotrBH=qe.rotr32L=qe.rotr32H=qe.rotlSL=qe.rotlSH=qe.rotlBL=qe.rotlBH=qe.add5L=qe.add5H=qe.add4L=qe.add4H=qe.add3L=qe.add3H=void 0,qe.add=Vm,qe.fromBig=Wu,qe.split=jm;let Zu=BigInt(2**32-1),Gm=BigInt(32);function Wu(s,e=!1){return e?{h:Number(s&Zu),l:Number(s>>Gm&Zu)}:{h:Number(s>>Gm&Zu)|0,l:Number(s&Zu)|0}}o(Wu,"fromBig");function jm(s,e=!1){let a=s.length,n=new Uint32Array(a),l=new Uint32Array(a);for(let c=0;c<a;c++){let{h,l:p}=Wu(s[c],e);[n[c],l[c]]=[h,p]}return[n,l]}o(jm,"split");let db=o((s,e)=>BigInt(s>>>0)<<Gm|BigInt(e>>>0),"toBig");qe.toBig=db;let pb=o((s,e,a)=>s>>>a,"shrSH");qe.shrSH=pb;let mb=o((s,e,a)=>s<<32-a|e>>>a,"shrSL");qe.shrSL=mb;let fb=o((s,e,a)=>s>>>a|e<<32-a,"rotrSH");qe.rotrSH=fb;let gb=o((s,e,a)=>s<<32-a|e>>>a,"rotrSL");qe.rotrSL=gb;let Eb=o((s,e,a)=>s<<64-a|e>>>a-32,"rotrBH");qe.rotrBH=Eb;let Tb=o((s,e,a)=>s>>>a-32|e<<64-a,"rotrBL");qe.rotrBL=Tb;let bb=o((s,e)=>e,"rotr32H");qe.rotr32H=bb;let yb=o((s,e)=>s,"rotr32L");qe.rotr32L=yb;let _b=o((s,e,a)=>s<<a|e>>>32-a,"rotlSH");qe.rotlSH=_b;let Ab=o((s,e,a)=>e<<a|s>>>32-a,"rotlSL");qe.rotlSL=Ab;let vb=o((s,e,a)=>e<<a-32|s>>>64-a,"rotlBH");qe.rotlBH=vb;let Sb=o((s,e,a)=>s<<a-32|e>>>64-a,"rotlBL");qe.rotlBL=Sb;function Vm(s,e,a,n){let l=(e>>>0)+(n>>>0);return{h:s+a+(l/2**32|0)|0,l:l|0}}o(Vm,"add");let Cb=o((s,e,a)=>(s>>>0)+(e>>>0)+(a>>>0),"add3L");qe.add3L=Cb;let kb=o((s,e,a,n)=>e+a+n+(s/2**32|0)|0,"add3H");qe.add3H=kb;let wb=o((s,e,a,n)=>(s>>>0)+(e>>>0)+(a>>>0)+(n>>>0),"add4L");qe.add4L=wb;let Ib=o((s,e,a,n,l)=>e+a+n+l+(s/2**32|0)|0,"add4H");qe.add4H=Ib;let Nb=o((s,e,a,n,l)=>(s>>>0)+(e>>>0)+(a>>>0)+(n>>>0)+(l>>>0),"add5L");qe.add5L=Nb;let Lb=o((s,e,a,n,l,c)=>e+a+n+l+c+(s/2**32|0)|0,"add5H");qe.add5H=Lb;let ZS={fromBig:Wu,split:jm,toBig:db,shrSH:pb,shrSL:mb,rotrSH:fb,rotrSL:gb,rotrBH:Eb,rotrBL:Tb,rotr32H:bb,rotr32L:yb,rotlSH:_b,rotlSL:Ab,rotlBH:vb,rotlBL:Sb,add:Vm,add3L:Cb,add3H:kb,add4L:wb,add4H:Ib,add5H:Lb,add5L:Nb};qe.default=ZS;var xb={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.crypto=void 0,Yu.crypto=typeof y=="object"&&"crypto"in y?y.crypto:void 0,function(s){var Ye;Object.defineProperty(s,"__esModule",{value:!0}),s.wrapXOFConstructorWithOpts=s.wrapConstructorWithOpts=s.wrapConstructor=s.Hash=s.nextTick=s.swap32IfBE=s.byteSwapIfBE=s.swap8IfBE=s.isLE=void 0,s.isBytes=a,s.anumber=n,s.abytes=l,s.ahash=c,s.aexists=h,s.aoutput=p,s.u8=m,s.u32=f,s.clean=g,s.createView=_,s.rotr=w,s.rotl=D,s.byteSwap=B,s.byteSwap32=G,s.bytesToHex=ne,s.hexToBytes=me,s.asyncLoop=q,s.utf8ToBytes=te,s.bytesToUtf8=$e,s.toBytes=se,s.kdfInputToBytes=ge,s.concatBytes=z,s.checkOpts=U,s.createHasher=Ve,s.createOptHasher=j,s.createXOFer=de,s.randomBytes=xe;let e=Yu;function a(H){return H instanceof Uint8Array||ArrayBuffer.isView(H)&&H.constructor.name==="Uint8Array"}o(a,"isBytes");function n(H){if(!Number.isSafeInteger(H)||H<0)throw new Error("positive integer expected, got "+H)}o(n,"anumber");function l(H,..._e){if(!a(H))throw new Error("Uint8Array expected");if(_e.length>0&&!_e.includes(H.length))throw new Error("Uint8Array expected of length "+_e+", got length="+H.length)}o(l,"abytes");function c(H){if(typeof H!="function"||typeof H.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(H.outputLen),n(H.blockLen)}o(c,"ahash");function h(H,_e=!0){if(H.destroyed)throw new Error("Hash instance has been destroyed");if(_e&&H.finished)throw new Error("Hash#digest() has already been called")}o(h,"aexists");function p(H,_e){l(H);let nt=_e.outputLen;if(H.length<nt)throw new Error("digestInto() expects output buffer of length at least "+nt)}o(p,"aoutput");function m(H){return new Uint8Array(H.buffer,H.byteOffset,H.byteLength)}o(m,"u8");function f(H){return new Uint32Array(H.buffer,H.byteOffset,Math.floor(H.byteLength/4))}o(f,"u32");function g(...H){for(let _e=0;_e<H.length;_e++)H[_e].fill(0)}o(g,"clean");function _(H){return new DataView(H.buffer,H.byteOffset,H.byteLength)}o(_,"createView");function w(H,_e){return H<<32-_e|H>>>_e}o(w,"rotr");function D(H,_e){return H<<_e|H>>>32-_e>>>0}o(D,"rotl"),s.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function B(H){return H<<24&4278190080|H<<8&16711680|H>>>8&65280|H>>>24&255}o(B,"byteSwap"),s.swap8IfBE=s.isLE?H=>H:H=>B(H),s.byteSwapIfBE=s.swap8IfBE;function G(H){for(let _e=0;_e<H.length;_e++)H[_e]=B(H[_e]);return H}o(G,"byteSwap32"),s.swap32IfBE=s.isLE?H=>H:G;let ee=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ae=Array.from({length:256},(H,_e)=>_e.toString(16).padStart(2,"0"));function ne(H){if(l(H),ee)return H.toHex();let _e="";for(let nt=0;nt<H.length;nt++)_e+=ae[H[nt]];return _e}o(ne,"bytesToHex");let Ee={_0:48,_9:57,A:65,F:70,a:97,f:102};function Pe(H){if(H>=Ee._0&&H<=Ee._9)return H-Ee._0;if(H>=Ee.A&&H<=Ee.F)return H-(Ee.A-10);if(H>=Ee.a&&H<=Ee.f)return H-(Ee.a-10)}o(Pe,"asciiToBase16");function me(H){if(typeof H!="string")throw new Error("hex string expected, got "+typeof H);if(ee)return Uint8Array.fromHex(H);let _e=H.length,nt=_e/2;if(_e%2)throw new Error("hex string expected, got unpadded hex of length "+_e);let ht=new Uint8Array(nt);for(let et=0,Tt=0;et<nt;et++,Tt+=2){let Hr=Pe(H.charCodeAt(Tt)),fs=Pe(H.charCodeAt(Tt+1));if(Hr===void 0||fs===void 0){let gs=H[Tt]+H[Tt+1];throw new Error('hex string expected, got non-hex character "'+gs+'" at index '+Tt)}ht[et]=Hr*16+fs}return ht}o(me,"hexToBytes");let ie=o(async()=>{},"nextTick");s.nextTick=ie;async function q(H,_e,nt){let ht=Date.now();for(let et=0;et<H;et++){nt(et);let Tt=Date.now()-ht;Tt>=0&&Tt<_e||(await(0,s.nextTick)(),ht+=Tt)}}o(q,"asyncLoop");function te(H){if(typeof H!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(H))}o(te,"utf8ToBytes");function $e(H){return new TextDecoder().decode(H)}o($e,"bytesToUtf8");function se(H){return typeof H=="string"&&(H=te(H)),l(H),H}o(se,"toBytes");function ge(H){return typeof H=="string"&&(H=te(H)),l(H),H}o(ge,"kdfInputToBytes");function z(...H){let _e=0;for(let ht=0;ht<H.length;ht++){let et=H[ht];l(et),_e+=et.length}let nt=new Uint8Array(_e);for(let ht=0,et=0;ht<H.length;ht++){let Tt=H[ht];nt.set(Tt,et),et+=Tt.length}return nt}o(z,"concatBytes");function U(H,_e){if(_e!==void 0&&{}.toString.call(_e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(H,_e)}o(U,"checkOpts");let pe=(Ye=class{},o(Ye,"Hash"),Ye);s.Hash=pe;function Ve(H){let _e=o(ht=>H().update(se(ht)).digest(),"hashC"),nt=H();return _e.outputLen=nt.outputLen,_e.blockLen=nt.blockLen,_e.create=()=>H(),_e}o(Ve,"createHasher");function j(H){let _e=o((ht,et)=>H(et).update(se(ht)).digest(),"hashC"),nt=H({});return _e.outputLen=nt.outputLen,_e.blockLen=nt.blockLen,_e.create=ht=>H(ht),_e}o(j,"createOptHasher");function de(H){let _e=o((ht,et)=>H(et).update(se(ht)).digest(),"hashC"),nt=H({});return _e.outputLen=nt.outputLen,_e.blockLen=nt.blockLen,_e.create=ht=>H(ht),_e}o(de,"createXOFer"),s.wrapConstructor=Ve,s.wrapConstructorWithOpts=j,s.wrapXOFConstructorWithOpts=de;function xe(H=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(H));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(H));throw new Error("crypto.getRandomValues must be defined")}o(xe,"randomBytes")}(xb),Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.shake256=Mt.shake128=Mt.keccak_512=Mt.keccak_384=Mt.keccak_256=Mt.keccak_224=Mt.sha3_512=Mt.sha3_384=Mt.sha3_256=Mt.sha3_224=Mt.Keccak=void 0,Mt.keccakP=Zm;let Xc=qe,Er=xb,WS=BigInt(0),Jc=BigInt(1),YS=BigInt(2),qS=BigInt(7),KS=BigInt(256),QS=BigInt(113),Rb=[],Ob=[],Mb=[];for(let s=0,e=Jc,a=1,n=0;s<24;s++){[a,n]=[n,(2*a+3*n)%5],Rb.push(2*(5*n+a)),Ob.push((s+1)*(s+2)/2%64);let l=WS;for(let c=0;c<7;c++)e=(e<<Jc^(e>>qS)*QS)%KS,e&YS&&(l^=Jc<<(Jc<<BigInt(c))-Jc);Mb.push(l)}let Db=(0,Xc.split)(Mb,!0),XS=Db[0],JS=Db[1],Pb=o((s,e,a)=>a>32?(0,Xc.rotlBH)(s,e,a):(0,Xc.rotlSH)(s,e,a),"rotlH"),$b=o((s,e,a)=>a>32?(0,Xc.rotlBL)(s,e,a):(0,Xc.rotlSL)(s,e,a),"rotlL");function Zm(s,e=24){let a=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let h=0;h<10;h++)a[h]=s[h]^s[h+10]^s[h+20]^s[h+30]^s[h+40];for(let h=0;h<10;h+=2){let p=(h+8)%10,m=(h+2)%10,f=a[m],g=a[m+1],_=Pb(f,g,1)^a[p],w=$b(f,g,1)^a[p+1];for(let D=0;D<50;D+=10)s[h+D]^=_,s[h+D+1]^=w}let l=s[2],c=s[3];for(let h=0;h<24;h++){let p=Ob[h],m=Pb(l,c,p),f=$b(l,c,p),g=Rb[h];l=s[g],c=s[g+1],s[g]=m,s[g+1]=f}for(let h=0;h<50;h+=10){for(let p=0;p<10;p++)a[p]=s[h+p];for(let p=0;p<10;p++)s[h+p]^=~a[(p+2)%10]&a[(p+4)%10]}s[0]^=XS[n],s[1]^=JS[n]}(0,Er.clean)(a)}o(Zm,"keccakP");let Wm=(En=class extends Er.Hash{constructor(e,a,n,l=!1,c=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=a,this.outputLen=n,this.enableXOF=l,this.rounds=c,(0,Er.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,Er.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,Er.swap32IfBE)(this.state32),Zm(this.state32,this.rounds),(0,Er.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Er.aexists)(this),e=(0,Er.toBytes)(e),(0,Er.abytes)(e);let{blockLen:a,state:n}=this,l=e.length;for(let c=0;c<l;){let h=Math.min(a-this.pos,l-c);for(let p=0;p<h;p++)n[this.pos++]^=e[c++];this.pos===a&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:a,pos:n,blockLen:l}=this;e[n]^=a,(a&128)!==0&&n===l-1&&this.keccak(),e[l-1]^=128,this.keccak()}writeInto(e){(0,Er.aexists)(this,!1),(0,Er.abytes)(e),this.finish();let a=this.state,{blockLen:n}=this;for(let l=0,c=e.length;l<c;){this.posOut>=n&&this.keccak();let h=Math.min(n-this.posOut,c-l);e.set(a.subarray(this.posOut,this.posOut+h),l),this.posOut+=h,l+=h}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Er.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Er.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,Er.clean)(this.state)}_cloneInto(e){let{blockLen:a,suffix:n,outputLen:l,rounds:c,enableXOF:h}=this;return e||(e=new En(a,n,l,h,c)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=c,e.suffix=n,e.outputLen=l,e.enableXOF=h,e.destroyed=this.destroyed,e}},o(En,"Keccak"),En);Mt.Keccak=Wm;let ka=o((s,e,a)=>(0,Er.createHasher)(()=>new Wm(e,s,a)),"gen");Mt.sha3_224=ka(6,144,224/8),Mt.sha3_256=ka(6,136,256/8),Mt.sha3_384=ka(6,104,384/8),Mt.sha3_512=ka(6,72,512/8),Mt.keccak_224=ka(1,144,224/8),Mt.keccak_256=ka(1,136,256/8),Mt.keccak_384=ka(1,104,384/8),Mt.keccak_512=ka(1,72,512/8);let Hb=o((s,e,a)=>(0,Er.createXOFer)((n={})=>new Wm(e,s,n.dkLen===void 0?a:n.dkLen,!0)),"genShake");Mt.shake128=Hb(31,168,128/8),Mt.shake256=Hb(31,136,256/8);let{sha3_512:eC}=Mt,Bb=24,eh=32,Ym=o((s=4,e=Math.random)=>{let a="";for(;a.length<s;)a=a+Math.floor(e()*36).toString(36);return a},"createEntropy");function qm(s){let e=BigInt(8),a=BigInt(0);for(let n of s.values()){let l=BigInt(n);a=(a<<e)+l}return a}o(qm,"bufToBigInt");let Ub=o((s="")=>qm(eC(s)).toString(36).slice(1),"hash"),Fb=Array.from({length:26},(s,e)=>String.fromCharCode(e+97)),tC=o(s=>Fb[Math.floor(s()*Fb.length)],"randomLetter"),zb=o(({globalObj:s=typeof Vu<"u"?Vu:typeof Rt<"u"?Rt:{},random:e=Math.random}={})=>{let a=Object.keys(s).toString(),n=a.length?a+Ym(eh,e):Ym(eh,e);return Ub(n).substring(0,eh)},"createFingerprint"),Gb=o(s=>()=>s++,"createCounter"),rC=476782367,jb=o(({random:s=Math.random,counter:e=Gb(Math.floor(s()*rC)),length:a=Bb,fingerprint:n=zb({random:s})}={})=>o(function(){let l=tC(s),c=Date.now().toString(36),h=e().toString(36),p=Ym(a,s),m=`${c+p+h+n}`;return`${l+Ub(m).substring(1,a)}`},"cuid2"),"init$1"),sC=jb(),aC=o((s,{minLength:e=2,maxLength:a=eh}={})=>{let n=s.length,l=/^[a-z][0-9a-z]+$/;try{if(typeof s=="string"&&n>=e&&n<=a&&l.test(s))return!0}finally{}return!1},"isCuid$1");Ca.getConstants=()=>({defaultLength:Bb,bigLength:eh}),Ca.init=jb,Ca.createId=sC,Ca.bufToBigInt=qm,Ca.createCounter=Gb,Ca.createFingerprint=zb,Ca.isCuid=aC;let{createId:nC}=Ca;var wa=nC;let Km="___$orama_user_id$___",iC="ssid";function Vb(s,e){if(typeof Ct<"u"){typeof Ct.sendBeacon<"u"&&Ct.sendBeacon(s,e);return}mt(s,{method:"POST",body:e,headers:{"Content-Type":"application/json"}}).then(()=>{},a=>je.log(a))}o(Vb,"sendBeacon");let oC=(Go=class{constructor({endpoint:e,apiKey:a}){if(Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"userId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"identity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"userAlias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e||!a)throw new Error("Endpoint and API Key are required to create a Profile");if(typeof e!="string"||typeof a!="string")throw new Error("Endpoint and API Key must be strings");if(typeof K<"u"){let n=K.getItem(Km);n?this.userId=n:(this.userId=wa(),K.setItem(Km,this.userId))}else this.userId=wa();this.endpoint=e,this.apiKey=a}setParams(e){let{protocol:a,host:n}=new yt(e.identifyUrl),l=`${a}//${n}/identify`;this.params={identifyUrl:l,index:e.index}}getIdentity(){return this.identity}getUserId(){return this.userId}getAlias(){return this.userAlias}async sendProfileData(e){if(!this.params)throw new Error("Orama Profile is not initialized");let a=JSON.stringify({...e,visitorId:this.getUserId(),index:this.params.index});await Vb(`${this.params?.identifyUrl}?api-key=${this.apiKey}`,a)}async identify(e){if(typeof e!="string")throw new Error("Identity must be a string");await this.sendProfileData({entity:"identity",id:e}),this.identity=e}async alias(e){if(typeof e!="string")throw new Error("Identity must be a string");await this.sendProfileData({entity:"alias",id:e}),this.userAlias=e}reset(){this.userId=wa(),this.identity=void 0,this.userAlias=void 0}},o(Go,"Profile"),Go),lC=Object.values({PERFORM_ORAMA_SEARCH:"PERFORM_ORAMA_SEARCH",OPTIMIZE_QUERY:"OPTIMIZE_QUERY",GENERATE_QUERIES:"GENERATE_QUERIES",ACTION_PLAN:"ACTION_PLAN",ASK_FOLLOWUP:"ASK_FOLLOWUP",GIVE_REPLY:"GIVE_REPLY",GET_SEGMENT:"GET_SEGMENT",GET_TRIGGER:"GET_TRIGGER",SELECT_SEGMENT_PROBABILITY:"SELECT_SEGMENT_PROBABILITY",SELECT_TRIGGER_PROBABILITY:"SELECT_TRIGGER_PROBABILITY"}),cC=(jo=class{constructor(e){Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"readAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"collectionID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oramaInterface",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"LLMConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sessionID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastInteractionParams",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.url=e.url,this.readAPIKey=e.readAPIKey,this.collectionID=e.collectionID,this.oramaInterface=new aT({baseURL:this.url,readAPIKey:this.readAPIKey}),this.LLMConfig=e.LLMConfig,this.messages=e.initialMessages||[],this.events=e.events,this.sessionID=e.sessionID||wa()}async*answerStream(e){this.lastInteractionParams={...e,planned:!1},e=this.enrichConfig(e),this.abortController=new AbortController,this.messages.push({role:"user",content:e.query}),this.messages.push({role:"assistant",content:""});let a=e.interactionID||wa();this.state.push({id:a,query:e.query,response:"",sources:null,loading:!0,error:!1,aborted:!1,errorMessage:null,planned:!1,plan:null,planExecution:{},segment:null,related:e.related?.enabled?"":null}),this.pushState();let n=this.state.length-1,l=this.messages.length-1,c={interaction_id:a,query:e.query,visitor_id:e.visitorID,conversation_id:e.sessionID,messages:e.messages||[],llm_config:null,related:e.related};this.LLMConfig&&(c.llm_config=this.LLMConfig);let h=(await this.oramaInterface.requestStream({method:"POST",securityLevel:"read-query",url:`/v1/collections/${this.collectionID}/answer`,body:c})).getReader();for(;;){let{done:p,value:m}=await h.read();if(m!==void 0){let f=$s(m.data);if(f.type==="response"){let{action:g,result:_}=$s(f.message);switch(g){case"GET_SEGMENT":{if(_!==null){let w=$s(_);if(!w)break;this.state[n].segment={id:w.id,name:w.name},this.pushState()}break}case"GET_TRIGGER":{if(_!==null){let w=$s(_);if(!w)break;this.state[n].segment=w,this.pushState()}break}case"OPTIMIZING_QUERY":break;case"SEARCH_RESULTS":{let w=$s(_);this.state[n].sources=w,this.pushState();break}case"ANSWER_RESPONSE":{this.state[n].response+=_,this.messages[l].content=this.state[n].response,yield this.state[n].response,this.pushState();break}case"RELATED_QUERIES":{this.state[n].related+=_,this.pushState();break}}}}if(p){this.state[n].loading=!1,this.pushState();break}}h.releaseLock()}async answer(e){this.lastInteractionParams={...e,planned:!1};let a="";for await(let n of this.answerStream(e))a=n;return a}async*reasonStream(e){this.lastInteractionParams={...e,planned:!0};for await(let a of this.fetchPlannedAnswer(e))yield this.state[this.state.length-1].response}async reason(e){this.lastInteractionParams={...e,planned:!0};for await(let a of this.fetchPlannedAnswer(e));return this.state[this.state.length-1].response}async*fetchPlannedAnswer(e){e=this.enrichConfig(e),this.abortController=new AbortController,this.messages.push({role:"user",content:e.query}),this.messages.push({role:"assistant",content:""});let a=wa();this.state.push({id:a,query:e.query,response:"",sources:null,loading:!0,error:!1,aborted:!1,errorMessage:null,planned:!0,plan:null,planExecution:{},segment:null,related:e.related?.enabled?"":null}),this.pushState();let n=this.state.length-1,l=this.messages.length-1,c=(await this.oramaInterface.requestStream({method:"POST",securityLevel:"read-query",url:`/v1/collections/${this.collectionID}/planned_answer`,body:{interaction_id:e.interactionID,query:e.query,visitor_id:e.visitorID,conversation_id:e.sessionID,messages:e.messages||[],llm_config:this.LLMConfig?this.LLMConfig:null,related:e.related},signal:this.abortController?.signal})).getReader();for(;;){let{done:h,value:p}=await c.read();if(p!==void 0){if(p==="")continue;let m=$s(p.data);if(m.type==="acknowledgement"){yield{action:"ACKNOWLEDGEMENT",message:"acknowledgement"};continue}if(m.type==="response"){if(m.message==="")continue;let f=$s(m.message),g=f.action;if(g==="ACTION_PLAN"){let _=$s(f.result);this.state[n].plan=_;let w={};for(let D of _)w[D.step]={instruction:D.description,result:"",done:!1};this.state[n].planExecution=w,this.pushState(),yield{action:"ACTION_PLAN",message:_};continue}if(g==="PERFORM_ORAMA_SEARCH"){let _=JSON.parse(f.result);this.state[n].sources=_,"PERFORM_ORAMA_SEARCH"in this.state[n].planExecution&&(this.state[n].planExecution.PERFORM_ORAMA_SEARCH.result=_,this.state[n].planExecution.PERFORM_ORAMA_SEARCH.done=!0),this.pushState(),yield{action:"PERFORM_ORAMA_SEARCH",message:_};continue}if(g==="ASK_FOLLOWUP"||g==="GIVE_REPLY"){this.state[n].response+=f.result,this.messages[l].content=this.state[n].response,this.state[n].planExecution[g].result+=f.result,this.state[n].planExecution[g].done=f.done,this.pushState(),yield{action:g,message:f.result};continue}if(g==="GET_SEGMENT"&&(this.state[n].segment={id:f.result.id,name:f.result.name},this.pushState()),g==="SELECT_SEGMENT_PROBABILITY"&&this.state[n].segment){let _=f.result.probability;this.state[n].segment.probability=_,this.pushState()}if(g==="GET_TRIGGER"&&(this.state[n].segment={id:f.result.id,name:f.result.name},this.pushState()),g==="SELECT_TRIGGER_PROBABILITY"&&this.state[n].segment){let _=f.result.probability;this.state[n].segment.probability=_,this.pushState()}if(g==="RELATED_QUERIES"){this.state[n].related+=f.result,this.pushState();break}lC.includes(g)||(this.state[n].planExecution[g].result+=f.result,this.state[n].planExecution[g].done=f.done,this.pushState()),yield f}}if(h)break}c.releaseLock(),this.state[n].loading=!1,this.pushState()}async regenerateLast({stream:e=!0}={}){if(this.state.length===0||this.messages.length===0)throw new Error("No messages to regenerate");if(this.messages.at(-1)?.role!=="assistant")throw new Error("Last message is not an assistant message");return this.messages.pop(),this.state.pop(),this.lastInteractionParams?.planned?e?this.reasonStream(this.lastInteractionParams):this.reason(this.lastInteractionParams):e?this.answerStream(this.lastInteractionParams):this.answer(this.lastInteractionParams)}abort(){if(!this.abortController)throw new Error("AbortController is not available.");if(this.state.length===0)throw new Error("There is no active request to abort.");this.abortController.abort(),this.abortController=void 0,this.state[this.state.length-1].aborted=!0}clearSession(){this.messages=[],this.state=[],this.pushState()}pushState(){this.events?.onStateChange?.(this.state)}enrichConfig(e){return e.visitorID||(e.visitorID=Zb()),e.interactionID||(e.interactionID=wa()),e.sessionID||(e.sessionID=this.sessionID),e}},o(jo,"AnswerSession"),jo);function Zb(){if(lT())return iC;if(hS){let s=K.getItem(Km);if(s)return s}return wa()}o(Zb,"getUserID");let hC=(Vo=class{constructor(e){Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"collectionID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writeAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"readAPIKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oramaInterface",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"profile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=e.url,this.writeAPIKey=e.writeAPIKey,this.readAPIKey=e.readAPIKey,this.collectionID=e.collectionID,this.oramaInterface=new aT({baseURL:this.url,writeAPIKey:this.writeAPIKey,readAPIKey:this.readAPIKey}),this.profile=new oC({endpoint:this.url,apiKey:this.readAPIKey})}async insert(e){Array.isArray(e)||(e=[e]),await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/insert`,body:e,method:"POST",securityLevel:"write"})}async delete(e){Array.isArray(e)||(e=[e]),await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/delete`,body:e,method:"POST",securityLevel:"write"})}async search(e){let a=+new Date,n=await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/search`,body:e,method:"POST",securityLevel:"read-query"}),l=+new Date-a;return{...n,elapsed:{raw:l,formatted:oT(l)}}}createAnswerSession(e){if(!this.readAPIKey)throw new Error("Read API key is required to create an answer session");return new cC({url:this.url,readAPIKey:this.readAPIKey||"",collectionID:this.collectionID,...e})}async insertHook(e){let a={name:e.name,code:e.code};return await this.oramaInterface.request({url:`/v1/collections/${e.collectionID}/hooks/create`,body:a,method:"POST",securityLevel:"write"}),{hookID:a.name,collectionID:e.collectionID,code:a.code}}insertSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/insert`,body:e,method:"POST",securityLevel:"write"})}getSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/get`,body:{segment_id:e},method:"GET",securityLevel:"read-query"})}getAllSegments(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/all`,method:"GET",securityLevel:"read-query"})}deleteSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateSegment(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/segments/update`,body:e,method:"POST",securityLevel:"write"})}insertTrigger(e){if(!e.segment_id)throw new Error("You cannot insert a trigger without a segment_id");return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/insert`,body:e,method:"POST",securityLevel:"write"})}getTrigger(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/get`,body:{trigger_id:e},method:"GET",securityLevel:"read-query"})}getAllTriggers(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/all`,method:"GET",securityLevel:"read-query"})}deleteTrigger(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateTrigger(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/triggers/update`,body:e,method:"POST",securityLevel:"write"})}insertSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/insert`,body:e,method:"POST",securityLevel:"write"})}getSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/get`,body:{system_prompt_id:e},method:"GET",securityLevel:"read"})}getAllSystemPrompts(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/all`,method:"GET",securityLevel:"read-query"})}deleteSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/update`,body:e,method:"POST",securityLevel:"write"})}validateSystemPrompt(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/system_prompts/validate`,body:e,method:"POST",securityLevel:"write"})}insertTool(e){let a;switch(!0){case typeof e.parameters=="string":a=e.parameters;break;case e.parameters instanceof ut:a=JSON.stringify(VS(e.parameters));break;case typeof e.parameters=="object":a=JSON.stringify(e.parameters);break;default:throw new Error("Invalid parameters type. Must be string, object or ZodType")}return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/insert`,body:{...e,parameters:a},method:"POST",securityLevel:"write"})}getTool(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/get`,body:{tool_id:e},method:"GET",securityLevel:"read-query"})}getAllTools(){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/all`,method:"GET",securityLevel:"read-query"})}deleteTool(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/delete`,body:{id:e},method:"POST",securityLevel:"write"})}updateTool(e){return this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/update`,body:e,method:"POST",securityLevel:"write"})}async executeTools(e){let a=await this.oramaInterface.request({url:`/v1/collections/${this.collectionID}/tools/run`,body:e,method:"POST",securityLevel:"read"});return je.log(a),a.results?{results:a.results.map(n=>({name:n.name,arguments:JSON.parse(n.arguments)}))}:{results:null}}getIdentity(){return this.profile.getIdentity()}getUserId(){return this.profile.getUserId()}getAlias(){return this.profile.getAlias()}async identify(e){await this.profile.identify(e)}async alias(e){await this.profile.alias(e)}reset(){this.profile.reset()}},o(Vo,"CollectionManager"),Vo);function Wb(s){return s&&typeof s=="object"&&"api_key"in s&&"endpoint"in s}o(Wb,"isOramaClient");function Yb(s){return s&&(s instanceof hC||s.constructor.name==="CollectionManager")}o(Yb,"isOramaCoreClient");function qb(s){return s&&typeof s=="object"&&"id"in s&&"tokenizer"in s}o(qb,"isOramaJSClient");var Kb=(Zo=class{invalidClientError="Invalid client. Expected either an OramaClient, CollectionManager, or an Orama JS database.";client;clientType;isCloud=!1;isJS=!1;isCore=!1;constructor(e){switch(this.client=e,!0){case Yb(e):this.clientType="core",this.isCore=!0;break;case Wb(e):this.clientType="cloud",this.isCloud=!0;break;case qb(e):this.clientType="oss",this.isJS=!0;break;default:throw new Error(this.invalidClientError)}}async search(e,a){switch(!0){case this.isCloud:return this.client.search(e,a);case this.isCore:return await this.client.search(e);case this.isJS:return bm(this.client,e);default:throw new Error(this.invalidClientError)}}createAnswerSession(e){switch(!0){case this.isCloud:{let a=e;return this.client.createAnswerSession(a)}case this.isCore:{let a=e;return this.client.createAnswerSession(a)}case this.isJS:{let a=e;return new lS(this.client,{conversationID:a.conversationID,initialMessages:a.initialMessages,events:a.events,userContext:a.userContext,systemPrompt:a.systemPrompt})}default:throw new Error(this.invalidClientError)}}},o(Zo,"Switch"),Zo),uC=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],a;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),a={},n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a);function n(c){a[c]=s[c]&&function(h){return new Promise(function(p,m){h=s[c](h),l(p,m,h.done,h.value)})}}function l(c,h,p,m){Promise.resolve(m).then(function(f){c({value:f,done:p})},h)}};let Qb=(Wo=class{constructor(e,a,n){this.sendQuestion=async(l,c,h)=>{if(!this.client)throw new Vc;let p={term:l};c?.length&&this.answerSession&&"setSystemPromptConfiguration"in this.answerSession&&this.answerSession.setSystemPromptConfiguration(c);let m=this.chatStore.state.interactions;if(!this.answerSession)try{let f=this.chatStore.state.interactions;try{this.answerSession=this.client.createAnswerSession({events:{onStateChange:o(g=>{let _=g.filter(w=>!!w.query);this.chatStore.state.interactions=[...f||[],..._.map((w,D)=>{var B,G,ee;let ae=g.length-1===D,ne=fr.loading,Ee=[];return w.aborted?ne=fr.aborted:w.loading&&w.sources?ne=fr.rendering:w.loading&&w.response?ne=fr.streaming:!w.loading&&w.response&&(ne=fr.done),w.sources&&(Ee=Array.isArray(w.sources)?(B=w.sources)===null||B===void 0?void 0:B.map(Pe=>Pe.document):(G=w.sources.hits)===null||G===void 0?void 0:G.map(Pe=>Pe.document)),ae&&ne===fr.done&&((ee=h?.onAnswerGeneratedCallback)===null||ee===void 0||ee.call(h,{askParams:p,query:w.query,sources:w.sources,answer:w.response,segment:w.segment,trigger:w.trigger})),{query:w.query,interactionId:w.interactionId||w.id,response:w.response,relatedQueries:w.relatedQueries,status:ne,latest:ae,sources:Ee}})]},"onStateChange")}})}catch(g){je.error("Client does not support createAnswerSession method:",g),this.chatStore.state.interactions=[...f||[],{query:l,interactionId:`interaction-${Date.now()}`,response:"Sorry, this client does not support chat functionality.",status:fr.error,latest:!0,sources:[]}];return}}catch(f){je.error("Error creating answer session:",f),this.chatStore.state.interactions=[...m||[],{query:l,interactionId:`interaction-${Date.now()}`,response:"Sorry, there was an error creating the answer session. Please try again later.",status:fr.error,latest:!0,sources:[]}];return}if(!this.answerSession){je.error("Answer session was not created");return}try{this.answerSession.answer?this.askOramaCore(l):this.askOramaCloud(l)}catch{let f=this.chatStore.state.interactions[this.chatStore.state.interactions.length-1];f&&(f.status=fr.error,f.response="Sorry, the answer service is not available. Please try again later.",this.chatStore.state.interactions=[...this.chatStore.state.interactions])}},this.askOramaCore=l=>{let c={interactionID:`interaction-${Date.now()}`,query:l,visitorID:`visitor-${Date.now()}`,sessionID:`session-${Date.now()}`},h=this.answerSession.answerStream(c);o(async()=>{var p,m,f;try{for(var g=!0,_=uC(h),w;w=await _.next(),p=w.done,!p;g=!0)g=!1}catch(D){m={error:D}}finally{try{!g&&!p&&(f=_.return)&&await f.call(_)}finally{if(m)throw m.error}}},"processAsyncGenerator")()},this.askOramaCloud=l=>{let c={term:l,limit:10,threshold:.5,userData:{interactionID:`interaction-${Date.now()}`,sessionID:`session-${Date.now()}`,visitorID:`visitor-${Date.now()}`}};this.answerSession.ask(c)},this.abortAnswer=()=>{if(!this.answerSession)throw new Vc;this.answerSession.abort?this.answerSession.abort():this.answerSession.abortAnswer()},this.regenerateLatest=async()=>{if(!this.answerSession)throw new Vc;this.answerSession.regenerateLast?this.answerSession.regenerateLast({stream:!1}):this.answerSession.regenerateLast({stream:!1})},this.resetChat=async()=>{if(!this.answerSession)throw new Vc;this.chatStore.state.interactions.length<1||(["loading","rendering","streaming"].includes(this.chatStore.state.interactions[this.chatStore.state.interactions.length-1].status)&&this.abortAnswer(),this.answerSession.clearSession(),this.chatStore.state.interactions=[])},this.client=a||new Kb(e),this.chatStore=n}},o(Wo,"ChatService"),Wo);var dC=Object.create,Xb=Object.defineProperty,pC=Object.getOwnPropertyDescriptor,mC=Object.getOwnPropertyNames,fC=Object.getPrototypeOf,gC=Object.prototype.hasOwnProperty,nn=o((s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),"A$1"),EC=o((s,e,a,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of mC(e))!gC.call(s,l)&&l!==a&&Xb(s,l,{get:o(()=>e[l],"get"),enumerable:!(n=pC(e,l))||n.enumerable});return s},"Dt"),Qm=o((s,e,a)=>(a=s!=null?dC(fC(s)):{},EC(e||!s||!s.__esModule?Xb(a,"default",{value:s,enumerable:!0}):a,s)),"Y$1"),Jb=nn(s=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isBytes=n,s.number=e,s.bool=a,s.bytes=l,s.hash=c,s.exists=h,s.output=p;function e(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`positive integer expected, not ${f}`)}o(e,"R");function a(f){if(typeof f!="boolean")throw new Error(`boolean expected, not ${f}`)}o(a,"me");function n(f){return f instanceof Uint8Array||f!=null&&typeof f=="object"&&f.constructor.name==="Uint8Array"}o(n,"ge");function l(f,...g){if(!n(f))throw new Error("Uint8Array expected");if(g.length>0&&!g.includes(f.length))throw new Error(`Uint8Array expected of length ${g}, not of length=${f.length}`)}o(l,"X");function c(f){if(typeof f!="function"||typeof f.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(f.outputLen),e(f.blockLen)}o(c,"ye");function h(f,g=!0){if(f.destroyed)throw new Error("Hash instance has been destroyed");if(g&&f.finished)throw new Error("Hash#digest() has already been called")}o(h,"Se");function p(f,g){l(f);let _=g.outputLen;if(f.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}o(p,"be");var m={number:e,bool:a,bytes:l,hash:c,exists:h,output:p};s.default=m}),TC=nn(s=>{Object.defineProperty(s,"__esModule",{value:!0}),s.add5L=s.add5H=s.add4H=s.add4L=s.add3H=s.add3L=s.rotlBL=s.rotlBH=s.rotlSL=s.rotlSH=s.rotr32L=s.rotr32H=s.rotrBL=s.rotrBH=s.rotrSL=s.rotrSH=s.shrSL=s.shrSH=s.toBig=void 0,s.fromBig=n,s.split=l,s.add=ne;var e=BigInt(2**32-1),a=BigInt(32);function n(se,ge=!1){return ge?{h:Number(se&e),l:Number(se>>a&e)}:{h:Number(se>>a&e)|0,l:Number(se&e)|0}}o(n,"ee");function l(se,ge=!1){let z=new Uint32Array(se.length),U=new Uint32Array(se.length);for(let pe=0;pe<se.length;pe++){let{h:Ve,l:j}=n(se[pe],ge);[z[pe],U[pe]]=[Ve,j]}return[z,U]}o(l,"Ie");var c=o((se,ge)=>BigInt(se>>>0)<<a|BigInt(ge>>>0),"Te");s.toBig=c;var h=o((se,ge,z)=>se>>>z,"we");s.shrSH=h;var p=o((se,ge,z)=>se<<32-z|ge>>>z,"xe");s.shrSL=p;var m=o((se,ge,z)=>se>>>z|ge<<32-z,"Ae");s.rotrSH=m;var f=o((se,ge,z)=>se<<32-z|ge>>>z,"Oe");s.rotrSL=f;var g=o((se,ge,z)=>se<<64-z|ge>>>z-32,"Ee");s.rotrBH=g;var _=o((se,ge,z)=>se>>>z-32|ge<<64-z,"Pe");s.rotrBL=_;var w=o((se,ge)=>ge,"ve");s.rotr32H=w;var D=o((se,ge)=>se,"Ce");s.rotr32L=D;var B=o((se,ge,z)=>se<<z|ge>>>32-z,"_e");s.rotlSH=B;var G=o((se,ge,z)=>ge<<z|se>>>32-z,"Ne");s.rotlSL=G;var ee=o((se,ge,z)=>ge<<z-32|se>>>64-z,"De");s.rotlBH=ee;var ae=o((se,ge,z)=>se<<z-32|ge>>>64-z,"ke");s.rotlBL=ae;function ne(se,ge,z,U){let pe=(ge>>>0)+(U>>>0);return{h:se+z+(pe/2**32|0)|0,l:pe|0}}o(ne,"Le");var Ee=o((se,ge,z)=>(se>>>0)+(ge>>>0)+(z>>>0),"Re");s.add3L=Ee;var Pe=o((se,ge,z,U)=>ge+z+U+(se/2**32|0)|0,"Me");s.add3H=Pe;var me=o((se,ge,z,U)=>(se>>>0)+(ge>>>0)+(z>>>0)+(U>>>0),"Be");s.add4L=me;var ie=o((se,ge,z,U,pe)=>ge+z+U+pe+(se/2**32|0)|0,"Ue");s.add4H=ie;var q=o((se,ge,z,U,pe)=>(se>>>0)+(ge>>>0)+(z>>>0)+(U>>>0)+(pe>>>0),"ze");s.add5L=q;var te=o((se,ge,z,U,pe,Ve)=>ge+z+U+pe+Ve+(se/2**32|0)|0,"He");s.add5H=te;var $e={fromBig:n,split:l,toBig:c,shrSH:h,shrSL:p,rotrSH:m,rotrSL:f,rotrBH:g,rotrBL:_,rotr32H:w,rotr32L:D,rotlSH:B,rotlSL:G,rotlBH:ee,rotlBL:ae,add:ne,add3L:Ee,add3H:Pe,add4L:me,add4H:ie,add5H:te,add5L:q};s.default=$e}),bC=nn(s=>{Object.defineProperty(s,"__esModule",{value:!0}),s.crypto=void 0,s.crypto=typeof y=="object"&&"crypto"in y?y.crypto:void 0}),yC=nn(s=>{var z;Object.defineProperty(s,"__esModule",{value:!0}),s.Hash=s.nextTick=s.byteSwapIfBE=s.byteSwap=s.isLE=s.rotl=s.rotr=s.createView=s.u32=s.u8=void 0,s.isBytes=n,s.byteSwap32=g,s.bytesToHex=w,s.hexToBytes=G,s.asyncLoop=ae,s.utf8ToBytes=ne,s.toBytes=Ee,s.concatBytes=Pe,s.checkOpts=q,s.wrapConstructor=te,s.wrapConstructorWithOpts=$e,s.wrapXOFConstructorWithOpts=se,s.randomBytes=ge;var e=bC(),a=Jb();function n(U){return U instanceof Uint8Array||U!=null&&typeof U=="object"&&U.constructor.name==="Uint8Array"}o(n,"Rt");var l=o(U=>new Uint8Array(U.buffer,U.byteOffset,U.byteLength),"Mt");s.u8=l;var c=o(U=>new Uint32Array(U.buffer,U.byteOffset,Math.floor(U.byteLength/4)),"Bt");s.u32=c;var h=o(U=>new DataView(U.buffer,U.byteOffset,U.byteLength),"Ut");s.createView=h;var p=o((U,pe)=>U<<32-pe|U>>>pe,"zt");s.rotr=p;var m=o((U,pe)=>U<<pe|U>>>32-pe>>>0,"Ht");s.rotl=m,s.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var f=o(U=>U<<24&4278190080|U<<8&16711680|U>>>8&65280|U>>>24&255,"Ft");s.byteSwap=f,s.byteSwapIfBE=s.isLE?U=>U:U=>(0,s.byteSwap)(U);function g(U){for(let pe=0;pe<U.length;pe++)U[pe]=(0,s.byteSwap)(U[pe])}o(g,"Wt");var _=Array.from({length:256},(U,pe)=>pe.toString(16).padStart(2,"0"));function w(U){(0,a.bytes)(U);let pe="";for(let Ve=0;Ve<U.length;Ve++)pe+=_[U[Ve]];return pe}o(w,"$t");var D={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function B(U){if(U>=D._0&&U<=D._9)return U-D._0;if(U>=D._A&&U<=D._F)return U-(D._A-10);if(U>=D._a&&U<=D._f)return U-(D._a-10)}o(B,"Ve");function G(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);let pe=U.length,Ve=pe/2;if(pe%2)throw new Error("padded hex string expected, got unpadded hex of length "+pe);let j=new Uint8Array(Ve);for(let de=0,xe=0;de<Ve;de++,xe+=2){let Ye=B(U.charCodeAt(xe)),H=B(U.charCodeAt(xe+1));if(Ye===void 0||H===void 0){let _e=U[xe]+U[xe+1];throw new Error('hex string expected, got non-hex character "'+_e+'" at index '+xe)}j[de]=Ye*16+H}return j}o(G,"jt");var ee=o(async()=>{},"Jt");s.nextTick=ee;async function ae(U,pe,Ve){let j=Date.now();for(let de=0;de<U;de++){Ve(de);let xe=Date.now()-j;xe>=0&&xe<pe||(await(0,s.nextTick)(),j+=xe)}}o(ae,"Kt");function ne(U){if(typeof U!="string")throw new Error(`utf8ToBytes expected string, got ${typeof U}`);return new Uint8Array(new TextEncoder().encode(U))}o(ne,"$e");function Ee(U){return typeof U=="string"&&(U=ne(U)),(0,a.bytes)(U),U}o(Ee,"U");function Pe(...U){let pe=0;for(let j=0;j<U.length;j++){let de=U[j];(0,a.bytes)(de),pe+=de.length}let Ve=new Uint8Array(pe);for(let j=0,de=0;j<U.length;j++){let xe=U[j];Ve.set(xe,de),de+=xe.length}return Ve}o(Pe,"qt");var me=(z=class{clone(){return this._cloneInto()}},o(z,"te"),z);s.Hash=me;var ie={}.toString;function q(U,pe){if(pe!==void 0&&ie.call(pe)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(U,pe)}o(q,"Yt");function te(U){let pe=o(j=>U().update(Ee(j)).digest(),"e"),Ve=U();return pe.outputLen=Ve.outputLen,pe.blockLen=Ve.blockLen,pe.create=()=>U(),pe}o(te,"Xt");function $e(U){let pe=o((j,de)=>U(de).update(Ee(j)).digest(),"e"),Ve=U({});return pe.outputLen=Ve.outputLen,pe.blockLen=Ve.blockLen,pe.create=j=>U(j),pe}o($e,"Qt");function se(U){let pe=o((j,de)=>U(de).update(Ee(j)).digest(),"e"),Ve=U({});return pe.outputLen=Ve.outputLen,pe.blockLen=Ve.blockLen,pe.create=j=>U(j),pe}o(se,"Zt");function ge(U=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(U));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(U);throw new Error("crypto.getRandomValues must be defined")}o(ge,"en")}),_C=nn(s=>{var me;Object.defineProperty(s,"__esModule",{value:!0}),s.shake256=s.shake128=s.keccak_512=s.keccak_384=s.keccak_256=s.keccak_224=s.sha3_512=s.sha3_384=s.sha3_256=s.sha3_224=s.Keccak=void 0,s.keccakP=ae;var e=Jb(),a=TC(),n=yC(),l=[],c=[],h=[],p=BigInt(0),m=BigInt(1),f=BigInt(2),g=BigInt(7),_=BigInt(256),w=BigInt(113);for(let ie=0,q=m,te=1,$e=0;ie<24;ie++){[te,$e]=[$e,(2*te+3*$e)%5],l.push(2*(5*$e+te)),c.push((ie+1)*(ie+2)/2%64);let se=p;for(let ge=0;ge<7;ge++)q=(q<<m^(q>>g)*w)%_,q&f&&(se^=m<<(m<<BigInt(ge))-m);h.push(se)}var[D,B]=(0,a.split)(h,!0),G=o((ie,q,te)=>te>32?(0,a.rotlBH)(ie,q,te):(0,a.rotlSH)(ie,q,te),"Je"),ee=o((ie,q,te)=>te>32?(0,a.rotlBL)(ie,q,te):(0,a.rotlSL)(ie,q,te),"Ke");function ae(ie,q=24){let te=new Uint32Array(10);for(let $e=24-q;$e<24;$e++){for(let z=0;z<10;z++)te[z]=ie[z]^ie[z+10]^ie[z+20]^ie[z+30]^ie[z+40];for(let z=0;z<10;z+=2){let U=(z+8)%10,pe=(z+2)%10,Ve=te[pe],j=te[pe+1],de=G(Ve,j,1)^te[U],xe=ee(Ve,j,1)^te[U+1];for(let Ye=0;Ye<50;Ye+=10)ie[z+Ye]^=de,ie[z+Ye+1]^=xe}let se=ie[2],ge=ie[3];for(let z=0;z<24;z++){let U=c[z],pe=G(se,ge,U),Ve=ee(se,ge,U),j=l[z];se=ie[j],ge=ie[j+1],ie[j]=pe,ie[j+1]=Ve}for(let z=0;z<50;z+=10){for(let U=0;U<10;U++)te[U]=ie[z+U];for(let U=0;U<10;U++)ie[z+U]^=~te[(U+2)%10]&te[(U+4)%10]}ie[0]^=D[$e],ie[1]^=B[$e]}te.fill(0)}o(ae,"Xe");var ne=(me=class extends n.Hash{constructor(q,te,$e,se=!1,ge=24){if(super(),this.blockLen=q,this.suffix=te,this.outputLen=$e,this.enableXOF=se,this.rounds=ge,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,e.number)($e),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),ae(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(q){(0,e.exists)(this);let{blockLen:te,state:$e}=this;q=(0,n.toBytes)(q);let se=q.length;for(let ge=0;ge<se;){let z=Math.min(te-this.pos,se-ge);for(let U=0;U<z;U++)$e[this.pos++]^=q[ge++];this.pos===te&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:q,suffix:te,pos:$e,blockLen:se}=this;q[$e]^=te,te&128&&$e===se-1&&this.keccak(),q[se-1]^=128,this.keccak()}writeInto(q){(0,e.exists)(this,!1),(0,e.bytes)(q),this.finish();let te=this.state,{blockLen:$e}=this;for(let se=0,ge=q.length;se<ge;){this.posOut>=$e&&this.keccak();let z=Math.min($e-this.posOut,ge-se);q.set(te.subarray(this.posOut,this.posOut+z),se),this.posOut+=z,se+=z}return q}xofInto(q){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(q)}xof(q){return(0,e.number)(q),this.xofInto(new Uint8Array(q))}digestInto(q){if((0,e.output)(q,this),this.finished)throw new Error("digest() was already called");return this.writeInto(q),this.destroy(),q}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(q){let{blockLen:te,suffix:$e,outputLen:se,rounds:ge,enableXOF:z}=this;return q||(q=new me(te,$e,se,z,ge)),q.state32.set(this.state32),q.pos=this.pos,q.posOut=this.posOut,q.finished=this.finished,q.rounds=ge,q.suffix=$e,q.outputLen=se,q.enableXOF=z,q.destroyed=this.destroyed,q}},o(me,"t"),me);s.Keccak=ne;var Ee=o((ie,q,te)=>(0,n.wrapConstructor)(()=>new ne(q,ie,te)),"T");s.sha3_224=Ee(6,144,224/8),s.sha3_256=Ee(6,136,256/8),s.sha3_384=Ee(6,104,384/8),s.sha3_512=Ee(6,72,512/8),s.keccak_224=Ee(1,144,224/8),s.keccak_256=Ee(1,136,256/8),s.keccak_384=Ee(1,104,384/8),s.keccak_512=Ee(1,72,512/8);var Pe=o((ie,q,te)=>(0,n.wrapXOFConstructorWithOpts)(($e={})=>new ne(q,ie,$e.dkLen===void 0?te:$e.dkLen,!0)),"Qe");s.shake128=Pe(31,168,128/8),s.shake256=Pe(31,136,256/8)}),AC=nn((s,e)=>{var{sha3_512:a}=_C(),n=24,l=32,c=o((ee=4,ae=Math.random)=>{let ne="";for(;ne.length<ee;)ne=ne+Math.floor(ae()*36).toString(36);return ne},"re");function h(ee){let ae=BigInt(8),ne=BigInt(0);for(let Ee of ee.values()){let Pe=BigInt(Ee);ne=(ne<<ae)+Pe}return ne}o(h,"nt");var p=o((ee="")=>h(a(ee)).toString(36).slice(1),"rt"),m=Array.from({length:26},(ee,ae)=>String.fromCharCode(ae+97)),f=o(ee=>m[Math.floor(ee()*m.length)],"un"),g=o(({globalObj:ee=typeof global<"u"?global:typeof Rt<"u"?Rt:{},random:ae=Math.random}={})=>{let ne=Object.keys(ee).toString(),Ee=ne.length?ne+c(l,ae):c(l,ae);return p(Ee).substring(0,l)},"st"),_=o(ee=>()=>ee++,"ot"),w=476782367,D=o(({random:ee=Math.random,counter:ae=_(Math.floor(ee()*w)),length:ne=n,fingerprint:Ee=g({random:ee})}={})=>function(){let Pe=f(ee),me=Date.now().toString(36),ie=ae().toString(36),q=c(ne,ee),te=`${me+q+ie+Ee}`;return`${Pe+p(te).substring(1,ne)}`},"it"),B=D(),G=o((ee,{minLength:ae=2,maxLength:ne=l}={})=>{let Ee=ee.length,Pe=/^[a-z][0-9a-z]+$/;try{if(typeof ee=="string"&&Ee>=ae&&Ee<=ne&&Pe.test(ee))return!0}finally{}return!1},"fn");e.exports.getConstants=()=>({defaultLength:n,bigLength:l}),e.exports.init=D,e.exports.createId=B,e.exports.bufToBigInt=h,e.exports.createCounter=_,e.exports.createFingerprint=g,e.exports.isCuid=G}),Xm=nn((s,e)=>{var{createId:a,init:n,getConstants:l,isCuid:c}=AC();e.exports.createId=a,e.exports.init=n,e.exports.getConstants=l,e.exports.isCuid=c}),vC=Qm(Xm(),1),SC={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},CC=Object.keys(SC);Date.now().toString().slice(5);var ey=BigInt(1e3),ty=BigInt(1e6),ry=BigInt(1e9);function sy(s){return typeof s=="number"&&(s=BigInt(s)),s<ey?`${s}ns`:s<ty?`${s/ey}μs`:s<ry?`${s/ty}ms`:`${s/ry}s`}o(sy,"dt"),CC.join(`
 - `);function Jm(s){return{raw:Number(s),formatted:sy(s)}}o(Jm,"oe");var ay="2.1.4",kC={version:ay},ny=Qm(Xm(),1),wC="https://answer.api.orama.com",IC="/v1/indexes",iy="orama_user_id";function oy(s){let[e,...a]=s.split(`
`),n=a.join(`
`).replace("data: ","");return{event:e.replace("event: ",""),data:n}}o(oy,"bt");function ef(s){return typeof s=="object"?JSON.stringify(s):`${s}`}o(ef,"ae");var NC=(Yo=class{messages;inferenceType;oramaClient;endpoint;abortController;events;userContext;conversationID;lastInteractionParams;state=[];systemPrompts;constructor(e){let a=e.oramaClient.answersApiBaseURL||wC;this.messages=e.initialMessages||[],this.inferenceType=e.inferenceType,this.oramaClient=e.oramaClient,this.endpoint=`${a}/v1/answer?api-key=${this.oramaClient.api_key}`,this.events=e.events,this.conversationID=(0,ny.createId)(),this.userContext=e.userContext}async askStream(e){return this.messages.push({role:"user",content:e.term??""}),this.fetchAnswer(e)}async ask(e){let a=await this.askStream(e),n="";for await(let l of a)n=l;return this.events?.onMessageChange&&this.events.onMessageChange(this.messages),n}getMessages(){return this.messages}clearSession(){this.messages=[],this.state=[],this.events?.onMessageChange&&this.events.onMessageChange(this.messages),this.events?.onStateChange&&this.events.onStateChange(this.state)}abortAnswer(){if(!this.abortController)throw new Error("AbortController is not ready");this.abortController.abort(),this.abortController=void 0,this.state[this.state.length-1].aborted=!0}async regenerateLast({stream:e=!0}={}){if(this.state.length===0||this.messages.length===0)throw new Error("No messages to regenerate");if(this.messages.at(-1)?.role!=="assistant")throw new Error("Last message is not an assistant message");return this.messages.pop(),this.state.pop(),e?this.askStream(this.lastInteractionParams):this.ask(this.lastInteractionParams)}addNewEmptyAssistantMessage(){this.messages.push({role:"assistant",content:""})}async*fetchAnswer(e){this.abortController=new AbortController,this.lastInteractionParams=e;let a=(0,ny.createId)(),n=null,l=this.state.length;this.state.push({interactionId:a,query:e.term??"",response:"",relatedQueries:null,sources:null,translatedQuery:null,segment:null,trigger:null,aborted:!1,loading:!0,error:!1,errorMessage:null});try{this.events?.onNewInteractionStarted&&this.events.onNewInteractionStarted(a),this.events?.onStateChange&&this.events.onStateChange(this.state);let c=new URLSearchParams;c.append("type",this.inferenceType),c.append("messages",JSON.stringify(this.messages)),c.append("query",e.term??""),c.append("conversationId",this.conversationID),c.append("userId",this.oramaClient.getUserId()),c.append("endpoint",this.oramaClient.endpoint),c.append("searchParams",JSON.stringify(e)),c.append("identity",this.oramaClient.getIdentity()??""),c.append("interactionId",a),c.append("alias",this.oramaClient.getAlias()??"");let h=this.getSystemPromptConfiguration();if(h&&c.append("systemPrompts",JSON.stringify(h)),this.userContext&&c.append("userContext",ef(this.userContext)),e.userData&&c.append("userData",ef(e.userData)),e.related){if(e.related?.howMany&&e.related?.howMany>5)throw new Error("Can generate at most 5 related queries");c.append("related",JSON.stringify({enabled:!0,howMany:e.related.howMany??3,format:e.related.format??"question"}))}let p=await mt(this.endpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c.toString(),signal:this.abortController.signal});if(!p.ok||!p.body)throw new Error(p.statusText);n=p.body.getReader();let m=new TextDecoder,f=[],g="";this.events?.onMessageLoading&&this.events.onMessageLoading(!0),this.addNewEmptyAssistantMessage();let _=this.messages.at(-1);for(;;){let{value:w,done:D}=await n.read();if(D)break;g+=m.decode(w,{stream:!0});let B;for(;(B=g.indexOf(`

`))!==-1;){let G=g.slice(0,B);g=g.slice(B+2);try{let ee=oy(G),ae=JSON.parse(ee.data);if(ae.type==="sources")this.state[l].sources=ae.message,this.events?.onSourceChange&&this.events.onSourceChange(ae.message),this.events?.onStateChange&&this.events.onStateChange(this.state);else if(ae.type==="query-translated")this.state[l].translatedQuery=ae.message,this.events?.onQueryTranslated&&this.events.onQueryTranslated(ae.message),this.events?.onStateChange&&this.events.onStateChange(this.state);else if(ae.type==="conversation-metadata"){let{segment:ne,trigger:Ee}=ae.message;ne&&(this.state[l].segment=ne),Ee&&(this.state[l].trigger=Ee),this.events?.onStateChange&&this.events.onStateChange(this.state)}else if(ae.type==="related-queries")this.state[l].relatedQueries=ae.message,this.events?.onRelatedQueries&&this.events.onRelatedQueries(ae.message),this.events?.onStateChange&&this.events.onStateChange(this.state);else if(ae.type==="text")for(f.push(ae.message);f.length>0;)_.content+=f.shift(),this.state[l].response=_.content,this.events?.onStateChange&&this.events.onStateChange(this.state),this.events?.onMessageChange&&this.events.onMessageChange(this.messages),yield _.content}catch(ee){je.error("Error parsing SSE event:",ee),je.error("Raw message:",G)}}}}catch(c){if(c.name==="AbortError")this.state[l].aborted=!0,this.events?.onAnswerAborted&&this.events.onAnswerAborted(!0);else throw this.state[l].error=!0,this.state[l].errorMessage=c.message??"Unknown error",c}finally{n?.releaseLock(),this.state[l].loading=!1,this.events?.onStateChange&&this.events.onStateChange(this.state),this.events?.onInteractionDone&&this.events.onInteractionDone(this.state[l]),this.events?.onMessageLoading&&this.events.onMessageLoading(!1)}}setSystemPromptConfiguration(e){if(Array.isArray(e.systemPrompts)){if(!e.systemPrompts.every(a=>typeof a=="string"))throw new Error("Invalid system prompt configuration");this.systemPrompts=e.systemPrompts}return this}getSystemPromptConfiguration(){return this.systemPrompts}},o(Yo,"H$1"),Yo),LC=(qo=class{cache;config;constructor(e){this.cache=new Map,this.config=e}set(e,a){this.cache.set(e,a)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}size(){return this.cache.size}},o(qo,"F$1"),qo);function qu(s,e){if(typeof Ct<"u"){typeof Ct.sendBeacon<"u"&&Ct.sendBeacon(s,e);return}mt(s,{method:"POST",body:e,headers:{"Content-Type":"application/json"}}).then(()=>{},a=>je.log(a))}o(qu,"O$3");var xC=(Tn=class{data;params;config;profile;constructor(e,a){this.data=[],this.config=e,this.profile=a}setParams(e){this.params=e}static create(e,a){let n=new Tn(e,a);return n.start(),n}add(e){this.data.push({rawSearchString:e.rawSearchString,query:e.query,resultsCount:e.resultsCount,roundTripTime:e.roundTripTime,searchedAt:e.searchedAt,userId:this.profile.getUserId(),identity:this.profile.getIdentity(),alias:this.profile.getAlias(),referer:typeof Jt<"u"?Jt.toString():void 0}),this.params!=null&&this.data.length>=this.config.flushSize&&this.flush()}flush(){if(this.params==null||this.data.length===0)return;let e=this.data;this.data=[];let a={source:"fe",deploymentID:this.params.deploymentID,index:this.params.index,oramaId:this.config.id,oramaVersion:kC.version,userAgent:typeof Ct<"u"?Ct.userAgent:void 0,events:e};qu(`${this.params.endpoint}?api-key=${this.config.api_key}`,JSON.stringify(a))?.catch(n=>je.log(n))}start(){let e=Be(this.flush.bind(this),this.config.flushInterval);e.unref!=null&&e.unref()}},o(Tn,"t"),Tn),RC=(Ko=class{constructor(e){this.params=e}intervalId;start(){this.stop(),this.intervalId=Be(this.beat.bind(this),this.params.frequency)}stop(){this.intervalId!==void 0&&Y(this.intervalId)}beat(){qu(this.params.endpoint)?.catch(e=>je.log(e))}},o(Ko,"V$1"),Ko),tf=Qm(Xm(),1),OC=(Qo=class{endpoint;apiKey;userId;identity;userAlias;params;constructor({endpoint:e,apiKey:a}){if(!e||!a)throw new Error("Endpoint and API Key are required to create a Profile");if(typeof e!="string"||typeof a!="string")throw new Error("Endpoint and API Key must be strings");if(typeof K<"u"){let n=K.getItem(iy);n?this.userId=n:(this.userId=(0,tf.createId)(),K.setItem(iy,this.userId))}else this.userId=(0,tf.createId)();this.endpoint=e,this.apiKey=a}setParams(e){let{protocol:a,host:n}=new yt(e.identifyUrl),l=`${a}//${n}/identify`;this.params={identifyUrl:l,index:e.index}}getIdentity(){return this.identity}getUserId(){return this.userId}getAlias(){return this.userAlias}async sendProfileData(e){if(!this.params)throw new Error("Orama Profile is not initialized");let a=JSON.stringify({...e,visitorId:this.getUserId(),index:this.params.index});await qu(`${this.params?.identifyUrl}?api-key=${this.apiKey}`,a)}async identify(e,a){if(typeof a!="string")throw new Error("Identity must be a string");await e,await this.sendProfileData({entity:"identity",id:a}),this.identity=a}async alias(e,a){if(typeof a!="string")throw new Error("Identity must be a string");await e,await this.sendProfileData({entity:"alias",id:a}),this.userAlias=a}reset(){this.userId=(0,tf.createId)(),this.identity=void 0,this.userAlias=void 0}},o(Qo,"j$1"),Qo);function ly(s){return s!==void 0&&s?.signal!==void 0}o(ly,"vn");var cy=(Xo=class{id=(0,vC.createId)();api_key;endpoint;multiIndexSearch;mergeResults;multiIndexIndexes;answersApiBaseURL;collector;cache;profile;searchDebounceTimer;searchRequestCounter=0;blockSearchTillAuth=!1;heartbeat;initPromise;constructor(e){if("indexes"in e){this.api_key=e.indexes[0].api_key,this.multiIndexIndexes=e.indexes;let a=new yt(e.indexes[0].endpoint).origin;if(e.indexes.some(n=>new yt(n.endpoint).origin!==a))throw new Error("All indexes must have the same endpoint origin");this.endpoint=a+IC,this.multiIndexSearch=!0,this.mergeResults=e.mergeResults??!0}else this.api_key=e.api_key,this.endpoint=e.endpoint,this.multiIndexSearch=!1,this.mergeResults=!0;if(this.answersApiBaseURL=e.answersApiBaseURL,this.profile=new OC({endpoint:this.endpoint,apiKey:this.api_key}),e.telemetry!==!1){let a={id:this.id,api_key:this.api_key,flushInterval:e.telemetry?.flushInterval??5e3,flushSize:e.telemetry?.flushSize??25};this.collector=xC.create(a,this.profile)}if(e.cache!==!1){let a={};this.cache=new LC(a)}this.init()}customerUserToken=void 0;searchToken=void 0;setAuthToken(e){e===null?(this.customerUserToken=void 0,this.searchToken=void 0):(this.customerUserToken=e,this.searchToken=void 0),this.init()}onAuthTokenExpired;setOnAuthTokenExpired(e){this.onAuthTokenExpired=e}addSearchResultsToCollector(e,a,n,l){if(this.collector)if(Array.isArray(e))for(let c of e)this.collector.add({rawSearchString:n.term,resultsCount:c.hits?.length??0,roundTripTime:a,query:n,cached:l,searchedAt:new Date,userId:this.profile.getUserId()});else this.collector.add({rawSearchString:n.term,resultsCount:e?.hits?.length??0,roundTripTime:a,query:n,cached:l,searchedAt:new Date,userId:this.profile.getUserId()})}async search(e,a){if(await this.initPromise,this.blockSearchTillAuth)return je.warn("Search request blocked until user is authenticated"),null;let n=++this.searchRequestCounter,l=`search-${JSON.stringify(e)}`,c=null,h,p=!1,m=a?.fresh!==!0&&this.cache?.has(l),f=o(async()=>{try{let g=Date.now();this.multiIndexSearch?c=await this.fetch("multi_search","POST",{q:{...e,mergeResults:this.mergeResults},sst:this.searchToken,indexes:this.multiIndexIndexes},a?.abortController):c=await this.fetch("search","POST",{q:e,sst:this.searchToken},a?.abortController);let _=Date.now();h=_-g;let w=await Jm(BigInt(_*1e6-g*1e6));if(!Array.isArray(c))c.elapsed=w;else for(let D of c)D.elapsed=w;this.cache?.set(l,c)}catch(g){if(g.name!=="AbortError")throw je.error("Search request failed",g),g}return this.addSearchResultsToCollector(c,h,e,p),c},"h");if(m&&this.cache)h=0,c=this.cache.get(l),p=!0,this.addSearchResultsToCollector(c,h,e,p);else return a?.debounce?new Promise((g,_)=>{be(this.searchDebounceTimer),this.searchDebounceTimer=Fe(async()=>{try{await f(),g(c)}catch(w){w.name!=="AbortError"&&(je.error("Search request failed",w),_(w))}},a?.debounce||300),"unref"in this.searchDebounceTimer&&this.searchDebounceTimer.unref()}):f();return n===this.searchRequestCounter?c:null}async vectorSearch(e,a){await this.initPromise;let n=`vectorSearch-${JSON.stringify(e)}`,l,c,h=!1;if((a?.fresh!==!0&&this.cache?.has(n))===!0&&this.cache!=null)l=0,c=this.cache.get(n),h=!0;else{let p=Date.now();c=await this.fetch("vector-search2","POST",{q:e},a?.abortSignal??a?.abortController);let m=Date.now();c.elapsed=await Jm(BigInt(m*1e6-p*1e6)),l=m-p,this.cache?.set(n,c)}return this.collector!=null&&this.collector.add({rawSearchString:e.term,resultsCount:c.hits?.length??0,roundTripTime:l,query:e,cached:h,searchedAt:new Date,userId:this.profile.getUserId()}),c}createAnswerSession(e){return new NC({inferenceType:e?.inferenceType||"documentation",initialMessages:e?.initialMessages||[],oramaClient:this,events:e?.events,userContext:e?.userContext,systemPrompts:e?.systemPrompts??[]})}startHeartBeat(e){this.heartbeat?.stop(),this.heartbeat=new RC({...e,endpoint:`${this.endpoint}/health?api-key=${this.api_key}`}),this.heartbeat.start()}stopHeartBeat(){this.heartbeat?.stop()}async getPop(){return(await this.initPromise)?.pop??""}expirationTimer;init(){let e=["init","GET",void 0,void 0,{token:this.customerUserToken}];this.multiIndexSearch&&(e=["init_multi_search","POST",{indexes:this.multiIndexIndexes},void 0,{token:this.customerUserToken}]),this.initPromise=this.fetch(...e).then(a=>{if(this.collector?.setParams({endpoint:a.collectUrl,deploymentID:a.deploymentID,index:a.index}),this.profile?.setParams({identifyUrl:a.collectUrl,index:a.index}),a.searchSession){if("required"in a.searchSession&&a.searchSession.required===!0)this.blockSearchTillAuth=!0;else if("token"in a.searchSession){let n=a.searchSession.token;this.searchToken=n;let l=a.searchSession.maxAge;this.blockSearchTillAuth=!1,this.expirationTimer&&be(this.expirationTimer),this.expirationTimer=Fe(()=>{this.searchToken===n&&(this.searchToken=void 0,this.blockSearchTillAuth=!0,this.onAuthTokenExpired?.(n))},l*1e3),"unref"in this.expirationTimer&&this.expirationTimer.unref()}}return a}).catch(a=>(je.log(a),null))}async fetch(e,a,n,l,c){let h=ly(l)?l?.signal:l;if(h?.aborted===!0)throw new Error("Request aborted");let p={method:a,headers:{"Content-Type":"application/x-www-form-urlencoded"},signal:h};if(a==="POST"&&n!==void 0){let g=n;g.version=ay,g.id=this.id,g.visitorId=this.profile.getUserId(),p.body=Object.entries(g).filter(([_,w])=>!!w).map(([_,w])=>`${_}=${encodeURIComponent(JSON.stringify(w))}`).join("&")}let m=new yt(`${this.endpoint}/${e}`);if(this.multiIndexSearch||m.searchParams.append("api-key",this.api_key),c)for(let[g,_]of Object.entries(c))_&&m.searchParams.append(g,_);let f=await mt(m,p);if(!f.ok){let g=new Error;throw g.httpResponse=f,g}return await f.json()}getIdentity(){return this.profile.getIdentity()}getUserId(){return this.profile.getUserId()}getAlias(){return this.profile.getAlias()}async identify(e){if(this.initPromise===void 0)throw new Error("OramaClient not initialized");await this.profile.identify(this.initPromise,e)}async alias(e){if(this.initPromise===void 0)throw new Error("OramaClient not initialized");await this.profile.alias(this.initPromise,e)}reset(){this.profile.reset()}},o(Xo,"It"),Xo);function hy(s,e,a="[focus-on-arrow-nav]"){if(e.key!=="ArrowDown"&&e.key!=="ArrowUp")return;e.stopPropagation(),e.preventDefault();let n=s.querySelectorAll(a),l=Array.from(n);l=l.filter(g=>g.tabIndex!==-1);let c=l[0],h=l[l.length-1],p=s.querySelector(":focus"),m=l.indexOf(p),f;e.key==="ArrowDown"?(f=m===l.length-1?c:l[m+1],f?.focus()):e.key==="ArrowUp"&&(f=m===0?h:l[m-1],f?.focus())}o(hy,"arrowKeysNavigation");function uy(s){var e;if(!((e=Ct.clipboard)===null||e===void 0)&&e.writeText)Ct.clipboard.writeText(s).catch(a=>{je.error("Could not copy text: ",a)});else{let a=Nt.createElement("textarea");a.value=s,a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-9999px",Nt.body.appendChild(a),a.select(),Nt.execCommand("copy"),Nt.body.removeChild(a)}}o(uy,"copyToClipboard");function th(s,e){return Array.from(s.attributes).reduce((a,n)=>(e.includes(n.name)||(a[n.name]=n.value),a),{})}o(th,"getNonExplicitAttributes");function rf(s,e,a,n){let l=`
    Component: ${s.tagName.toLowerCase()}
    Id: ${s.id}
  `;if(!e&&!a&&!n)throw new Error(`Invalid component configuration. Please provide a valid index or instance prop. ${l}`);if(e){if(a||n)throw new Error(`Invalid component configuration. Only one of indexOrIndexes, instance, or oramaCoreInstance can be provided. ${l}`);if((Array.isArray(e)?e:[e]).some(c=>!c?.api_key||!c?.endpoint))throw new Error(`Invalid cloud index configuration. Please provide a valid api_key and endpoint ${l}`);return}if(a){if(e||n)throw new Error(`Invalid component configuration. Only one of indexOrIndexes, instance, or oramaCoreInstance can be provided. ${l}`);return}if(n){if(e||a)throw new Error(`Invalid component configuration. Only one of indexOrIndexes, instance, or oramaCoreInstance can be provided. ${l}`);return}throw new Error(`Invalid instance. Expected either an OramaClient, Orama OSS database, or CollectionManager-like object. ${l}`)}o(rf,"validateCloudIndexConfig");function sf(s){if(Array.isArray(s)){let a=s;return new cy({mergeResults:!0,indexes:a})}let e=s;return new cy({api_key:e.api_key,endpoint:e.endpoint})}o(sf,"initOramaClient");function Ku(s){return`${`orama-ui-${s}`}-${Math.random().toString(36).substring(2,15)}`}o(Ku,"generateRandomID");function Qu(s,e,a){let n=e==="system"?a:e;return s&&n&&(s.classList.remove("theme-light","theme-dark"),s.classList.add(`theme-${n}`)),n}o(Qu,"updateThemeClasses");function Xu(s,e,a){var n;if(!(!s||!a||!e))for(let l of Object.keys(a))if(l==="colors"){if(!((n=a[l])===null||n===void 0)&&n[e])for(let c of Object.keys(a[l][e]))s.style.setProperty(`${c}`,a[l][e][c])}else for(let c of Object.keys(a[l]))s.style.setProperty(`${c}`,a[l][c])}o(Xu,"updateCssVariables");let Ju=y,af=Ju.ShadowRoot&&(Ju.ShadyCSS===void 0||Ju.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in $t.prototype&&"replace"in CSSStyleSheet.prototype,nf=Symbol(),dy=new WeakMap,py=(Jo=class{constructor(e,a,n){if(this._$cssResult$=!0,n!==nf)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=a}get styleSheet(){let e=this.o,a=this.t;if(af&&e===void 0){let n=a!==void 0&&a.length===1;n&&(e=dy.get(a)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&dy.set(a,e))}return e}toString(){return this.cssText}},o(Jo,"l$5"),Jo),MC=o(s=>new py(typeof s=="string"?s:s+"",void 0,nf),"h$2"),ar=o((s,...e)=>{let a=s.length===1?s[0]:e.reduce((n,l,c)=>n+(h=>{if(h._$cssResult$===!0)return h.cssText;if(typeof h=="number")return h;throw Error("Value passed to 'css' function must be a 'css' function result: "+h+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+s[c+1],s[0]);return new py(a,s,nf)},"p$3"),DC=o((s,e)=>{if(af)s.adoptedStyleSheets=e.map(a=>a instanceof CSSStyleSheet?a:a.styleSheet);else for(let a of e){let n=Nt.createElement("style"),l=Ju.litNonce;l!==void 0&&n.setAttribute("nonce",l),n.textContent=a.cssText,s.appendChild(n)}},"d$5"),my=af?s=>s:s=>s instanceof CSSStyleSheet?(e=>{let a="";for(let n of e.cssRules)a+=n.cssText;return MC(a)})(s):s,{is:PC,defineProperty:$C,getOwnPropertyDescriptor:HC,getOwnPropertyNames:BC,getOwnPropertySymbols:UC,getPrototypeOf:FC}=Object,io=y,fy=io.trustedTypes,zC=fy?fy.emptyScript:"",GC=io.reactiveElementPolyfillSupport,rh=o((s,e)=>s,"l$4"),ed={toAttribute(s,e){switch(e){case Boolean:s=s?zC:null;break;case Object:case Array:s=s==null?s:JSON.stringify(s)}return s},fromAttribute(s,e){let a=s;switch(e){case Boolean:a=s!==null;break;case Number:a=s===null?null:Number(s);break;case Object:case Array:try{a=JSON.parse(s)}catch{a=null}}return a}},of=o((s,e)=>!PC(s,e),"y$2"),gy={attribute:!0,type:String,converter:ed,reflect:!1,hasChanged:of};Symbol.metadata!=null||(Symbol.metadata=Symbol("metadata")),io.litPropertyMetadata!=null||(io.litPropertyMetadata=new WeakMap);let oo=(el=class extends xs{static addInitializer(e){var a;this._$Ei(),((a=this.l)!=null?a:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,a=gy){if(a.state&&(a.attribute=!1),this._$Ei(),this.elementProperties.set(e,a),!a.noAccessor){let n=Symbol(),l=this.getPropertyDescriptor(e,n,a);l!==void 0&&$C(this.prototype,e,l)}}static getPropertyDescriptor(e,a,n){var l;let{get:c,set:h}=(l=HC(this.prototype,e))!=null?l:{get(){return this[a]},set(p){this[a]=p}};return{get(){return c?.call(this)},set(p){let m=c?.call(this);h.call(this,p),this.requestUpdate(e,m,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var a;return(a=this.elementProperties.get(e))!=null?a:gy}static _$Ei(){if(this.hasOwnProperty(rh("elementProperties")))return;let e=FC(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(rh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(rh("properties"))){let a=this.properties,n=[...BC(a),...UC(a)];for(let l of n)this.createProperty(l,a[l])}let e=this[Symbol.metadata];if(e!==null){let a=litPropertyMetadata.get(e);if(a!==void 0)for(let[n,l]of a)this.elementProperties.set(n,l)}this._$Eh=new Map;for(let[a,n]of this.elementProperties){let l=this._$Eu(a,n);l!==void 0&&this._$Eh.set(l,a)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let a=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let l of n)a.unshift(my(l))}else e!==void 0&&a.push(my(e));return a}static _$Eu(e,a){let n=a.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(a=>this.enableUpdating=a),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(a=>a(this))}addController(e){var a,n;((a=this._$EO)!=null?a:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var a;(a=this._$EO)==null||a.delete(e)}_$E_(){let e=new Map,a=this.constructor.elementProperties;for(let n of a.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;let a=(e=this.shadowRoot)!=null?e:this.attachShadow(this.constructor.shadowRootOptions);return DC(a,this.constructor.elementStyles),a}connectedCallback(){var e;this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(a=>{var n;return(n=a.hostConnected)==null?void 0:n.call(a)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(a=>{var n;return(n=a.hostDisconnected)==null?void 0:n.call(a)})}attributeChangedCallback(e,a,n){this._$AK(e,n)}_$EC(e,a){var n;let l=this.constructor.elementProperties.get(e),c=this.constructor._$Eu(e,l);if(c!==void 0&&l.reflect===!0){let h=(((n=l.converter)==null?void 0:n.toAttribute)!==void 0?l.converter:ed).toAttribute(a,l.type);this._$Em=e,h==null?this.removeAttribute(c):this.setAttribute(c,h),this._$Em=null}}_$AK(e,a){var n;let l=this.constructor,c=l._$Eh.get(e);if(c!==void 0&&this._$Em!==c){let h=l.getPropertyOptions(c),p=typeof h.converter=="function"?{fromAttribute:h.converter}:((n=h.converter)==null?void 0:n.fromAttribute)!==void 0?h.converter:ed;this._$Em=c,this[c]=p.fromAttribute(a,h.type),this._$Em=null}}requestUpdate(e,a,n){var l;if(e!==void 0){if(n!=null||(n=this.constructor.getPropertyOptions(e)),!((l=n.hasChanged)!=null?l:of)(this[e],a))return;this.P(e,a,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,a,n){var l;this._$AL.has(e)||this._$AL.set(e,a),n.reflect===!0&&this._$Em!==e&&((l=this._$Ej)!=null?l:this._$Ej=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(a){Promise.reject(a)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[c,h]of this._$Ep)this[c]=h;this._$Ep=void 0}let l=this.constructor.elementProperties;if(l.size>0)for(let[c,h]of l)h.wrapped!==!0||this._$AL.has(c)||this[c]===void 0||this.P(c,this[c],h)}let a=!1,n=this._$AL;try{a=this.shouldUpdate(n),a?(this.willUpdate(n),(e=this._$EO)==null||e.forEach(l=>{var c;return(c=l.hostUpdate)==null?void 0:c.call(l)}),this.update(n)):this._$EU()}catch(l){throw a=!1,this._$EU(),l}a&&this._$AE(n)}willUpdate(e){}_$AE(e){var a;(a=this._$EO)==null||a.forEach(n=>{var l;return(l=n.hostUpdated)==null?void 0:l.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(a=>this._$EC(a,this[a]))),this._$EU()}updated(e){}firstUpdated(e){}},o(el,"c$4"),el);var Ey;oo.elementStyles=[],oo.shadowRootOptions={mode:"open"},oo[rh("elementProperties")]=new Map,oo[rh("finalized")]=new Map,GC?.({ReactiveElement:oo}),((Ey=io.reactiveElementVersions)!=null?Ey:io.reactiveElementVersions=[]).push("2.0.4");let td=y,rd=td.trustedTypes,Ty=rd?rd.createPolicy("lit-html",{createHTML:o(s=>s,"createHTML")}):void 0,by="$lit$",Ia=`lit$${Math.random().toFixed(9).slice(2)}$`,yy="?"+Ia,jC=`<${yy}>`,on=Nt,sh=o(()=>on.createComment(""),"x"),ah=o(s=>s===null||typeof s!="object"&&typeof s!="function","H"),_y=Array.isArray,VC=o(s=>_y(s)||typeof s?.[Symbol.iterator]=="function","Z$1"),lf=`[ 	
\f\r]`,nh=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ay=/-->/g,vy=/>/g,ln=RegExp(`>|${lf}(?:([^\\s"'>=/]+)(${lf}*=${lf}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Sy=/'/g,Cy=/"/g,ky=/^(?:script|style|textarea|title)$/i,wy=o(s=>(e,...a)=>({_$litType$:s,strings:e,values:a}),"O$1"),nr=wy(1),Q=wy(2),lo=Symbol.for("lit-noChange"),ir=Symbol.for("lit-nothing"),Iy=new WeakMap,cn=on.createTreeWalker(on,129);function cf(s,e){if(!Array.isArray(s)||!s.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ty!==void 0?Ty.createHTML(e):e}o(cf,"z");let ZC=o((s,e)=>{let a=s.length-1,n=[],l,c=e===2?"<svg>":"",h=nh;for(let p=0;p<a;p++){let m=s[p],f,g,_=-1,w=0;for(;w<m.length&&(h.lastIndex=w,g=h.exec(m),g!==null);)w=h.lastIndex,h===nh?g[1]==="!--"?h=Ay:g[1]!==void 0?h=vy:g[2]!==void 0?(ky.test(g[2])&&(l=RegExp("</"+g[2],"g")),h=ln):g[3]!==void 0&&(h=ln):h===ln?g[0]===">"?(h=l??nh,_=-1):g[1]===void 0?_=-2:(_=h.lastIndex-g[2].length,f=g[1],h=g[3]===void 0?ln:g[3]==='"'?Cy:Sy):h===Cy||h===Sy?h=ln:h===Ay||h===vy?h=nh:(h=ln,l=void 0);let D=h===ln&&s[p+1].startsWith("/>")?" ":"";c+=h===nh?m+jC:_>=0?(n.push(f),m.slice(0,_)+by+m.slice(_)+Ia+D):m+Ia+(_===-2?p:D)}return[cf(s,c+(s[a]||"<?>")+(e===2?"</svg>":"")),n]},"q"),hf=(bn=class{constructor({strings:e,_$litType$:a},n){let l;this.parts=[];let c=0,h=0,p=e.length-1,m=this.parts,[f,g]=ZC(e,a);if(this.el=bn.createElement(f,n),cn.currentNode=this.el.content,a===2){let _=this.el.content.firstChild;_.replaceWith(..._.childNodes)}for(;(l=cn.nextNode())!==null&&m.length<p;){if(l.nodeType===1){if(l.hasAttributes())for(let _ of l.getAttributeNames())if(_.endsWith(by)){let w=g[h++],D=l.getAttribute(_).split(Ia),B=/([.?@])?(.*)/.exec(w);m.push({type:1,index:c,name:B[2],strings:D,ctor:B[1]==="."?YC:B[1]==="?"?qC:B[1]==="@"?KC:sd}),l.removeAttribute(_)}else _.startsWith(Ia)&&(m.push({type:6,index:c}),l.removeAttribute(_));if(ky.test(l.tagName)){let _=l.textContent.split(Ia),w=_.length-1;if(w>0){l.textContent=rd?rd.emptyScript:"";for(let D=0;D<w;D++)l.append(_[D],sh()),cn.nextNode(),m.push({type:2,index:++c});l.append(_[w],sh())}}}else if(l.nodeType===8)if(l.data===yy)m.push({type:2,index:c});else{let _=-1;for(;(_=l.data.indexOf(Ia,_+1))!==-1;)m.push({type:7,index:c}),_+=Ia.length-1}c++}}static createElement(e,a){let n=on.createElement("template");return n.innerHTML=e,n}},o(bn,"T"),bn);function hn(s,e,a=s,n){var l,c,h;if(e===lo)return e;let p=n!==void 0?(l=a._$Co)==null?void 0:l[n]:a._$Cl,m=ah(e)?void 0:e._$litDirective$;return p?.constructor!==m&&((c=p?._$AO)==null||c.call(p,!1),m===void 0?p=void 0:(p=new m(s),p._$AT(s,a,n)),n!==void 0?((h=a._$Co)!=null?h:a._$Co=[])[n]=p:a._$Cl=p),p!==void 0&&(e=hn(s,p._$AS(s,e.values),p,n)),e}o(hn,"f$7");let WC=(tl=class{constructor(e,a){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=a}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var a;let{el:{content:n},parts:l}=this._$AD,c=((a=e?.creationScope)!=null?a:on).importNode(n,!0);cn.currentNode=c;let h=cn.nextNode(),p=0,m=0,f=l[0];for(;f!==void 0;){if(p===f.index){let g;f.type===2?g=new uf(h,h.nextSibling,this,e):f.type===1?g=new f.ctor(h,f.name,f.strings,this,e):f.type===6&&(g=new QC(h,this,e)),this._$AV.push(g),f=l[++m]}p!==f?.index&&(h=cn.nextNode(),p++)}return cn.currentNode=on,c}p(e){let a=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,a),a+=n.strings.length-2):n._$AI(e[a])),a++}},o(tl,"G"),tl),uf=(yn=class{get _$AU(){var e,a;return(a=(e=this._$AM)==null?void 0:e._$AU)!=null?a:this._$Cv}constructor(e,a,n,l){var c;this.type=2,this._$AH=ir,this._$AN=void 0,this._$AA=e,this._$AB=a,this._$AM=n,this.options=l,this._$Cv=(c=l?.isConnected)!=null?c:!0}get parentNode(){let e=this._$AA.parentNode,a=this._$AM;return a!==void 0&&e?.nodeType===11&&(e=a.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,a=this){e=hn(this,e,a),ah(e)?e===ir||e==null||e===""?(this._$AH!==ir&&this._$AR(),this._$AH=ir):e!==this._$AH&&e!==lo&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):VC(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==ir&&ah(this._$AH)?this._$AA.nextSibling.data=e:this.T(on.createTextNode(e)),this._$AH=e}$(e){var a;let{values:n,_$litType$:l}=e,c=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=hf.createElement(cf(l.h,l.h[0]),this.options)),l);if(((a=this._$AH)==null?void 0:a._$AD)===c)this._$AH.p(n);else{let h=new WC(c,this),p=h.u(this.options);h.p(n),this.T(p),this._$AH=h}}_$AC(e){let a=Iy.get(e.strings);return a===void 0&&Iy.set(e.strings,a=new hf(e)),a}k(e){_y(this._$AH)||(this._$AH=[],this._$AR());let a=this._$AH,n,l=0;for(let c of e)l===a.length?a.push(n=new yn(this.S(sh()),this.S(sh()),this,this.options)):n=a[l],n._$AI(c),l++;l<a.length&&(this._$AR(n&&n._$AB.nextSibling,l),a.length=l)}_$AR(e=this._$AA.nextSibling,a){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,a);e&&e!==this._$AB;){let l=e.nextSibling;e.remove(),e=l}}setConnected(e){var a;this._$AM===void 0&&(this._$Cv=e,(a=this._$AP)==null||a.call(this,e))}},o(yn,"b$1"),yn),sd=(rl=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,a,n,l,c){this.type=1,this._$AH=ir,this._$AN=void 0,this.element=e,this.name=a,this._$AM=l,this.options=c,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ir}_$AI(e,a=this,n,l){let c=this.strings,h=!1;if(c===void 0)e=hn(this,e,a,0),h=!ah(e)||e!==this._$AH&&e!==lo,h&&(this._$AH=e);else{let p=e,m,f;for(e=c[0],m=0;m<c.length-1;m++)f=hn(this,p[n+m],a,m),f===lo&&(f=this._$AH[m]),h||(h=!ah(f)||f!==this._$AH[m]),f===ir?e=ir:e!==ir&&(e+=(f??"")+c[m+1]),this._$AH[m]=f}h&&!l&&this.j(e)}j(e){e===ir?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},o(rl,"M$4"),rl),YC=(sl=class extends sd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ir?void 0:e}},o(sl,"J"),sl),qC=(al=class extends sd{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ir)}},o(al,"K"),al),KC=(nl=class extends sd{constructor(e,a,n,l,c){super(e,a,n,l,c),this.type=5}_$AI(e,a=this){var n;if((e=(n=hn(this,e,a,0))!=null?n:ir)===lo)return;let l=this._$AH,c=e===ir&&l!==ir||e.capture!==l.capture||e.once!==l.once||e.passive!==l.passive,h=e!==ir&&(l===ir||c);c&&this.element.removeEventListener(this.name,this,l),h&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var a,n;typeof this._$AH=="function"?this._$AH.call((n=(a=this.options)==null?void 0:a.host)!=null?n:this.element,e):this._$AH.handleEvent(e)}},o(nl,"Q"),nl),QC=(il=class{constructor(e,a,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=a,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){hn(this,e)}},o(il,"X"),il),XC=td.litHtmlPolyfillSupport;var Ny;XC?.(hf,uf),((Ny=td.litHtmlVersions)!=null?Ny:td.litHtmlVersions=[]).push("3.1.4");let JC=o((s,e,a)=>{var n,l;let c=(n=a?.renderBefore)!=null?n:e,h=c._$litPart$;if(h===void 0){let p=(l=a?.renderBefore)!=null?l:null;c._$litPart$=h=new uf(e.insertBefore(sh(),p),p,void 0,a??{})}return h._$AI(s),h},"et"),Ft=(ol=class extends oo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;let a=super.createRenderRoot();return(e=this.renderOptions).renderBefore!=null||(e.renderBefore=a.firstChild),a}update(e){let a=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=JC(a,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return lo}},o(ol,"n$1"),ol);var Ly;Ft._$litElement$=!0,Ft.finalized=!0,(Ly=y.litElementHydrateSupport)==null||Ly.call(y,{LitElement:Ft});let ek=y.litElementPolyfillSupport;ek?.({LitElement:Ft});var xy;((xy=y.litElementVersions)!=null?xy:y.litElementVersions=[]).push("4.0.6");let or=o(s=>(e,a)=>{a!==void 0?a.addInitializer(()=>{Kr.define(s,e)}):Kr.define(s,e)},"s$5");var tk=Object.defineProperty,rk=Object.defineProperties,sk=Object.getOwnPropertyDescriptors,Ry=Object.getOwnPropertySymbols,ak=Object.prototype.hasOwnProperty,nk=Object.prototype.propertyIsEnumerable,Oy=o((s,e,a)=>e in s?tk(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,"d$3"),ik=o((s,e)=>{for(var a in e||(e={}))ak.call(e,a)&&Oy(s,a,e[a]);if(Ry)for(var a of Ry(e))nk.call(e,a)&&Oy(s,a,e[a]);return s},"l$3"),ok=o((s,e)=>rk(s,sk(e)),"u$b");let lk={attribute:!0,type:String,converter:ed,reflect:!1,hasChanged:of},ck=o((s=lk,e,a)=>{let{kind:n,metadata:l}=a,c=y.litPropertyMetadata.get(l);if(c===void 0&&y.litPropertyMetadata.set(l,c=new Map),c.set(a.name,s),n==="accessor"){let{name:h}=a;return{set(p){let m=e.get.call(this);e.set.call(this,p),this.requestUpdate(h,m,s)},init(p){return p!==void 0&&this.P(h,void 0,s),p}}}if(n==="setter"){let{name:h}=a;return function(p){let m=this[h];e.call(this,p),this.requestUpdate(h,m,s)}}throw Error("Unsupported decorator location: "+n)},"w$5");function Ae(s){return(e,a)=>typeof a=="object"?ck(s,e,a):((n,l,c)=>{let h=l.hasOwnProperty(c);return l.constructor.createProperty(c,h?ok(ik({},n),{wrapped:!0}):n),h?Object.getOwnPropertyDescriptor(l,c):void 0})(s,e,a)}o(Ae,"O");var hk=Object.defineProperty,uk=Object.getOwnPropertyDescriptor,ih=o((s,e,a,n)=>{for(var l=n>1?void 0:n?uk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&hk(e,a,l),l},"o$7");let Hs=(ll=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Hs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(ll,"t$d"),ll);Hs.weightsMap=new Map([["thin",Q`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",Q`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",Q`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",Q`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",Q`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",Q`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]),Hs.styles=ar`
    :host {
      display: contents;
    }
  `,ih([Ae({type:String,reflect:!0})],Hs.prototype,"size",2),ih([Ae({type:String,reflect:!0})],Hs.prototype,"weight",2),ih([Ae({type:String,reflect:!0})],Hs.prototype,"color",2),ih([Ae({type:Boolean,reflect:!0})],Hs.prototype,"mirrored",2),Hs=ih([or("ph-arrow-clockwise")],Hs);let dk={chatService:null,interactions:[],sourceBaseURL:"",linksTarget:"_blank",linksRel:"noopener noreferrer",prompt:"",sourcesMap:{title:"title",description:"description",path:"path"}},pk=o((s,e,a)=>{let n=s.get(e);n?n.includes(a)||n.push(a):s.set(e,[a])},"appendToMap"),mk=o((s,e)=>{let a;return(...n)=>{a&&be(a),a=Fe(()=>{a=0,s(...n)},e)}},"debounce"),fk=o(s=>!("isConnected"in s)||s.isConnected,"isConnected"),My=mk(s=>{for(let e of s.keys())s.set(e,s.get(e).filter(fk))},2e3),gk=o(()=>{if(typeof uE!="function")return{};let s=new Map;return{dispose:o(()=>s.clear(),"dispose"),get:o(e=>{let a=uE();a&&pk(s,e,a)},"get"),set:o(e=>{let a=s.get(e);a&&s.set(e,a.filter(dE)),My(s)},"set"),reset:o(()=>{s.forEach(e=>e.forEach(dE)),My(s)},"reset")}},"stencilSubscription"),df=o(s=>typeof s=="function"?s():s,"unwrap"),Ek=o((s,e=(a,n)=>a!==n)=>{let a=df(s),n=new Map(Object.entries(a??{})),l={dispose:[],get:[],set:[],reset:[]},c=o(()=>{n=new Map(Object.entries(df(s)??{})),l.reset.forEach(_=>_())},"reset"),h=o(()=>{l.dispose.forEach(_=>_()),c()},"dispose"),p=o(_=>(l.get.forEach(w=>w(_)),n.get(_)),"get"),m=o((_,w)=>{let D=n.get(_);e(w,D,_)&&(n.set(_,w),l.set.forEach(B=>B(_,w,D)))},"set"),f=typeof Proxy>"u"?{}:new Proxy(a,{get(_,w){return p(w)},ownKeys(_){return Array.from(n.keys())},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(_,w){return n.has(w)},set(_,w,D){return m(w,D),!0}}),g=o((_,w)=>(l[_].push(w),()=>{Tk(l[_],w)}),"on");return{state:f,get:p,set:m,on:g,onChange:o((_,w)=>{let D=g("set",(G,ee)=>{G===_&&w(ee)}),B=g("reset",()=>w(df(s)[_]));return()=>{D(),B()}},"onChange"),use:o((..._)=>{let w=_.reduce((D,B)=>(B.set&&D.push(g("set",B.set)),B.get&&D.push(g("get",B.get)),B.reset&&D.push(g("reset",B.reset)),B.dispose&&D.push(g("dispose",B.dispose)),D),[]);return()=>w.forEach(D=>D())},"use"),dispose:h,reset:c,forceUpdate:o(_=>{let w=n.get(_);l.set.forEach(D=>D(_,w,w))},"forceUpdate")}},"createObservableMap"),Tk=o((s,e)=>{let a=s.indexOf(e);a>=0&&(s[a]=s[s.length-1],s.length--)},"removeFromArray"),Dy=o((s,e)=>{let a=Ek(s,e);return a.use(gk()),a},"createStore"),Py={open:!1,currentTask:"search",currentTerm:""};Dy(Py);let bk={global:Py,search:{count:0,facets:[],facetProperty:"",results:[],resultMap:{},highlightedIndex:-1,loading:!1,error:!1,searchService:null,searchParams:null},chat:dk},oh=new Map,yk=o((s,e)=>{let a=oh.get(s);if(!a)throw new Error("Invalid parent component Id");let n=a[e];if(!n)throw new Error("Store not initialized");return n},"getParentComponentStore"),ad=o((s,e)=>{let a=bk[s];if(!a)throw new Error("Invalid store name");let n=Dy(a);if(oh.has(e)){let l=oh.get(e);l[s]=n}else oh.set(e,{[s]:n});return n},"initStore"),$y=o(s=>{oh.delete(s)},"removeAllStores");function Hy(s,e){let a=By(e);if(!a)throw new Error("Failed to get store");return yk(a.id,s)}o(Hy,"getStore");let _k=["orama-search-box","orama-chat-box"];function By(s){var e;let a=s;for(;;){if(!a)return null;if(a instanceof Bt){let n=a.host;if(_k.includes(n.tagName.toLowerCase()))return n;a=n}else a=(e=a.parentNode)!==null&&e!==void 0?e:null}}o(By,"getExternalParentComponentHTMLElement");var Ak=":host{display:flex;flex-grow:1}.header{background:#fbfbfb;background:var(--background-color-primary,#fbfbfb);padding:.75rem 1rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));text-align:end;transition:opacity .2s}.header.hidden button{opacity:0;pointer-events:none}.header button{align-items:center;background-color:transparent;border:none;border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:inline-flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.125rem .25rem;padding:var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));transition:color .2s;transition:background-color .2s}.header button,.header button:hover{color:#99989d;color:var(--text-color-tertiary,#99989d)}.header button:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}";let vk=(cl=class{constructor(e){Lt(this,e),this.answerGenerated=Ot(this,"answerGenerated",7),this.clearChat=Ot(this,"clearChat",7),this.startConversation=Ot(this,"startConversation",7),this.answerSourceClick=Ot(this,"answerSourceClick",7),this.chatMarkdownLinkClicked=Ot(this,"chatMarkdownLinkClicked",7),this.autoFocus=!0,this.clearChatOnDisconnect=!0,this.colorScheme="light",this.componentID=Ku("chat-box"),this.systemScheme="light",this.onPrefersColorSchemeChange=a=>{this.systemScheme=a.matches?"dark":"light",this.updateTheme()}}watchHandler(){this.chatStore&&(this.startChatService(),this.updateTheme())}componentWillLoad(){this.htmlElement.id=this.componentID,this.schemaQuery=Rt.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange),this.startChatService()}componentDidLoad(){this.htmlElement.id=this.componentID,this.startChatService()}getOldOramaClient(){if(!this.oramaCoreClientInstance)return this.clientInstance?this.clientInstance:sf(this.index)}startChatService(){if(this.chatStore.state.chatService||!this.index&&!this.clientInstance&&!this.oramaCoreClientInstance)return;rf(this.htmlElement,this.index,this.clientInstance,this.oramaCoreClientInstance);let e=this.getOldOramaClient();this.chatStore.state.chatService=new Qb(e,this.oramaCoreClientInstance,this.chatStore)}updateTheme(){let e=Qu(this.htmlElement,this.colorScheme,this.systemScheme);Xu(this.htmlElement,e,this.themeConfig)}connectedCallback(){this.chatStore=ad("chat",this.componentID)}disconnectedCallback(){var e;$y(this.componentID),(e=this.schemaQuery)===null||e===void 0||e.removeEventListener("change",this.onPrefersColorSchemeChange)}render(){var e,a;if(!this.chatStore.state.chatService)return x("orama-text",{as:"p"},"Unable to initialize chat service");let n=this.colorScheme==="system"?this.systemScheme:this.colorScheme||"dark";return x(qt,{class:`theme-${n}`},x("orama-chat",{placeholder:this.placeholder,sourceBaseUrl:this.sourceBaseUrl,sourcesMap:this.sourcesMap,suggestions:this.suggestions,focusInput:this.autoFocus,systemPrompts:this.systemPrompts,prompt:this.prompt,clearChatOnDisconnect:this.clearChatOnDisconnect,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref},!!(!((a=(e=this.chatStore.state)===null||e===void 0?void 0:e.interactions)===null||a===void 0)&&a.length)&&x("div",{slot:"chat-empty-state"},x("slot",{name:"empty-state"}))))}get htmlElement(){return sr(this)}static get watchers(){return{index:["watchHandler"],themeConfig:["watchHandler"],colorScheme:["watchHandler"]}}static get style(){return Ak}static get cmpMeta(){return{$flags$:9,$tagName$:"orama-chat-box",$members$:{index:[16],clientInstance:[16],oramaCoreClientInstance:[16],sourceBaseUrl:[1,"source-base-url"],linksTarget:[1,"links-target"],linksRel:[1,"links-rel"],placeholder:[1],sourcesMap:[16],suggestions:[16],autoFocus:[4,"auto-focus"],systemPrompts:[16],prompt:[1],clearChatOnDisconnect:[4,"clear-chat-on-disconnect"],chatMarkdownLinkTitle:[16],chatMarkdownLinkHref:[16],chatMarkdownLinkTarget:[16],themeConfig:[16],colorScheme:[1,"color-scheme"],componentID:[32],systemScheme:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(cl,"ChatBox"),cl);var Sk=".dots-loader.sc-orama-dots-loader{align-items:center;display:inline-flex;justify-content:center;padding:1rem 0;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0}.dot.sc-orama-dots-loader{animation:dot-slide-up 1.4s infinite both;background-color:#151515;background-color:var(--text-color-primary,#151515);border-radius:50%;height:.25rem;height:calc(4rem/var(--orama-base-font-size, 16));margin:0 .125rem;margin:0 var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16)));width:.25rem;width:calc(4rem/var(--orama-base-font-size, 16))}.dot.sc-orama-dots-loader:first-child{animation-delay:-.32s}.dot.sc-orama-dots-loader:nth-child(2){animation-delay:-.16s}@keyframes dot-slide-up{0%,80%,to{opacity:.3;transform:translateZ(0)}40%{opacity:1;transform:translate3d(0,-4px,0)}}";let Ck=(hl=class{constructor(e){Lt(this,e)}render(){return x("div",{key:"8f554124861dff20b05b26410ab7966b5445c930",class:"dots-loader"},x("div",{key:"a2937b6db7c5e79d97e18149107e5eb5bb04a4bd",class:"dot"}),x("div",{key:"083f41f23dc7992e4dc601de5e118a2658a2e81a",class:"dot"}),x("div",{key:"5a5384b83cd6290e36e1ea7a27e084c82ae4316f",class:"dot"}))}static get style(){return Sk}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-dots-loader",$members$:void 0,$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(hl,"DotsLoader"),hl);var kk=Object.defineProperty,wk=Object.getOwnPropertyDescriptor,lh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?wk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&kk(e,a,l),l},"o$6");let Bs=(ul=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(ul,"t$c"),ul);Bs.weightsMap=new Map([["thin",Q`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",Q`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",Q`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",Q`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",Q`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",Q`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]),Bs.styles=ar`
    :host {
      display: contents;
    }
  `,lh([Ae({type:String,reflect:!0})],Bs.prototype,"size",2),lh([Ae({type:String,reflect:!0})],Bs.prototype,"weight",2),lh([Ae({type:String,reflect:!0})],Bs.prototype,"color",2),lh([Ae({type:Boolean,reflect:!0})],Bs.prototype,"mirrored",2),Bs=lh([or("ph-x")],Bs);var Ik=Object.defineProperty,Nk=Object.getOwnPropertyDescriptor,ch=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Nk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Ik(e,a,l),l},"s$4");let Us=(dl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Us.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(dl,"t$b"),dl);Us.weightsMap=new Map([["thin",Q`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",Q`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",Q`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",Q`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",Q`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",Q`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]),Us.styles=ar`
    :host {
      display: contents;
    }
  `,ch([Ae({type:String,reflect:!0})],Us.prototype,"size",2),ch([Ae({type:String,reflect:!0})],Us.prototype,"weight",2),ch([Ae({type:String,reflect:!0})],Us.prototype,"color",2),ch([Ae({type:Boolean,reflect:!0})],Us.prototype,"mirrored",2),Us=ch([or("ph-magnifying-glass")],Us);var Lk=".sc-orama-input-h{margin:.5rem 0;margin:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}.input-wrapper.sc-orama-input{position:relative}.input.sc-orama-input{background:#fff;background:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0;width:100%}@media (min-width:768.02px){.input.sc-orama-input{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.input.sc-orama-input::-moz-placeholder{color:#99989d;color:var(--text-color-inactive,#99989d)}.input.sc-orama-input::placeholder{color:#99989d;color:var(--text-color-inactive,#99989d)}.input[type=search].sc-orama-input{padding-right:2rem;padding-right:var(--spacing-2xl,calc(32rem/var(--orama-base-font-size, 16)))}@media (min-width:1024.02px){.input[type=search].sc-orama-input{border:0;border-bottom:1px solid #dadada;border-bottom:1px solid var(--border-color-primary,#dadada);padding-left:2.5rem;padding-left:var(--spacing-3xl,calc(40rem/var(--orama-base-font-size, 16)))}}.input[type=search].sc-orama-input::-webkit-search-cancel-button,.input[type=search].sc-orama-input::-webkit-search-decoration{-webkit-appearance:none;appearance:none}.input.sc-orama-input:focus{outline:none}.input.sc-orama-input:focus-visibile{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.input--small.sc-orama-input{padding:.25rem .5rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.input--medium.sc-orama-input{padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.input--large.sc-orama-input{padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.label.sc-orama-input{color:#151515;color:var(--text-color-primary,#151515);display:block;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0 0 .25rem;margin-bottom:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:0}.reset-button.sc-orama-input{background-color:transparent;border:0;color:#99989d;color:var(--icon-color-inactive,#99989d);cursor:pointer;display:inline-flex;position:absolute;right:.5rem;right:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));top:50%;transform:translate3d(0,-50%,0)}.reset-button.sc-orama-input:focus{outline:none}.reset-button.sc-orama-input:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77)}.search-icon.sc-orama-input{color:#99989d;color:var(--icon-color-inactive,#99989d);display:none;left:1rem;left:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));position:absolute;top:50%;transform:translate3d(0,-50%,0);z-index:100}@media (min-width:1024.02px){.search-icon.sc-orama-input{display:inline-flex}}.sr-only.sc-orama-input{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}";let xk=(pl=class{constructor(e){Lt(this,e),this.inputChanged=Ot(this,"inputChanged",7),this.size="medium",this.type="text",this.autoFocus=!1}handleAutoFocusChange(){var e;this.autoFocus&&((e=this.inputRef)===null||e===void 0||e.focus())}ensureFocus(){let e=Be(()=>{this.inputRef&&(this.inputRef.focus(),Y(e))},10)}componentDidLoad(){this.autoFocus&&this.ensureFocus()}render(){let e=`input input--${this.size}`,a=`label ${this.labelForScreenReaders?"sr-only":""}`,n=["id","name","type","class","onInput","value","label-for-screen-readers","default-value","placeholder"],l=th(this.el,n),c=this.type==="search";return x(qt,{key:"2618def598b4bcffcb974d761937c304f36d70cf"},x("div",{key:"07b0b637d645dfcd43dab6f20256b548f42672bb",class:"wrapper"},x("label",{key:"c8e3e0ee0962064c613ccbfa459873e8e80ee32a",htmlFor:this.name,class:a},this.label||this.labelForScreenReaders),x("div",{key:"7c78f6d5e491b17094d86ef89c4461178e1e620c",class:"input-wrapper"},c&&x("span",{key:"07a43ba5606596d2b2834bb3dc040573d7039a05",class:"search-icon"},x("ph-magnifying-glass",{key:"3097468ab3864e7a29121e5f5978cf6f4a14f006",size:16})),x("input",Object.assign({key:"5ee32af4e927d3f717345a2d2337793ba28d9c43"},l,{ref:o(h=>{this.inputRef=h},"ref"),class:e,id:this.name,type:this.type,value:this.value,onInput:o(h=>{let p=h.target;this.inputChanged.emit(p.value)},"onInput"),placeholder:this.placeholder})),c&&!!this.value&&x("button",{key:"13c7ee67fdafb756fda92b7d7739fccc367b8f20",type:"button",class:"reset-button",onClick:o(()=>{this.inputRef.focus(),this.inputChanged.emit("")},"onClick")},x("ph-x",{key:"b24dec02e1a86d9205ee4a4025472571ac941fbe",size:16})))))}get el(){return sr(this)}static get watchers(){return{autoFocus:["handleAutoFocusChange"]}}static get style(){return Lk}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-input",$members$:{name:[1],size:[1],label:[1],type:[1],placeholder:[1],labelForScreenReaders:[1,"label-for-screen-readers"],defaultValue:[1,"default-value"],autoFocus:[4,"auto-focus"],value:[1]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(pl,"Input"),pl);var Rk='.button.sc-orama-button{align-items:center;border:0;border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-family:font("primary");font-family:var(--font-primary,font("primary"));gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:relative;text-align:left;transition:all .2s;transition-property:color,background-color,opacity;width:100%}.button__tooltip.sc-orama-button{animation:fadeInOut 1s ease-in-out 1;background-color:#151515;background-color:var(--text-color-primary,#151515);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));color:#fbfbfb;color:var(--background-color-primary,#fbfbfb);display:block;font-size:10px;opacity:0;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:absolute;top:-28px;z-index:1}.button--small.sc-orama-button{padding:.25rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.button--medium.sc-orama-button{padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.button--large.sc-orama-button{padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.button__label.sc-orama-button{align-items:center;display:flex;flex-grow:1;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.button--primary.sc-orama-button{background-color:#432d77;background-color:var(--button-background-color-primary,#432d77);color:#fbfbfb;color:var(--button-text-color-primary,#fbfbfb)}.button--primary.sc-orama-button:disabled{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);color:var(--text-color-tertiary)}.button--secondary.sc-orama-button{background-color:#fff;background-color:var(--button-background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--button-border-color-secondary,#dadada);color:#838289;color:var(--button-text-color-secondary,#838289);transition:all .3s}@media (hover:hover){.button--secondary.sc-orama-button:hover{background-color:#eee9f6;background-color:var(--button-background-color-secondary-hover,#eee9f6)}}.button--secondary.sc-orama-button:focus-visible{border:1px solid #9671b0;outline:none}.button--secondary.sc-orama-button:disabled{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);color:var(--text-color-tertiary)}.button--icon.sc-orama-button{align-items:center;background-color:transparent;border-radius:50%;color:#99989d;color:var(--icon-color-tertiary,#99989d);font-family:font("primary");font-family:var(--font-primary,font("primary"));height:-moz-fit-content;height:fit-content;justify-content:center;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));width:-moz-fit-content;width:fit-content}.button--icon.sc-orama-button:disabled{opacity:.6}.button--icon.sc-orama-button:disabled,.button--icon.sc-orama-button:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}.sc-orama-button-s>*{align-items:center;display:inline-flex}.sc-orama-button-s>[slot=adorment-end],.sc-orama-button-s>[slot=adorment-start]{flex-grow:0}@keyframes fadeInOut{0%{opacity:0}50%{opacity:1}to{opacity:0}}';let Ok=(ml=class{constructor(e){Lt(this,e),this.as="button",this.variant="primary",this.size="medium"}render(){let e=this.as,a=["as","class","variant"],n=th(this.el,a),l=`button button--${this.variant} button--${this.size} ${this.class||""}`;return x(e,Object.assign({key:"af470570a767787e5e85ec5c0ecc4cfb66e5b142",class:l},n,{disabled:this.disabled}),x("span",{key:"483fb6a261decf60053ec78726912e11ae271e74",class:"button__label"},x("slot",{key:"3d00cc8a7fe04471095f87b9989eebf38c79764a",name:"adorment-start"}),this.withTooltip&&x("span",{key:"bdda78c3dc2e39b53254a5506dcfb53bffdb9ed3",class:"button__tooltip"},this.withTooltip),x("slot",{key:"6582b9e1c0481f18ac91844b0f09ff09b9fa1fbf"})),x("slot",{key:"31d3bcf229c837809ccf3ba74986a179fe028c87",name:"adorment-end"}))}get el(){return sr(this)}static get style(){return Rk}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-button",$members$:{as:[1],class:[1],variant:[1],size:[1],type:[1],disabled:[4],withTooltip:[1,"with-tooltip"]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(ml,"OramaButton"),ml);var Mk=Object.defineProperty,Dk=Object.getOwnPropertyDescriptor,hh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Dk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Mk(e,a,l),l},"a$6");let Fs=(fl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(fl,"t$a"),fl);Fs.weightsMap=new Map([["thin",Q`<path d="M224.47,31.52a11.87,11.87,0,0,0-11.82-3L20.74,86.67a12,12,0,0,0-1.91,22.38L105,151l41.92,86.15A11.88,11.88,0,0,0,157.74,244c.34,0,.69,0,1,0a11.89,11.89,0,0,0,10.52-8.63l58.21-192,0-.08A11.85,11.85,0,0,0,224.47,31.52Zm-4.62,9.54-58.23,192a4,4,0,0,1-7.48.59l-41.3-84.86,50-50a4,4,0,1,0-5.66-5.66l-50,50-84.9-41.31a3.88,3.88,0,0,1-2.27-4,3.93,3.93,0,0,1,3-3.54L214.9,36.16A3.93,3.93,0,0,1,216,36a4,4,0,0,1,2.79,1.19A3.93,3.93,0,0,1,219.85,41.06Z"/>`],["light",Q`<path d="M225.88,30.12a13.83,13.83,0,0,0-13.7-3.58l-.11,0L20.14,84.77A14,14,0,0,0,18,110.85l85.56,41.64L145.12,238a13.87,13.87,0,0,0,12.61,8c.4,0,.81,0,1.21-.05a13.9,13.9,0,0,0,12.29-10.09l58.2-191.93,0-.11A13.83,13.83,0,0,0,225.88,30.12Zm-8,10.4L159.73,232.43l0,.11a2,2,0,0,1-3.76.26l-40.68-83.58,49-49a6,6,0,1,0-8.49-8.49l-49,49L23.15,100a2,2,0,0,1,.31-3.74l.11,0L215.48,38.08a1.94,1.94,0,0,1,1.92.52A2,2,0,0,1,217.92,40.52Z"/>`],["regular",Q`<path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"/>`],["bold",Q`<path d="M230.14,25.86a20,20,0,0,0-19.57-5.11l-.22.07L18.44,79a20,20,0,0,0-3.06,37.25L99,157l40.71,83.65a19.81,19.81,0,0,0,18,11.38c.57,0,1.15,0,1.73-.07A19.82,19.82,0,0,0,177,237.56L235.18,45.65a1.42,1.42,0,0,0,.07-.22A20,20,0,0,0,230.14,25.86ZM156.91,221.07l-34.37-70.64,46-45.95a12,12,0,0,0-17-17l-46,46L34.93,99.09,210,46Z"/>`],["fill",Q`<path d="M231.4,44.34s0,.1,0,.15l-58.2,191.94a15.88,15.88,0,0,1-14,11.51q-.69.06-1.38.06a15.86,15.86,0,0,1-14.42-9.15L107,164.15a4,4,0,0,1,.77-4.58l57.92-57.92a8,8,0,0,0-11.31-11.31L96.43,148.26a4,4,0,0,1-4.58.77L17.08,112.64a16,16,0,0,1,2.49-29.8l191.94-58.2.15,0A16,16,0,0,1,231.4,44.34Z"/>`],["duotone",Q`<path d="M223.69,42.18l-58.22,192a8,8,0,0,1-14.92,1.25L108,148,20.58,105.45a8,8,0,0,1,1.25-14.92l192-58.22A8,8,0,0,1,223.69,42.18Z" opacity="0.2"/><path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"/>`]]),Fs.styles=ar`
    :host {
      display: contents;
    }
  `,hh([Ae({type:String,reflect:!0})],Fs.prototype,"size",2),hh([Ae({type:String,reflect:!0})],Fs.prototype,"weight",2),hh([Ae({type:String,reflect:!0})],Fs.prototype,"color",2),hh([Ae({type:Boolean,reflect:!0})],Fs.prototype,"mirrored",2),Fs=hh([or("ph-paper-plane-tilt")],Fs);var Pk=Object.defineProperty,$k=Object.getOwnPropertyDescriptor,uh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?$k(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Pk(e,a,l),l},"o$5");let zs=(gl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(gl,"t$9"),gl);zs.weightsMap=new Map([["thin",Q`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM160,92H96a4,4,0,0,0-4,4v64a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V96A4,4,0,0,0,160,92Zm-4,64H100V100h56Z"/>`],["light",Q`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM160,90H96a6,6,0,0,0-6,6v64a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V96A6,6,0,0,0,160,90Zm-6,64H102V102h52Z"/>`],["regular",Q`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM160,88H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V96A8,8,0,0,0,160,88Zm-8,64H104V104h48Z"/>`],["bold",Q`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40-112v56a12,12,0,0,1-12,12H100a12,12,0,0,1-12-12V100a12,12,0,0,1,12-12h56A12,12,0,0,1,168,100Z"/>`],["fill",Q`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm32,132a4,4,0,0,1-4,4H100a4,4,0,0,1-4-4V100a4,4,0,0,1,4-4h56a4,4,0,0,1,4,4Z"/>`],["duotone",Q`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm32,128H96V96h64Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM160,88H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V96A8,8,0,0,0,160,88Zm-8,64H104V104h48Z"/>`]]),zs.styles=ar`
    :host {
      display: contents;
    }
  `,uh([Ae({type:String,reflect:!0})],zs.prototype,"size",2),uh([Ae({type:String,reflect:!0})],zs.prototype,"weight",2),uh([Ae({type:String,reflect:!0})],zs.prototype,"color",2),uh([Ae({type:Boolean,reflect:!0})],zs.prototype,"mirrored",2),zs=uh([or("ph-stop-circle")],zs);var Hk=Object.defineProperty,Bk=Object.getOwnPropertyDescriptor,dh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Bk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Hk(e,a,l),l},"a$5");let Gs=(El=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Gs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(El,"t$8"),El);Gs.weightsMap=new Map([["thin",Q`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",Q`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",Q`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",Q`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",Q`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",Q`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]),Gs.styles=ar`
    :host {
      display: contents;
    }
  `,dh([Ae({type:String,reflect:!0})],Gs.prototype,"size",2),dh([Ae({type:String,reflect:!0})],Gs.prototype,"weight",2),dh([Ae({type:String,reflect:!0})],Gs.prototype,"color",2),dh([Ae({type:Boolean,reflect:!0})],Gs.prototype,"mirrored",2),Gs=dh([or("ph-arrow-down")],Gs);let nd=Symbol("storeProps"),Uy=Symbol("storeWillLoadPatched");function js(s){return(e,a)=>{let n=e.constructor;if(n[nd]||(n[nd]=[]),n[nd].push({propKey:a,storeName:s}),!n[Uy]){n[Uy]=!0;let l=e.componentWillLoad;e.componentWillLoad=function(){let c=sr(this),h=this.constructor[nd];if(h)for(let{propKey:p,storeName:m}of h){let f=Hy(m,c);this[p]=f}typeof l=="function"&&l.apply(this)}}}}o(js,"Store");var Uk='orama-chat{background:#fbfbfb;background:var(--background-color-primary,#fbfbfb);height:100%;overflow:hidden}.messages-container-wrapper,orama-chat{display:flex;flex-direction:column;flex-grow:1;position:relative}.messages-container-wrapper{overflow:auto;z-index:1}.messages-container-wrapper::-webkit-scrollbar{width:.3em}.messages-container-wrapper::-webkit-scrollbar-track{background:transparent}.messages-container-wrapper::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.messages-container-wrapper.isEmpty{justify-content:flex-end}.messages-container-wrapper-non-scrollable{display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;z-index:1}.lock-scroll-on-bottom-button-wrapper{align-items:center;background-color:transparent;background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);border:none;border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));bottom:0;color:#99989d;color:var(--icon-color-tertiary,#99989d);cursor:pointer;display:flex;font-family:font("primary");font-family:var(--font-primary,font("primary"));height:-moz-fit-content;height:fit-content;justify-content:center;left:50%;margin:.25rem;margin:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:absolute;transform:translateX(-50%);width:-moz-fit-content;width:fit-content;z-index:2}.chat-form-wrapper{padding:.75rem 1rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.chat-input{margin-bottom:.5rem;margin-bottom:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.suggestions-wrapper{display:flex;flex-direction:column;flex-grow:1;justify-content:end;overflow-x:auto}orama-logo-icon{position:absolute;right:50%;top:50%;transform:translate(50%,-50%);z-index:-1}',Fk=function(s,e,a,n){var l=arguments.length,c=l<3?e:n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,e,a,n);else for(var p=s.length-1;p>=0;p--)(h=s[p])&&(c=(l<3?h(c):l>3?h(e,a,c):h(e,a))||c);return l>3&&c&&Object.defineProperty(e,a,c),c};let zk=1,Fy=(Tl=class{constructor(e){Lt(this,e),this.answerGenerated=Ot(this,"answerGenerated",7),this.clearChat=Ot(this,"clearChat",7),this.startConversation=Ot(this,"startConversation",7),this.placeholder="Ask me anything",this.sourceBaseUrl="",this.showClearChat=!0,this.focusInput=!1,this.inputValue="",this.showGoToBottomButton=!1,this.triggerSendQuestion=a=>{if(this.chatStore.state.chatService===null)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:a,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(a,this.systemPrompts,{onAnswerGeneratedCallback:o(n=>this.answerGenerated.emit(n),"onAnswerGeneratedCallback")})},this.isScrolling=!1,this.prevScrollTop=0,this.scrollTarget=0,this.pendingNewInteractionSideEffects=!1,this.lockScrollOnBottom=!1,this.handleFocus=()=>{if(this.focusInput){let a=this.textareaRef.querySelector("textarea");if(!a)return;He(()=>{a.focus()})}},this.calculateIsScrollOnBottom=()=>{let a=this.messagesContainerRef.scrollHeight-this.messagesContainerRef.clientHeight;return this.messagesContainerRef.scrollTop+zk>=a},this.scrollToBottom=(a={animated:!0,onScrollDone:o(()=>{},"onScrollDone")})=>{if(!this.messagesContainerRef)return;if(!a.animated){this.messagesContainerRef.scrollTop=this.messagesContainerRef.scrollHeight,a.onScrollDone();return}this.isScrolling=!0;let n=We.now(),l=this.messagesContainerRef.scrollTop,c=300,h=o(p=>{if(!this.messagesContainerRef||!this.isScrolling)return;let m=this.messagesContainerRef.scrollHeight-this.messagesContainerRef.clientHeight,f=p-n,g=Math.min(1,f/c),_=this.easeInOutQuad(g),w=l+(m-l)*_;this.messagesContainerRef.scrollTo(0,w),f<c?He(h):(this.isScrolling=!1,a.onScrollDone())},"animateScroll");He(h)},this.easeInOutQuad=a=>a<.5?2*a*a:-1+(4-2*a)*a,this.recalculateGoBoToBottomButton=()=>{if(!this.calculateIsContainerOverflowing()){this.showGoToBottomButton=!1;return}this.showGoToBottomButton=!this.calculateIsScrollOnBottom()},this.handleWheel=a=>{if(!this.calculateIsContainerOverflowing()){this.lockScrollOnBottom=!1,this.showGoToBottomButton=!1;return}let n=this.messagesContainerRef.scrollTop;this.showGoToBottomButton=!this.calculateIsScrollOnBottom(),this.lockScrollOnBottom=!this.showGoToBottomButton,this.showGoToBottomButton||(this.isScrolling=!1),this.prevScrollTop=n},this.setSources=()=>{this.chatStore.state.sourceBaseURL=this.sourceBaseUrl,this.chatStore.state.sourcesMap=Object.assign(Object.assign({},this.chatStore.state.sourcesMap),this.sourcesMap),this.chatStore.state.linksTarget=this.linksTarget,this.chatStore.state.linksRel=this.linksRel},this.handleSubmit=a=>{if(a.preventDefault(),this.chatStore.state.chatService===null)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:this.inputValue,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(this.inputValue,this.systemPrompts,{onAnswerGeneratedCallback:o(n=>this.answerGenerated.emit(n),"onAnswerGeneratedCallback")}),this.chatStore.state.prompt=this.inputValue,this.inputValue=""},this.handleAbortAnswerClick=()=>{this.chatStore.state.chatService.abortAnswer()},this.handleSuggestionClick=a=>{if(this.chatStore.state.chatService===null)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:a,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(a,void 0,{onAnswerGeneratedCallback:o(n=>this.answerGenerated.emit(n),"onAnswerGeneratedCallback")}),this.inputValue=""},this.handleClearChat=()=>{this.chatStore.state.chatService.resetChat(),this.clearChat.emit()},this.calculateIsContainerOverflowing=()=>this.messagesContainerRef?this.messagesContainerRef.scrollHeight>this.messagesContainerRef.clientHeight:!1}handleSourceItemClick(e){}handleDefaultTermChange(){var e;this.defaultTerm&&((e=this.chatStore.state.chatService)===null||e===void 0||e.sendQuestion(this.defaultTerm,this.systemPrompts,{onAnswerGeneratedCallback:o(a=>this.answerGenerated.emit(a),"onAnswerGeneratedCallback")}))}focusInputWatcher(){this.handleFocus()}promptWatcher(e,a){e!==a&&(this.triggerSendQuestion(e),this.chatStore.state.prompt=e)}componentWillLoad(){this.chatStore.on("set",(e,a,n)=>{e==="interactions"&&n?.length<a?.length&&(this.lockScrollOnBottom=!1,this.pendingNewInteractionSideEffects=!0)})}componentDidLoad(){var e;this.messagesContainerRef.addEventListener("wheel",this.handleWheel),this.setSources(),this.handleFocus(),this.prompt&&((e=this.chatStore.state)===null||e===void 0?void 0:e.prompt)!==this.prompt&&(this.triggerSendQuestion(this.prompt),this.chatStore.state.prompt=this.prompt),this.scrollableContainerResizeObserver=new yr(()=>{this.recalculateGoBoToBottomButton()}),this.scrollableContainerResizeObserver.observe(this.messagesContainerRef),this.nonScrollableContainerResizeObserver=new yr(()=>{if(this.pendingNewInteractionSideEffects){this.pendingNewInteractionSideEffects=!1,this.lockScrollOnBottom=!1,this.scrollToBottom({animated:!0,onScrollDone:o(()=>{this.recalculateGoBoToBottomButton()},"onScrollDone")});return}this.lockScrollOnBottom&&!this.isScrolling&&this.scrollToBottom({animated:!1,onScrollDone:o(()=>{this.recalculateGoBoToBottomButton()},"onScrollDone")}),this.recalculateGoBoToBottomButton()}),this.nonScrollableContainerResizeObserver.observe(this.nonScrollableMessagesContainerRef)}disconnectedCallback(){var e,a,n;(e=this.messagesContainerRef)===null||e===void 0||e.removeEventListener("wheel",this.handleWheel),(a=this.scrollableContainerResizeObserver)===null||a===void 0||a.disconnect(),(n=this.nonScrollableContainerResizeObserver)===null||n===void 0||n.disconnect(),this.clearChatOnDisconnect&&(this.chatStore.state.interactions=[])}render(){var e,a,n;let l=(e=this.chatStore.state.interactions)===null||e===void 0?void 0:e[this.chatStore.state.interactions.length-1],c=l?.status,h=((a=this.chatStore.state.interactions)===null||a===void 0?void 0:a.length)>0;return x(qt,{key:"5d1a2178b412d1c69fc2531761fa7afff012f5c3"},this.showClearChat&&h&&x("div",{key:"b8dbf1465e12a6025169f18c2bcef997fdeab90e",class:"header"},x("button",{key:"6cb1d550f29f40a8e93425ee7a824d2ba72c1f45",type:"button",onClick:this.handleClearChat},x("ph-arrow-clockwise",{key:"f351381eaedfface1c225542d9cd01b33c8e76d5",weight:"fill",size:"14"})," Clear chat")),x("div",{key:"b2da2e2e50509726ac6e4e4b91dc87b529979725",class:"messages-container-wrapper-non-scrollable"},x("div",{key:"fc4d74a53f0c81fc17ea3109fb69c3295e154544",class:`messages-container-wrapper ${h?"":"isEmpty"}`,ref:o(p=>this.messagesContainerRef=p,"ref")},x("div",{key:"2063f46ef86faf05c44ae89af8ef177b8e1ee753",ref:o(p=>this.nonScrollableMessagesContainerRef=p,"ref")},h?x("orama-chat-messages-container",{interactions:this.chatStore.state.interactions,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}):null,h?null:x(ba,null,x("slot",{name:"chat-empty-state"}),!!(!((n=this.suggestions)===null||n===void 0)&&n.length)&&x("div",{class:"suggestions-wrapper"},x("orama-suggestions",{suggestions:this.suggestions,suggestionClicked:this.handleSuggestionClick}))))),this.showGoToBottomButton&&x("button",{key:"52eed835c4e03eb39fa0c2941b6f3568efbf9047",class:"lock-scroll-on-bottom-button-wrapper",type:"button",onClick:o(()=>{this.lockScrollOnBottom=!0,this.scrollToBottom({animated:!0,onScrollDone:o(()=>this.recalculateGoBoToBottomButton(),"onScrollDone")})},"onClick")},x("ph-arrow-down",{key:"8921b9bafd4bc958bf56c60db8e7e52de1e7086e",size:"18px"}))),x("div",{key:"3a8bbf10940cfe5c07746afca4a3af042d252004",class:"chat-form-wrapper"},x("form",{key:"8689da1c4db63cbeff68608b15548da8885cc828",onSubmit:this.handleSubmit},x("div",{key:"bdf28d08bd522a88266ef115a598323c73a3e0dd",class:"chat-input"},x("orama-textarea",{key:"a0bbebf7d70f4e65ef38bf9d48a7f556dc59b45e",ref:o(p=>this.textareaRef=p,"ref"),autoFocus:this.focusInput,maxRows:4,value:this.inputValue,onKeyDown:o(p=>{p.key==="Enter"&&!p.shiftKey&&(this.handleSubmit(p),p.preventDefault())},"onKeyDown"),onInput:o(p=>{this.inputValue=p.target.value},"onInput"),placeholder:this.placeholder},x("div",{key:"99997311407eaafd5027568260b767ee99ec08ac",slot:"adornment-end"},[fr.streaming,fr.rendering,fr.loading].includes(c)?x("orama-button",{type:"submit",onClick:this.handleAbortAnswerClick,onKeyDown:this.handleAbortAnswerClick,disabled:c!==fr.rendering,"aria-label":"Abort answer"},x("ph-stop-circle",{size:16})):x("orama-button",{type:"submit",onClick:this.handleSubmit,onKeyDown:this.handleSubmit,disabled:!this.inputValue,"aria-label":"Send question"},x("ph-paper-plane-tilt",{size:16})))))),x("orama-text",{key:"3b53f2d2ef4abd817f83007f81904375b0eab453",as:"p",styledAs:"small",align:"center"},"Orama can make mistakes. Please verify the information.")))}static get watchers(){return{defaultTerm:["handleDefaultTermChange"],focusInput:["focusInputWatcher"],prompt:["promptWatcher"]}}static get style(){return Uk}static get cmpMeta(){return{$flags$:4,$tagName$:"orama-chat",$members$:{placeholder:[1],sourceBaseUrl:[1,"source-base-url"],linksTarget:[1,"links-target"],linksRel:[1,"links-rel"],sourcesMap:[16],showClearChat:[4,"show-clear-chat"],defaultTerm:[1,"default-term"],focusInput:[4,"focus-input"],suggestions:[16],prompt:[1],systemPrompts:[16],clearChatOnDisconnect:[4,"clear-chat-on-disconnect"],chatMarkdownLinkTitle:[16],chatMarkdownLinkHref:[16],chatMarkdownLinkTarget:[16],inputValue:[32],showGoToBottomButton:[32]},$listeners$:[[0,"sourceItemClick","handleSourceItemClick"]],$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Tl,"OramaChat"),Tl);Fk([js("chat")],Fy.prototype,"chatStore",void 0);var Gk=Object.defineProperty,jk=Object.getOwnPropertyDescriptor,ph=o((s,e,a,n)=>{for(var l=n>1?void 0:n?jk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Gk(e,a,l),l},"o$4");let Vs=(bl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(bl,"t$7"),bl);Vs.weightsMap=new Map([["thin",Q`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",Q`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",Q`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",Q`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",Q`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",Q`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]),Vs.styles=ar`
    :host {
      display: contents;
    }
  `,ph([Ae({type:String,reflect:!0})],Vs.prototype,"size",2),ph([Ae({type:String,reflect:!0})],Vs.prototype,"weight",2),ph([Ae({type:String,reflect:!0})],Vs.prototype,"color",2),ph([Ae({type:Boolean,reflect:!0})],Vs.prototype,"mirrored",2),Vs=ph([or("ph-copy")],Vs);var Vk=Object.defineProperty,Zk=Object.getOwnPropertyDescriptor,mh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Zk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Vk(e,a,l),l},"o$3");let Zs=(yl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Zs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(yl,"a$4"),yl);Zs.weightsMap=new Map([["thin",Q`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",Q`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",Q`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",Q`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",Q`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",Q`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]),Zs.styles=ar`
    :host {
      display: contents;
    }
  `,mh([Ae({type:String,reflect:!0})],Zs.prototype,"size",2),mh([Ae({type:String,reflect:!0})],Zs.prototype,"weight",2),mh([Ae({type:String,reflect:!0})],Zs.prototype,"color",2),mh([Ae({type:Boolean,reflect:!0})],Zs.prototype,"mirrored",2),Zs=mh([or("ph-arrows-clockwise")],Zs);var Wk=Object.defineProperty,Yk=Object.getOwnPropertyDescriptor,fh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Yk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Wk(e,a,l),l},"l$2");let Ws=(_l=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ws.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(_l,"t$6"),_l);Ws.weightsMap=new Map([["thin",Q`<path d="M235.85,157.52l-12-96A20,20,0,0,0,204,44H32A12,12,0,0,0,20,56v88a12,12,0,0,0,12,12H77.53l38.89,77.79A4,4,0,0,0,120,236a36,36,0,0,0,36-36V180h60a20,20,0,0,0,19.85-22.48ZM76,148H32a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H76Zm149,19.94a12,12,0,0,1-9,4.06H152a4,4,0,0,0-4,4v24a28,28,0,0,1-25.58,27.9L84,151.06V52H204a12,12,0,0,1,11.91,10.51l12,96A12,12,0,0,1,225,167.94Z"/>`],["light",Q`<path d="M237.83,157.27l-12-96A22,22,0,0,0,204,42H32A14,14,0,0,0,18,56v88a14,14,0,0,0,14,14H76.29l38.34,76.68A6,6,0,0,0,120,238a38,38,0,0,0,38-38V182h58a22,22,0,0,0,21.83-24.73ZM74,146H32a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H74Zm149.5,20.62A9.89,9.89,0,0,1,216,170H152a6,6,0,0,0-6,6v24a26,26,0,0,1-22.42,25.75L86,150.58V54H204a10,10,0,0,1,9.92,8.76l12,96A9.89,9.89,0,0,1,223.5,166.62Z"/>`],["regular",Q`<path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"/>`],["bold",Q`<path d="M243.78,156.53l-12-96A28,28,0,0,0,204,36H32A20,20,0,0,0,12,56v88a20,20,0,0,0,20,20H72.58l36.69,73.37A12,12,0,0,0,120,244a44.05,44.05,0,0,0,44-44V188h52a28,28,0,0,0,27.78-31.47ZM68,140H36V60H68Zm151,22.65a4,4,0,0,1-3,1.35H152a12,12,0,0,0-12,12v24a20,20,0,0,1-13.18,18.8L92,149.17V60H204a4,4,0,0,1,4,3.5l12,96A4,4,0,0,1,219,162.65Z"/>`],["fill",Q`<path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Z"/>`],["duotone",Q`<path d="M80,48V152H32a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8Z" opacity="0.2"/><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"/>`]]),Ws.styles=ar`
    :host {
      display: contents;
    }
  `,fh([Ae({type:String,reflect:!0})],Ws.prototype,"size",2),fh([Ae({type:String,reflect:!0})],Ws.prototype,"weight",2),fh([Ae({type:String,reflect:!0})],Ws.prototype,"color",2),fh([Ae({type:Boolean,reflect:!0})],Ws.prototype,"mirrored",2),Ws=fh([or("ph-thumbs-down")],Ws);var qk=Object.defineProperty,Kk=Object.getOwnPropertyDescriptor,gh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Kk(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&qk(e,a,l),l},"o$2");let Ys=(Al=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ys.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Al,"a$3"),Al);Ys.weightsMap=new Map([["thin",Q`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",Q`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",Q`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",Q`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",Q`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",Q`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]),Ys.styles=ar`
    :host {
      display: contents;
    }
  `,gh([Ae({type:String,reflect:!0})],Ys.prototype,"size",2),gh([Ae({type:String,reflect:!0})],Ys.prototype,"weight",2),gh([Ae({type:String,reflect:!0})],Ys.prototype,"color",2),gh([Ae({type:Boolean,reflect:!0})],Ys.prototype,"mirrored",2),Ys=gh([or("ph-warning")],Ys);var Qk=".sc-orama-chat-assistent-message-h{color:#838289;color:var(--text-color-secondary,#838289);display:block}.message-wrapper.sc-orama-chat-assistent-message{padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.message-error.sc-orama-chat-assistent-message,.message-wrapper.sc-orama-chat-assistent-message{background:#fff;background:var(--background-color-secondary,#fff);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));margin:0 1rem;margin:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.message-error.sc-orama-chat-assistent-message{padding:1rem .5rem;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));text-align:center}.message-error.sc-orama-chat-assistent-message ph-warning.sc-orama-chat-assistent-message{color:#99989d;color:var(--text-color-inactive,#99989d);display:block}.message-actions.sc-orama-chat-assistent-message{display:flex;gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));justify-content:end;margin-top:.75rem;margin-top:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));transition:opacity .2s ease-in-out}.hidden.sc-orama-chat-assistent-message{opacity:0;pointer-events:none}.sr-only.sc-orama-chat-assistent-message{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}@keyframes rotate360{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",Xk=function(s,e,a,n){var l=arguments.length,c=l<3?e:n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,e,a,n);else for(var p=s.length-1;p>=0;p--)(h=s[p])&&(c=(l<3?h(c):l>3?h(e,a,c):h(e,a))||c);return l>3&&c&&Object.defineProperty(e,a,c),c};let zy=(vl=class{constructor(e){Lt(this,e),this.isCopied=!1,this.handleCopyToClipboard=()=>{this.isCopied=!0,Fe(()=>this.isCopied=!1,1e3),uy(this.interaction.response)},this.isDisliked=!1,this.handleDislikeMessage=()=>{this.isDisliked=!this.isDisliked},this.handleRetryMessage=()=>{var a;(a=this.chatStore.state.chatService)===null||a===void 0||a.regenerateLatest()}}render(){return this.interaction.status==="loading"?x("div",{class:"message-wrapper"},x("orama-dots-loader",null)):this.interaction.status==="error"?x("div",{class:"message-error"},x("ph-warning",{size:16}),x("orama-text",{styledAs:"span",inactive:!0},"An error occurred while trying to search. Please try again.")):x(qt,null,x("orama-sources",{sources:this.interaction.sources,sourceBaseURL:this.chatStore.state.sourceBaseURL,sourcesMap:this.chatStore.state.sourcesMap,linksRel:this.chatStore.state.linksRel,linksTarget:this.chatStore.state.linksTarget}),x("div",{class:"message-wrapper"},this.interaction.response?x("orama-markdown",{content:this.interaction.response,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}):x("orama-dots-loader",null),x("div",{class:{"message-actions":!0,hidden:this.interaction.status!==fr.done}},this.interaction.latest&&x("orama-button",{type:"button",variant:"icon",onClick:this.handleRetryMessage,onKeyDown:this.handleRetryMessage,"aria-label":"Retry message"},x("ph-arrows-clockwise",{size:"16px"})),x("orama-button",{type:"button",variant:"icon",onClick:this.handleCopyToClipboard,onKeyDown:this.handleCopyToClipboard,withTooltip:this.isCopied?"Copied!":void 0,"aria-label":"Copy message"},x("ph-copy",{size:"16px"})),x("orama-button",{type:"button",variant:"icon",onClick:this.handleDislikeMessage,onKeyDown:this.handleDislikeMessage,"aria-label":"Dislike message"},this.isDisliked?x("ph-thumbs-down",{weight:"fill",size:"16px"}):x("ph-thumbs-down",{size:"16px"})))))}get htmlElement(){return sr(this)}static get style(){return Qk}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-chat-assistent-message",$members$:{interaction:[16],chatMarkdownLinkTitle:[16],chatMarkdownLinkHref:[16],chatMarkdownLinkTarget:[16],isCopied:[32],isDisliked:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(vl,"OramaChatAssistentMessage"),vl);Xk([js("chat")],zy.prototype,"chatStore",void 0);let Gy=o(({name:s,size:e=24,color:a="black"})=>x("div",{innerHTML:o(n=>({star:`<svg xmlns="http://www.w3.org/2000/svg" width=${e} height=${e} viewBox="0 0 16 16" fill="none">
          <path d="M8.1875 0.6875L9.12531 3.22189C9.78366 5.00107 11.1864 6.40384 12.9656 7.06219L15.5 8L12.9656 8.93781C11.1864 9.59616 9.78366 10.9989 9.12531 12.7781L8.1875 15.3125L7.24969 12.7781C6.59134 10.9989 5.18857 9.59616 3.40939 8.93781L0.875 8L3.40939 7.06219C5.18857 6.40384 6.59134 5.00107 7.24969 3.22189L8.1875 0.6875Z" fill="url(#paint0_radial_1183_175)"/>
          <defs>
          <radialGradient id="paint0_radial_1183_175" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(16.5 -9.5) rotate(141.053) scale(24.2042)">
          <stop stop-color="#6A4BB2"/>
          <stop offset="1"/>
          </radialGradient>
          </defs>
        </svg>`,starFour:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
        <path d="M14.3434 7.06266L10.379 5.62516L8.93717 1.65641C8.86613 1.46503 8.73823 1.29998 8.57064 1.18342C8.40305 1.06687 8.20381 1.00439 7.99967 1.00439C7.79554 1.00439 7.59629 1.06687 7.4287 1.18342C7.26111 1.29998 7.13321 1.46503 7.06217 1.65641L5.62467 5.62078L1.65592 7.06266C1.46454 7.1337 1.29949 7.2616 1.18294 7.42919C1.06638 7.59678 1.00391 7.79602 1.00391 8.00016C1.00391 8.20429 1.06638 8.40354 1.18294 8.57113C1.29949 8.73872 1.46454 8.86662 1.65592 8.93766L5.6203 10.3752L7.06217 14.3439C7.13321 14.5353 7.26111 14.7003 7.4287 14.8169C7.59629 14.9334 7.79554 14.9959 7.99967 14.9959C8.20381 14.9959 8.40305 14.9334 8.57064 14.8169C8.73823 14.7003 8.86613 14.5353 8.93717 14.3439L10.379 10.3789L14.3434 8.93766C14.5348 8.86662 14.6999 8.73872 14.8164 8.57113C14.933 8.40354 14.9954 8.20429 14.9954 8.00016C14.9954 7.79602 14.933 7.59678 14.8164 7.42919C14.6999 7.2616 14.5348 7.1337 14.3434 7.06266ZM10.0353 9.43766C9.89849 9.48763 9.77424 9.56687 9.67125 9.66986C9.56826 9.77285 9.48901 9.8971 9.43905 10.0339L7.99967 13.9939L6.56217 10.0358C6.51224 9.89844 6.4328 9.7737 6.32946 9.67037C6.22613 9.56703 6.10139 9.48759 5.96405 9.43766L2.00592 8.00016L5.96405 6.56266C6.10139 6.51272 6.22613 6.43329 6.32946 6.32995C6.4328 6.22661 6.51224 6.10188 6.56217 5.96453L7.99967 2.00641L9.43717 5.96453C9.48714 6.10134 9.56639 6.22559 9.66938 6.32858C9.77237 6.43157 9.89661 6.51082 10.0334 6.56078L13.9915 7.99828L10.0353 9.43766Z" />
      </svg>`})[n]||"","getIconSvg")(s),style:{width:`${e}px`,height:`${e}px`,fill:a,display:"inline-block",verticalAlign:"middle"}}),"Icon");var Jk=Object.defineProperty,ew=Object.getOwnPropertyDescriptor,Eh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?ew(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Jk(e,a,l),l},"a$2");let qs=(Sl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${qs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Sl,"t$5"),Sl);qs.weightsMap=new Map([["thin",Q`<path d="M228,56A100.11,100.11,0,0,1,128,156H41.66l41.17,41.17a4,4,0,0,1-5.66,5.66l-48-48a4,4,0,0,1,0-5.66l48-48a4,4,0,0,1,5.66,5.66L41.66,148H128a92.1,92.1,0,0,0,92-92,4,4,0,0,1,8,0Z"/>`],["light",Q`<path d="M230,56A102.12,102.12,0,0,1,128,158H46.49l37.75,37.76a6,6,0,1,1-8.48,8.48l-48-48a6,6,0,0,1,0-8.48l48-48a6,6,0,0,1,8.48,8.48L46.49,146H128a90.1,90.1,0,0,0,90-90,6,6,0,0,1,12,0Z"/>`],["regular",Q`<path d="M232,56A104.11,104.11,0,0,1,128,160H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48a8,8,0,0,1,11.32,11.32L51.31,144H128a88.1,88.1,0,0,0,88-88,8,8,0,0,1,16,0Z"/>`],["bold",Q`<path d="M236,56A108.12,108.12,0,0,1,128,164H61l27.52,27.51a12,12,0,0,1-17,17l-48-48a12,12,0,0,1,0-17l48-48a12,12,0,0,1,17,17L61,140h67a84.09,84.09,0,0,0,84-84,12,12,0,0,1,24,0Z"/>`],["fill",Q`<path d="M232,56A104.11,104.11,0,0,1,128,160H88v40a8,8,0,0,1-13.66,5.66l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,88,104v40h40a88.1,88.1,0,0,0,88-88,8,8,0,0,1,16,0Z"/>`],["duotone",Q`<path d="M80,104v96L32,152Z" opacity="0.2"/><path d="M224,48a8,8,0,0,0-8,8,88.1,88.1,0,0,1-88,88H88V104a8,8,0,0,0-13.66-5.66l-48,48a8,8,0,0,0,0,11.32l48,48A8,8,0,0,0,88,200V160h40A104.11,104.11,0,0,0,232,56,8,8,0,0,0,224,48ZM72,180.69,43.31,152,72,123.31Z"/>`]]),qs.styles=ar`
    :host {
      display: contents;
    }
  `,Eh([Ae({type:String,reflect:!0})],qs.prototype,"size",2),Eh([Ae({type:String,reflect:!0})],qs.prototype,"weight",2),Eh([Ae({type:String,reflect:!0})],qs.prototype,"color",2),Eh([Ae({type:Boolean,reflect:!0})],qs.prototype,"mirrored",2),qs=Eh([or("ph-arrow-bend-down-left")],qs);var tw='@keyframes shine{0%{background-position:0 50%}to{background-position:150%;opacity:0}}@keyframes animBg{0%{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}70%{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}to{background:transparent}}@keyframes steam{0%{background-position:0 50%}50%{background-position:75% 50%}to{background-position:0 50%}}.sc-orama-chat-button-h{border-bottom:1px solid #dadada;border-bottom:1px solid var(--border-color-primary,#dadada);padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.chat-button.sc-orama-chat-button{align-items:center;background:transparent;border:1px solid transparent;border-radius:.5rem;border-radius:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);cursor:pointer;display:flex;font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:relative;width:100%}@media (min-width:768.02px){.chat-button.sc-orama-chat-button{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}@media (hover:hover){.chat-button.sc-orama-chat-button:hover{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}}.chat-button.sc-orama-chat-button:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.chat-button.is-active.sc-orama-chat-button{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6)}.chat-button.is-highlighted.sc-orama-chat-button:after,.chat-button.is-highlighted.sc-orama-chat-button:before{animation:shine 1s linear 1 forwards;background:linear-gradient(90deg,transparent 0,transparent 20%,#432d77 40%,#432d77 60%,transparent 80%,transparent);background:linear-gradient(to right,var(--chat-button-border-color-gradientOne,transparent) 0,var(--chat-button-border-color-gradientTwo,transparent) 20%,var(--chat-button-border-color-gradientThree,#432d77) 40%,var(--chat-button-border-color-gradientFour,#432d77) 60%,var(--chat-button-border-color-gradientFive,transparent) 80%,var(--chat-button-border-color-gradientSix,transparent) 100%);background-size:150% auto;border-radius:.5rem;border-radius:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));content:"";display:block;height:calc(100% + 4px);left:-2px;overflow:hidden;position:absolute;top:-2px;width:calc(100% + 4px);z-index:-1}.chat-button.is-highlighted.sc-orama-chat-button:after{filter:blur(3px);height:100%;width:100%}.icon-star.sc-orama-chat-button{align-items:center;background:linear-gradient(79deg,#432d77 -45%,transparent 75%);background:linear-gradient(79deg,var(--chat-button-background-color-gradientOne,#432d77) -45%,var(--chat-button-backgroun-color-gradientTwo,transparent) 75%);background-size:200% auto;border-radius:.375rem;border-radius:var(--radius-xs,calc(6rem/var(--orama-base-font-size, 16)));display:flex;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.is-highlighted.sc-orama-chat-button .icon-star.sc-orama-chat-button{animation:steam 1.4s linear 1 forwards}.icon-enter.sc-orama-chat-button{align-items:center;border:.7px solid #dadada;border:.7px solid var(--border-color-primary,#dadada);border-radius:.375rem;border-radius:var(--radius-xs,calc(6rem/var(--orama-base-font-size, 16)));display:flex;justify-self:flex-end;padding:.25rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.button-label.sc-orama-chat-button{flex-grow:1;text-align:left}';let rw=(Cl=class{constructor(e){Lt(this,e),this.active=!1,this.highlight=!1}highlightButton(){this.active&&!this.highlight&&(this.highlight=!0)}render(){let e=["label","onClick","class"],a=th(this.el,e);return x(qt,{key:"cc45b1355726ff5bf65b39f4243f6f0d227d0c80",class:this.class},x("button",Object.assign({key:"4a312f0e559412dee000149b4f3cf74cfe858c0e",class:{"chat-button":!0,"is-active":this.active,"is-highlighted":this.highlight}},a,{type:"button"}),x("span",{key:"9a10019c4b275d05978ecad9abcffb058d782943",class:"icon-star"},x(Gy,{key:"82edfc1787227fb15f3fefedecf57e2a0e74d8b3",name:"star",size:16})),x("span",{key:"13e4d54e9296f513735f6081caaf060cc9511905",class:"button-label"},this.label),x("span",{key:"3c98e473b7b88034a316590bae6de3d1c1ca4dd4",class:"icon-enter"},x("ph-arrow-bend-down-left",{key:"36f9ce444b33abaef5cfdf81d0d0d2b199f8590f",size:12}))))}get el(){return sr(this)}static get watchers(){return{active:["highlightButton"],highlight:["highlightButton"]}}static get style(){return tw}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-chat-button",$members$:{label:[1],active:[4],highlight:[1028],class:[1]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Cl,"OramaChatButton"),Cl);var sw="orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar{width:.3em}orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar-track{background:transparent}orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.messages-container.sc-orama-chat-messages-container{display:flex;flex-direction:column;gap:1.5rem;gap:var(--spacing-xl,calc(24rem/var(--orama-base-font-size, 16)));margin:1rem 0;margin:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0;overflow:hidden}.suggestions-wrapper.sc-orama-chat-messages-container{margin-top:1.5rem;margin-top:var(--spacing-xl,calc(24rem/var(--orama-base-font-size, 16)))}",aw=function(s,e,a,n){var l=arguments.length,c=l<3?e:n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,e,a,n);else for(var p=s.length-1;p>=0;p--)(h=s[p])&&(c=(l<3?h(c):l>3?h(e,a,c):h(e,a))||c);return l>3&&c&&Object.defineProperty(e,a,c),c};let jy=(kl=class{constructor(e){Lt(this,e),this.answerGenerated=Ot(this,"answerGenerated",7),this.latestInteractionMinHeight=0,this.onSuggestionClick=a=>{var n;(n=this.chatStore.state.chatService)===null||n===void 0||n.sendQuestion(a,void 0,{onAnswerGeneratedCallback:o(l=>this.answerGenerated.emit(l),"onAnswerGeneratedCallback")})},this.resizeObserver=new yr(a=>{this.latestInteractionMinHeight=a[0].target.clientHeight-32})}componentDidLoad(){let e=this.el.parentElement.parentElement;this.resizeObserver.observe(e)}render(){return x(qt,{key:"f43daa9af2c685fd0fb945f0116343f1f73c039c"},x("div",{key:"58155ffbd6b8a0fa83e66a8d288ec8c24e633338",class:"messages-container"},this.interactions.map((e,a)=>{var n;return x("div",{key:e.interactionId,class:"interaction-wrapper",style:{minHeight:this.interactions.length>1&&a===this.interactions.length-1?`${this.latestInteractionMinHeight}px`:"0px"}},x("orama-chat-user-message",{interaction:Object.assign({},e)}),x("orama-chat-assistent-message",{interaction:Object.assign({},e),chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}),e.latest&&e.status==="done"&&!!(!((n=e.relatedQueries)===null||n===void 0)&&n.length)&&x("div",{class:"suggestions-wrapper"},x("orama-suggestions",{as:"chips",suggestions:e.relatedQueries,suggestionClicked:this.onSuggestionClick})))})))}get el(){return sr(this)}static get style(){return sw}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-chat-messages-container",$members$:{interactions:[16],chatMarkdownLinkTitle:[16],chatMarkdownLinkHref:[16],chatMarkdownLinkTarget:[16],latestInteractionMinHeight:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(kl,"OramaChatMessagesContainer"),kl);aw([js("chat")],jy.prototype,"chatStore",void 0);var nw=".sc-orama-chat-user-message-h{color:#151515;color:var(--text-color-primary,#151515);display:flex;justify-content:end;padding:0 1rem;padding:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:768.02px){.sc-orama-chat-user-message-h{justify-content:start}}.message-wrapper.sc-orama-chat-user-message{border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));padding:.5rem .75rem;padding:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)))}.chat-question.sc-orama-chat-user-message{font-weight:400}@media (min-width:768.02px){.chat-question.sc-orama-chat-user-message{font-size:1.25rem;font-size:calc(20rem/var(--orama-base-font-size, 16));margin-bottom:1rem;margin-bottom:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}}";let iw=(wl=class{constructor(e){Lt(this,e)}render(){return x(qt,{key:"d2c74982926525d2f01c2ced08900984662ed86d"},x("div",{key:"ee3082412dd37c9f04e3fdb2573cf2013a7d4985",class:"message-wrapper"},x("orama-text",{key:"b5da8143c4b840cfd24e1722846f2b24b5b8c433",as:"h2",styledAs:"p",class:"chat-question"},this.interaction.query)))}static get style(){return nw}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-chat-user-message",$members$:{interaction:[16]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(wl,"OramaChatUserMessage"),wl);var ow=".embed.sc-orama-embed{background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));box-sizing:border-box;display:flex;flex-direction:column;height:100%;inset:0;margin:0 auto;max-height:100%;min-height:25rem;min-height:calc(400rem/var(--orama-base-font-size, 16));overflow:hidden;padding:0;width:100%}@media (min-width:1024.02px){.embed.sc-orama-embed{background-color:#fff;background-color:var(--background-color-secondary,#fff)}.embed.sc-orama-embed orama-input.sc-orama-embed{border-radius:0;margin:0;padding:0}.embed.sc-orama-embed input[type=search].sc-orama-embed{border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0}}";let lw=(Il=class{constructor(e){Lt(this,e)}render(){return x("div",{key:"c4f1a3153fdf088695965527a5a19858b758e352",class:"embed"},x("slot",{key:"59d5f6aba110055ed97309465a5e77192bc5359f"}))}static get style(){return ow}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-embed",$members$:void 0,$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Il,"OramaEmbed"),Il);var cw=".facets-list.sc-orama-facets{align-items:center;-moz-column-gap:.5rem;column-gap:.5rem;-moz-column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));display:flex;list-style:none;margin:0;overflow-x:auto;padding:1rem;padding:var(--radius-l,calc(16rem/var(--orama-base-font-size, 16)));scroll-snap-type:y mandatory}.facets-list.sc-orama-facets::-webkit-scrollbar{background-color:transparent;height:0}@media (min-width:1024.02px){.facets-list.sc-orama-facets{padding:1rem .25rem .5rem;padding:var(--radius-l,calc(16rem/var(--orama-base-font-size, 16))) var(--radius-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)))}}.facet.sc-orama-facets{scroll-snap-align:start}.facet-button.sc-orama-facets{background-color:transparent;border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:2.5rem;border-radius:var(--radius-3xl,calc(40rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);-moz-column-gap:.25rem;column-gap:.25rem;-moz-column-gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));width:-moz-max-content;width:max-content}.facet-button--selected.sc-orama-facets{border-color:#432d77;border-color:var(--border-color-accent,#432d77)}@media (min-width:1024.02px){.facet-button.sc-orama-facets{padding:.25rem .75rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}}.facet-button.sc-orama-facets:focus{border-color:#432d77;border-color:var(--border-color-accent,#432d77);outline:1px solid #432d77;outline:1px solid var(--border-color-accent,#432d77)}.facet-count.sc-orama-facets{color:#99989d;color:var(--text-color-tertiary,#99989d)}";let hw=(Nl=class{constructor(e){Lt(this,e)}handleClick(e){this.selectedFacetChanged(e.name)}getFacetButtonElementId(e){return`${e}-facet-button`}setFocusToFacetElement(e){let a=this.facetListRef.getElementsByTagName("button");for(let n=0;n<a.length;n++)if(a.item(n).id===this.getFacetButtonElementId(e)){a.item(n).focus();return}}handleSelectedFacetChange(){var e;this.setFocusToFacetElement(!((e=this.selectedFacet)===null||e===void 0)&&e.length?this.selectedFacet:"All")}handleKeyDown(e){if(["ArrowLeft","ArrowRight"].includes(e.key)){let a=this.selectedFacet?this.facets.findIndex(n=>n.name===this.selectedFacet):0;e.key==="ArrowRight"&&(a<this.facets.length-1?this.selectedFacetChanged(this.facets[a+1].name):this.selectedFacetChanged("")),e.key==="ArrowLeft"&&(a>1?this.selectedFacetChanged(this.facets[a-1].name):a-1===0?this.selectedFacetChanged(""):this.selectedFacetChanged(this.facets[this.facets.length-1].name))}}render(){var e;return!this.facets||this.facets.every(a=>!a.count)?null:x("ul",{class:"facets-list",ref:o(a=>this.facetListRef=a,"ref")},(e=this.facets)===null||e===void 0?void 0:e.map(a=>{if(a?.count===0)return;let n=this.selectedFacet===a?.name||!this.selectedFacet&&a?.name==="All";return x("li",{key:a.name,class:"facet"},x("button",{id:this.getFacetButtonElementId(a.name),type:"button",class:{"facet-button":!0,"facet-button--selected":n},tabIndex:n?0:-1,onClick:o(()=>this.handleClick(a),"onClick")},a?.name,x("span",{class:"facet-count"},a?.count)))}))}static get watchers(){return{selectedFacet:["handleSelectedFacetChange"]}}static get style(){return cw}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-facets",$members$:{facets:[16],selectedFacet:[1,"selected-facet"],selectedFacetChanged:[16]},$listeners$:[[0,"keydown","handleKeyDown"]],$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Nl,"OramaFacets"),Nl);var uw=Object.defineProperty,dw=Object.getOwnPropertyDescriptor,Th=o((s,e,a,n)=>{for(var l=n>1?void 0:n?dw(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&uw(e,a,l),l},"o$1");let Ks=(Ll=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ks.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Ll,"t$4"),Ll);Ks.weightsMap=new Map([["thin",Q`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",Q`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",Q`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",Q`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",Q`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",Q`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]),Ks.styles=ar`
    :host {
      display: contents;
    }
  `,Th([Ae({type:String,reflect:!0})],Ks.prototype,"size",2),Th([Ae({type:String,reflect:!0})],Ks.prototype,"weight",2),Th([Ae({type:String,reflect:!0})],Ks.prototype,"color",2),Th([Ae({type:Boolean,reflect:!0})],Ks.prototype,"mirrored",2),Ks=Th([or("ph-arrow-up")],Ks);var pw=".sc-orama-footer-h{align-items:center;background-color:#fff;background-color:var(--background-color-secondary,#fff);border-radius:0 0 .75rem .75rem;border-radius:0 0 var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));border-top:1px solid #dadada;border-top:1px solid var(--border-color-primary,#dadada);display:flex;justify-content:space-between;padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.keyboard-shortcuts.sc-orama-footer{align-items:center;display:flex;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.shortcut-item.sc-orama-footer{align-items:center;display:flex;font-size:1rem;font-size:calc(16rem/var(--orama-base-font-size, 16));gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.shortcut-description.sc-orama-footer,.shortcut-icon.sc-orama-footer{color:#99989d;color:var(--text-color-tertiary,#99989d)}.shortcut-icon.sc-orama-footer{align-items:center;background:#eee9f6;background:var(--background-color-fourth,#eee9f6);border:.7px solid #dadada;border:.7px solid var(--border-color-primary,#dadada);border-radius:.375rem;border-radius:var(--radius-xs,calc(6rem/var(--orama-base-font-size, 16)));display:flex;justify-content:center;justify-self:flex-end;padding:.25rem;padding:calc(4rem/var(--orama-base-font-size, 16))}.arrows-container.sc-orama-footer{align-items:center;display:flex;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.esc-text.sc-orama-footer{font-size:.7rem}.powered-by.sc-orama-footer{align-items:flex-end;display:flex;flex-grow:1;justify-content:right;text-align:right}.logo-link.sc-orama-footer,.powered-by.sc-orama-footer{gap:.5rem;gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.logo-link.sc-orama-footer{align-items:center;display:inline-flex;justify-content:center;text-decoration:none}.logo-link.sc-orama-footer:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.logo.sc-orama-footer{max-width:3.875rem;max-width:calc(62rem/var(--orama-base-font-size, 16))}@media (max-width:768px){.sc-orama-footer-h{flex-direction:column;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.keyboard-shortcuts.sc-orama-footer{display:none}.powered-by.sc-orama-footer{justify-content:center}}";let mw=(xl=class{constructor(e){Lt(this,e),this.colorScheme="light",this.showKeyboardShortcuts=!1,this.linkTarget="_blank",this.keyboardShortcuts=[{name:"select",key:"Enter",icon:"arrow-bend-down-left",description:"to select"},{name:"navigate",key:"↑ ↓",icon:"arrows-vertical",description:"to navigate"},{name:"close",key:"Esc",icon:"esc",description:"to close"}]}componentWillLoad(){let e=encodeURIComponent(Rt.location.hostname);this.poweredByDestinationUrl=`https://www.orama.com/?utm_source=${e}&utm_medium=powered-by`,["localhost","orama.com"].includes(e)&&(this.linkTarget="_parent")}renderIcon(e){if(e.icon==="esc")return x("div",null,x("span",{class:"shortcut-icon"},x("span",{class:"esc-text"},"esc")));switch(e.icon){case"arrow-bend-down-left":return x("span",{class:"shortcut-icon"},x("ph-arrow-bend-down-left",{size:16}));case"arrows-vertical":return x("div",{class:"arrows-container"},x("span",{class:"shortcut-icon"},x("ph-arrow-up",{size:16})),x("span",{class:"shortcut-icon"},x("ph-arrow-down",{size:16})));default:return null}}render(){let e=this.colorScheme==="dark"?"orama-when-dark.svg":"orama-when-light.svg";return x(qt,{key:"b21ad31b55a56c189efdf83b7f745dfc149af388"},this.showKeyboardShortcuts&&x("div",{key:"0af21a82002e38855e83176b7e6dc0f2e8aebe8b",class:"keyboard-shortcuts","aria-label":"Keyboard shortcuts"},this.keyboardShortcuts.map(a=>x("div",{class:"shortcut-item"},this.renderIcon(a),x("orama-text",{as:"small",variant:"tertiary"},x("span",{class:"shortcut-description"},a.description))))),x("div",{key:"67dec2fc22297ff7a7f47eb4e112b14a3801c378",class:"powered-by"},x("a",{key:"ef8d9ea69bb7207ea1279ede9576e4cb03d4cf12",href:this.poweredByDestinationUrl,target:this.linkTarget,rel:"noopener noreferrer",class:"logo-link"},x("orama-text",{key:"49bcbd36198dfd2200d6902f65ea88f573974c4e",as:"small"},"Powered by"),x("img",{key:"f8d46510486a83866fa3b24f5d38f60fe8ce3d6b",src:`https://website-assets.oramasearch.com/${e}`,alt:"Powered by Orama",class:"logo",width:62}))))}get el(){return sr(this)}static get style(){return pw}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-footer",$members$:{class:[1],colorScheme:[16],showKeyboardShortcuts:[4,"show-keyboard-shortcuts"]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(xl,"OramaFooter"),xl);var fw='.sc-orama-logo-icon-h{align-items:center;color:#fff;color:var(--background-color-secondary,#fff);display:inline-flex;font-family:font("primary");font-family:var(--font-primary,font("primary"));height:-moz-fit-content;height:fit-content;justify-content:center;width:-moz-fit-content;width:fit-content}';let gw=(Rl=class{constructor(e){Lt(this,e),this.size=70}render(){return x(qt,{key:"2235bf70720b88feb2f9d3cedefb6979e608fe59"},x("svg",{key:"c67fc33bf404899128f6d3118c2383c936c1ec44",xmlns:"http://www.w3.org/2000/svg",width:this.size,height:this.size,viewBox:"0 0 70 70",fill:"none","aria-label":"Orama Logo",role:"img"},x("g",{key:"5940f52745ad3c98e108cdb63548f1b299248d1f","clip-path":"url(#clip0_283_10066)"},x("path",{key:"1a315205b5d0a1aca164d9ac820cc8838e3a95f4","fill-rule":"evenodd","clip-rule":"evenodd",d:"M68.5351 26.2601C68.5469 26.5629 68.552 26.8675 68.552 27.1737C68.552 36.7741 63.0209 45.0801 54.9771 49.0868C53.9924 50.5351 52.83 51.8819 51.4899 53.0951C51.4527 53.1256 51.4172 53.1577 51.3817 53.1899C41.382 62.132 26.0305 61.2742 17.09 51.2762C8.18674 41.3171 8.99889 26.057 18.8751 17.0996C18.9191 17.0624 18.9614 17.0252 19.0053 16.9879C28.8375 8.19634 44.3125 8.72594 51.9113 17.1944C52.1008 17.4059 52.297 17.6123 52.4933 17.8187C52.5441 17.8729 52.5948 17.927 52.6456 17.9811C52.676 18.0133 52.7048 18.0471 52.7353 18.0793C52.7454 18.0911 52.7573 18.103 52.7674 18.1165C52.7962 18.1487 52.8232 18.1791 52.852 18.2113C52.8622 18.2231 52.874 18.2349 52.8841 18.2468C52.9146 18.2823 52.9468 18.3179 52.9772 18.3534C52.984 18.3618 52.9907 18.3686 52.9975 18.3771C53.0364 18.4228 53.0737 18.4684 53.1126 18.5141C53.1143 18.5158 53.1143 18.5158 53.116 18.5175C53.1515 18.5598 53.187 18.6038 53.2225 18.6478C53.2327 18.6596 53.2429 18.6732 53.253 18.685C53.2801 18.7172 53.3055 18.751 53.3325 18.7831C53.3444 18.7984 53.3562 18.8136 53.3681 18.8288C53.3934 18.861 53.4171 18.8914 53.4425 18.9236C53.4544 18.9388 53.4662 18.954 53.478 18.9693C53.5034 19.0031 53.5305 19.0369 53.5559 19.0708C53.566 19.0843 53.5762 19.0962 53.5846 19.1097C53.6185 19.1554 53.654 19.2011 53.6878 19.2484C53.698 19.262 53.7065 19.2755 53.7166 19.2874C53.967 19.6325 54.2056 19.9895 54.4272 20.355C57.8028 25.4631 57.0126 32.4122 52.3123 36.6151C52.2716 36.6506 52.2327 36.6878 52.1938 36.7234C47.0282 41.2342 39.1756 40.7588 34.5903 35.632C34.5548 35.5914 34.5176 35.5525 34.482 35.5153C29.9712 30.3496 30.4466 22.4971 35.5734 17.9118C35.5869 17.8999 35.5987 17.8881 35.6123 17.8762C38.1655 15.609 41.6967 14.4618 45.1111 14.6192C45.859 14.653 46.5781 14.7494 47.26 14.9C42.6239 12.0389 36.5361 11.1235 30.6852 12.3908C26.3892 13.3231 22.9308 16.5159 21.6973 20.7357C19.5214 28.167 21.1186 36.522 26.6633 42.7181C26.7107 42.7722 26.7614 42.8247 26.8105 42.8755C35.3602 52.2643 49.9062 53.0325 59.3933 44.5421C59.4474 44.493 59.5015 44.4439 59.5523 44.3932C68.8667 35.9095 69.6924 21.5208 61.4084 12.0304C61.1902 11.7343 60.9651 11.4484 60.735 11.1692C48.9604 -3.43781 25.8461 -3.21954 12.0885 8.91883C12.0326 8.96451 11.9768 9.01188 11.921 9.06264C-2.45083 21.915 -3.6843 43.9786 9.16302 58.3521C9.16471 58.3538 9.1664 58.3572 9.16979 58.3589C21.9866 72.6918 43.9656 73.9574 58.3425 61.2217C58.3865 61.1845 58.4288 61.1473 58.4728 61.1101C68.5571 52.0867 71.667 38.4221 68.5351 26.2601Z",fill:"currentColor"})),x("defs",{key:"118481134564a16c0f233c08a9725bddf4433181"},x("clipPath",{key:"86311f5c5fba97ca869c0cf2fc6454250455145f",id:"clip0_283_10066"},x("rect",{key:"5a0f6e869db526deca5a40f2f5662b87efc4dcfe",width:"70",height:"70",fill:"white"})))))}static get style(){return fw}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-logo-icon",$members$:{size:[2]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Rl,"OramaLogoIcon"),Rl),Ew=["1c","abnf","accesslog","ada","arduino","ino","armasm","arm","avrasm","actionscript","as","angelscript","asc","apache","apacheconf","applescript","osascript","arcade","asciidoc","adoc","aspectj","autohotkey","autoit","awk","mawk","nawk","gawk","bash","sh","zsh","basic","bnf","brainfuck","bf","csharp","cs","c","h","cpp","hpp","cc","hh","c++","h++","cxx","hxx","cal","cos","cls","cmake","cmake.in","coq","csp","css","capnproto","capnp","clojure","clj","coffeescript","coffee","cson","iced","crmsh","crm","pcmk","crystal","cr","d","dart","dpr","dfm","pas","pascal","diff","patch","django","jinja","dns","zone","bind","dockerfile","docker","dos","bat","cmd","dsconfig","dts","dust","dst","ebnf","elixir","elm","erlang","erl","excel","xls","xlsx","fsharp","fs","fsx","fsi","fsscript","fix","fortran","f90","f95","gcode","nc","gams","gms","gauss","gss","gherkin","go","golang","golo","gololang","gradle","graphql","gql","groovy","xml","html","xhtml","rss","atom","xjb","xsd","xsl","plist","svg","http","https","haml","handlebars","hbs","html.hbs","html.handlebars","haskell","hs","haxe","hx","hy","hylang","ini","toml","inform7","i7","irpf90","json","jsonc","java","jsp","javascript","js","jsx","julia","jl","julia-repl","kotlin","kt","tex","leaf","lasso","ls","lassoscript","less","ldif","lisp","livecodeserver","livescript","ls","lua","makefile","mk","mak","make","markdown","md","mkdown","mkd","mathematica","mma","wl","matlab","maxima","mel","mercury","mips","mipsasm","mizar","mojolicious","monkey","moonscript","moon","n1ql","nsis","nginx","nginxconf","nim","nimrod","nix","ocaml","ml","objectivec","mm","objc","obj-c","obj-c++","objective-c++","glsl","openscad","scad","ruleslanguage","oxygene","pf","pf.conf","php","parser3","perl","pl","pm","plaintext","txt","text","pony","pgsql","postgres","postgresql","powershell","ps","ps1","processing","prolog","properties","proto","protobuf","puppet","pp","python","py","gyp","profile","python-repl","pycon","k","kdb","qml","r","reasonml","re","rib","rsl","graph","instances","ruby","rb","gemspec","podspec","thor","irb","rust","rs","SAS","sas","scss","sql","p21","step","stp","scala","scheme","scilab","sci","shell","console","smali","smalltalk","st","sml","ml","stan","stanfuncs","stata","stylus","styl","subunit","swift","tcl","tk","tap","thrift","tp","twig","craftcms","typescript","ts","tsx","mts","cts","vbnet","vb","vbscript","vbs","vhdl","vala","verilog","v","vim","axapta","x++","x86asm","xl","tao","xquery","xpath","xq","xqm","yml","yaml","zephir","zep"];var Vy={exports:{}};(function(s,e){(function(a,n){s.exports=n()})(Vu,function(){let{entries:a,setPrototypeOf:n,isFrozen:l,getPrototypeOf:c,getOwnPropertyDescriptor:h}=Object,{freeze:p,seal:m,create:f}=Object,{apply:g,construct:_}=typeof Reflect<"u"&&Reflect;p||(p=o(function(Ge){return Ge},"freeze")),m||(m=o(function(Ge){return Ge},"seal")),g||(g=o(function(Ge,Ie,J){return Ge.apply(Ie,J)},"apply")),_||(_=o(function(Ge,Ie){return new Ge(...Ie)},"construct"));let w=se(Array.prototype.forEach),D=se(Array.prototype.lastIndexOf),B=se(Array.prototype.pop),G=se(Array.prototype.push),ee=se(Array.prototype.splice),ae=se(String.prototype.toLowerCase),ne=se(String.prototype.toString),Ee=se(String.prototype.match),Pe=se(String.prototype.replace),me=se(String.prototype.indexOf),ie=se(String.prototype.trim),q=se(Object.prototype.hasOwnProperty),te=se(RegExp.prototype.test),$e=ge(TypeError);function se(Ge){return function(Ie){Ie instanceof RegExp&&(Ie.lastIndex=0);for(var J=arguments.length,le=new Array(J>1?J-1:0),Me=1;Me<J;Me++)le[Me-1]=arguments[Me];return g(Ge,Ie,le)}}o(se,"unapply");function ge(Ge){return function(){for(var Ie=arguments.length,J=new Array(Ie),le=0;le<Ie;le++)J[le]=arguments[le];return _(Ge,J)}}o(ge,"unconstruct");function z(Ge,Ie){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ae;n&&n(Ge,null);let le=Ie.length;for(;le--;){let Me=Ie[le];if(typeof Me=="string"){let Ke=J(Me);Ke!==Me&&(l(Ie)||(Ie[le]=Ke),Me=Ke)}Ge[Me]=!0}return Ge}o(z,"addToSet");function U(Ge){for(let Ie=0;Ie<Ge.length;Ie++)q(Ge,Ie)||(Ge[Ie]=null);return Ge}o(U,"cleanArray");function pe(Ge){let Ie=f(null);for(let[J,le]of a(Ge))q(Ge,J)&&(Array.isArray(le)?Ie[J]=U(le):le&&typeof le=="object"&&le.constructor===Object?Ie[J]=pe(le):Ie[J]=le);return Ie}o(pe,"clone");function Ve(Ge,Ie){for(;Ge!==null;){let le=h(Ge,Ie);if(le){if(le.get)return se(le.get);if(typeof le.value=="function")return se(le.value)}Ge=c(Ge)}function J(){return null}return o(J,"fallbackValue"),J}o(Ve,"lookupGetter");let j=p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),de=p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xe=p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ye=p(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H=p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_e=p(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nt=p(["#text"]),ht=p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),et=p(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tt=p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hr=p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fs=m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gs=m(/<%[\w\W]*|[\w\W]*%>/gm),nc=m(/\$\{[\w\W]*/gm),An=m(/^data-[\-\w.\u00B7-\uFFFF]+$/),ic=m(/^aria-[\-\w]+$/),ns=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ma=m(/^(?:\w+script|data):/i),vn=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sr=m(/^html$/i),Ih=m(/^[a-z][.\w]*(-[.\w]+)+$/i);var Da=Object.freeze({__proto__:null,ARIA_ATTR:ic,ATTR_WHITESPACE:vn,CUSTOM_ELEMENT:Ih,DATA_ATTR:An,DOCTYPE_NAME:Sr,ERB_EXPR:gs,IS_ALLOWED_URI:ns,IS_SCRIPT_OR_DATA:Ma,MUSTACHE_EXPR:fs,TMPLIT_EXPR:nc});let Ue={element:1,text:3,progressingInstruction:7,comment:8,document:9},oc=o(function(){return typeof Rt>"u"?null:Rt},"getGlobal"),Gt=o(function(Ge,Ie){if(typeof Ge!="object"||typeof Ge.createPolicy!="function")return null;let J=null,le="data-tt-policy-suffix";Ie&&Ie.hasAttribute(le)&&(J=Ie.getAttribute(le));let Me="dompurify"+(J?"#"+J:"");try{return Ge.createPolicy(Me,{createHTML(Ke){return Ke},createScriptURL(Ke){return Ke}})}catch{return je.warn("TrustedTypes policy "+Me+" could not be created."),null}},"_createTrustedTypesPolicy"),bt=o(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function Br(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oc(),Ie=o(R=>Br(R),"DOMPurify");if(Ie.version="3.2.5",Ie.removed=[],!Ge||!Ge.document||Ge.document.nodeType!==Ue.document||!Ge.Element)return Ie.isSupported=!1,Ie;let{document:J}=Ge,le=J,Me=le.currentScript,{DocumentFragment:Ke,HTMLTemplateElement:Vt,Node:lr,Element:Es,NodeFilter:br,NamedNodeMap:Sn=Ge.NamedNodeMap||Ge.MozNamedAttrMap,HTMLFormElement:lc,DOMParser:Ts,trustedTypes:bs}=Ge,Pa=Es.prototype,na=Ve(Pa,"cloneNode"),dt=Ve(Pa,"remove"),Cf=Ve(Pa,"nextSibling"),kf=Ve(Pa,"childNodes"),cc=Ve(Pa,"parentNode");if(typeof Vt=="function"){let R=J.createElement("template");R.content&&R.content.ownerDocument&&(J=R.content.ownerDocument)}let dr,Cn="",{implementation:Nh,createNodeIterator:wf,createDocumentFragment:If,getElementsByTagName:$a}=J,{importNode:ys}=le,zt=bt();Ie.isSupported=typeof a=="function"&&typeof cc=="function"&&Nh&&Nh.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:_s,ERB_EXPR:Zr,TMPLIT_EXPR:os,DATA_ATTR:ls,ARIA_ATTR:M8,IS_SCRIPT_OR_DATA:D8,ATTR_WHITESPACE:w_,CUSTOM_ELEMENT:Ha}=Da,{IS_ALLOWED_URI:Ze}=Da,b=null,A=z({},[...j,...de,...xe,...H,...nt]),S=null,C=z({},[...ht,...et,...Tt,...Hr]),N=Object.seal(f(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),P=null,W=null,re=!0,Ne=!0,Se=!1,tt=!0,it=!1,xt=!0,ot=!1,Ur=!1,xr=!1,As=!1,kn=!1,wn=!1,Lh=!0,hc=!1,P8="user-content-",Nf=!0,xh=!1,uc={},dc=null,I_=z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),N_=null,L_=z({},["audio","video","img","source","image","track"]),Lf=null,x_=z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),md="http://www.w3.org/1998/Math/MathML",fd="http://www.w3.org/2000/svg",ia="http://www.w3.org/1999/xhtml",pc=ia,xf=!1,Rf=null,$8=z({},[md,fd,ia],ne),gd=z({},["mi","mo","mn","ms","mtext"]),Ed=z({},["annotation-xml"]),H8=z({},["title","style","font","a","script"]),Rh=null,B8=["application/xhtml+xml","text/html"],U8="text/html",cr=null,mc=null,F8=J.createElement("form"),R_=o(function(R){return R instanceof RegExp||R instanceof Function},"isRegexOrFunction"),Of=o(function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mc&&mc===R)){if((!R||typeof R!="object")&&(R={}),R=pe(R),Rh=B8.indexOf(R.PARSER_MEDIA_TYPE)===-1?U8:R.PARSER_MEDIA_TYPE,cr=Rh==="application/xhtml+xml"?ne:ae,b=q(R,"ALLOWED_TAGS")?z({},R.ALLOWED_TAGS,cr):A,S=q(R,"ALLOWED_ATTR")?z({},R.ALLOWED_ATTR,cr):C,Rf=q(R,"ALLOWED_NAMESPACES")?z({},R.ALLOWED_NAMESPACES,ne):$8,Lf=q(R,"ADD_URI_SAFE_ATTR")?z(pe(x_),R.ADD_URI_SAFE_ATTR,cr):x_,N_=q(R,"ADD_DATA_URI_TAGS")?z(pe(L_),R.ADD_DATA_URI_TAGS,cr):L_,dc=q(R,"FORBID_CONTENTS")?z({},R.FORBID_CONTENTS,cr):I_,P=q(R,"FORBID_TAGS")?z({},R.FORBID_TAGS,cr):{},W=q(R,"FORBID_ATTR")?z({},R.FORBID_ATTR,cr):{},uc=q(R,"USE_PROFILES")?R.USE_PROFILES:!1,re=R.ALLOW_ARIA_ATTR!==!1,Ne=R.ALLOW_DATA_ATTR!==!1,Se=R.ALLOW_UNKNOWN_PROTOCOLS||!1,tt=R.ALLOW_SELF_CLOSE_IN_ATTR!==!1,it=R.SAFE_FOR_TEMPLATES||!1,xt=R.SAFE_FOR_XML!==!1,ot=R.WHOLE_DOCUMENT||!1,As=R.RETURN_DOM||!1,kn=R.RETURN_DOM_FRAGMENT||!1,wn=R.RETURN_TRUSTED_TYPE||!1,xr=R.FORCE_BODY||!1,Lh=R.SANITIZE_DOM!==!1,hc=R.SANITIZE_NAMED_PROPS||!1,Nf=R.KEEP_CONTENT!==!1,xh=R.IN_PLACE||!1,Ze=R.ALLOWED_URI_REGEXP||ns,pc=R.NAMESPACE||ia,gd=R.MATHML_TEXT_INTEGRATION_POINTS||gd,Ed=R.HTML_INTEGRATION_POINTS||Ed,N=R.CUSTOM_ELEMENT_HANDLING||{},R.CUSTOM_ELEMENT_HANDLING&&R_(R.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(N.tagNameCheck=R.CUSTOM_ELEMENT_HANDLING.tagNameCheck),R.CUSTOM_ELEMENT_HANDLING&&R_(R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(N.attributeNameCheck=R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),R.CUSTOM_ELEMENT_HANDLING&&typeof R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(N.allowCustomizedBuiltInElements=R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),it&&(Ne=!1),kn&&(As=!0),uc&&(b=z({},nt),S=[],uc.html===!0&&(z(b,j),z(S,ht)),uc.svg===!0&&(z(b,de),z(S,et),z(S,Hr)),uc.svgFilters===!0&&(z(b,xe),z(S,et),z(S,Hr)),uc.mathMl===!0&&(z(b,H),z(S,Tt),z(S,Hr))),R.ADD_TAGS&&(b===A&&(b=pe(b)),z(b,R.ADD_TAGS,cr)),R.ADD_ATTR&&(S===C&&(S=pe(S)),z(S,R.ADD_ATTR,cr)),R.ADD_URI_SAFE_ATTR&&z(Lf,R.ADD_URI_SAFE_ATTR,cr),R.FORBID_CONTENTS&&(dc===I_&&(dc=pe(dc)),z(dc,R.FORBID_CONTENTS,cr)),Nf&&(b["#text"]=!0),ot&&z(b,["html","head","body"]),b.table&&(z(b,["tbody"]),delete P.tbody),R.TRUSTED_TYPES_POLICY){if(typeof R.TRUSTED_TYPES_POLICY.createHTML!="function")throw $e('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof R.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $e('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');dr=R.TRUSTED_TYPES_POLICY,Cn=dr.createHTML("")}else dr===void 0&&(dr=Gt(bs,Me)),dr!==null&&typeof Cn=="string"&&(Cn=dr.createHTML(""));p&&p(R),mc=R}},"_parseConfig"),O_=z({},[...de,...xe,...Ye]),M_=z({},[...H,..._e]),z8=o(function(R){let Ce=cc(R);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:pc,tagName:"template"});let Te=ae(R.tagName),vt=ae(Ce.tagName);return Rf[R.namespaceURI]?R.namespaceURI===fd?Ce.namespaceURI===ia?Te==="svg":Ce.namespaceURI===md?Te==="svg"&&(vt==="annotation-xml"||gd[vt]):!!O_[Te]:R.namespaceURI===md?Ce.namespaceURI===ia?Te==="math":Ce.namespaceURI===fd?Te==="math"&&Ed[vt]:!!M_[Te]:R.namespaceURI===ia?Ce.namespaceURI===fd&&!Ed[vt]||Ce.namespaceURI===md&&!gd[vt]?!1:!M_[Te]&&(H8[Te]||!O_[Te]):!!(Rh==="application/xhtml+xml"&&Rf[R.namespaceURI]):!1},"_checkValidNamespace"),In=o(function(R){G(Ie.removed,{element:R});try{cc(R).removeChild(R)}catch{dt(R)}},"_forceRemove"),Td=o(function(R,Ce){try{G(Ie.removed,{attribute:Ce.getAttributeNode(R),from:Ce})}catch{G(Ie.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(R),R==="is")if(As||kn)try{In(Ce)}catch{}else try{Ce.setAttribute(R,"")}catch{}},"_removeAttribute"),D_=o(function(R){let Ce=null,Te=null;if(xr)R="<remove></remove>"+R;else{let Zt=Ee(R,/^[\r\n\t ]+/);Te=Zt&&Zt[0]}Rh==="application/xhtml+xml"&&pc===ia&&(R='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+R+"</body></html>");let vt=dr?dr.createHTML(R):R;if(pc===ia)try{Ce=new Ts().parseFromString(vt,Rh)}catch{}if(!Ce||!Ce.documentElement){Ce=Nh.createDocument(pc,"template",null);try{Ce.documentElement.innerHTML=xf?Cn:vt}catch{}}let pr=Ce.body||Ce.documentElement;return R&&Te&&pr.insertBefore(J.createTextNode(Te),pr.childNodes[0]||null),pc===ia?$a.call(Ce,ot?"html":"body")[0]:ot?Ce.documentElement:pr},"_initDocument"),P_=o(function(R){return wf.call(R.ownerDocument||R,R,br.SHOW_ELEMENT|br.SHOW_COMMENT|br.SHOW_TEXT|br.SHOW_PROCESSING_INSTRUCTION|br.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),Mf=o(function(R){return R instanceof lc&&(typeof R.nodeName!="string"||typeof R.textContent!="string"||typeof R.removeChild!="function"||!(R.attributes instanceof Sn)||typeof R.removeAttribute!="function"||typeof R.setAttribute!="function"||typeof R.namespaceURI!="string"||typeof R.insertBefore!="function"||typeof R.hasChildNodes!="function")},"_isClobbered"),$_=o(function(R){return typeof lr=="function"&&R instanceof lr},"_isNode");function vs(R,Ce,Te){w(R,vt=>{vt.call(Ie,Ce,Te,mc)})}o(vs,"_executeHooks");let H_=o(function(R){let Ce=null;if(vs(zt.beforeSanitizeElements,R,null),Mf(R))return In(R),!0;let Te=cr(R.nodeName);if(vs(zt.uponSanitizeElement,R,{tagName:Te,allowedTags:b}),R.hasChildNodes()&&!$_(R.firstElementChild)&&te(/<[/\w!]/g,R.innerHTML)&&te(/<[/\w!]/g,R.textContent)||R.nodeType===Ue.progressingInstruction||xt&&R.nodeType===Ue.comment&&te(/<[/\w]/g,R.data))return In(R),!0;if(!b[Te]||P[Te]){if(!P[Te]&&U_(Te)&&(N.tagNameCheck instanceof RegExp&&te(N.tagNameCheck,Te)||N.tagNameCheck instanceof Function&&N.tagNameCheck(Te)))return!1;if(Nf&&!dc[Te]){let vt=cc(R)||R.parentNode,pr=kf(R)||R.childNodes;if(pr&&vt){let Zt=pr.length;for(let oa=Zt-1;oa>=0;--oa){let Wr=na(pr[oa],!0);Wr.__removalCount=(R.__removalCount||0)+1,vt.insertBefore(Wr,Cf(R))}}}return In(R),!0}return R instanceof Es&&!z8(R)||(Te==="noscript"||Te==="noembed"||Te==="noframes")&&te(/<\/no(script|embed|frames)/i,R.innerHTML)?(In(R),!0):(it&&R.nodeType===Ue.text&&(Ce=R.textContent,w([_s,Zr,os],vt=>{Ce=Pe(Ce,vt," ")}),R.textContent!==Ce&&(G(Ie.removed,{element:R.cloneNode()}),R.textContent=Ce)),vs(zt.afterSanitizeElements,R,null),!1)},"_sanitizeElements"),B_=o(function(R,Ce,Te){if(Lh&&(Ce==="id"||Ce==="name")&&(Te in J||Te in F8))return!1;if(!(Ne&&!W[Ce]&&te(ls,Ce))&&!(re&&te(M8,Ce))){if(!S[Ce]||W[Ce]){if(!(U_(R)&&(N.tagNameCheck instanceof RegExp&&te(N.tagNameCheck,R)||N.tagNameCheck instanceof Function&&N.tagNameCheck(R))&&(N.attributeNameCheck instanceof RegExp&&te(N.attributeNameCheck,Ce)||N.attributeNameCheck instanceof Function&&N.attributeNameCheck(Ce))||Ce==="is"&&N.allowCustomizedBuiltInElements&&(N.tagNameCheck instanceof RegExp&&te(N.tagNameCheck,Te)||N.tagNameCheck instanceof Function&&N.tagNameCheck(Te))))return!1}else if(!Lf[Ce]&&!te(Ze,Pe(Te,w_,""))&&!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&R!=="script"&&me(Te,"data:")===0&&N_[R])&&!(Se&&!te(D8,Pe(Te,w_,"")))&&Te)return!1}return!0},"_isValidAttribute"),U_=o(function(R){return R!=="annotation-xml"&&Ee(R,Ha)},"_isBasicCustomElement"),F_=o(function(R){vs(zt.beforeSanitizeAttributes,R,null);let{attributes:Ce}=R;if(!Ce||Mf(R))return;let Te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S,forceKeepAttr:void 0},vt=Ce.length;for(;vt--;){let pr=Ce[vt],{name:Zt,namespaceURI:oa,value:Wr}=pr,Ss=cr(Zt),Cr=Zt==="value"?Wr:ie(Wr);if(Te.attrName=Ss,Te.attrValue=Cr,Te.keepAttr=!0,Te.forceKeepAttr=void 0,vs(zt.uponSanitizeAttribute,R,Te),Cr=Te.attrValue,hc&&(Ss==="id"||Ss==="name")&&(Td(Zt,R),Cr=P8+Cr),xt&&te(/((--!?|])>)|<\/(style|title)/i,Cr)){Td(Zt,R);continue}if(Te.forceKeepAttr||(Td(Zt,R),!Te.keepAttr))continue;if(!tt&&te(/\/>/i,Cr)){Td(Zt,R);continue}it&&w([_s,Zr,os],j8=>{Cr=Pe(Cr,j8," ")});let z_=cr(R.nodeName);if(B_(z_,Ss,Cr)){if(dr&&typeof bs=="object"&&typeof bs.getAttributeType=="function"&&!oa)switch(bs.getAttributeType(z_,Ss)){case"TrustedHTML":{Cr=dr.createHTML(Cr);break}case"TrustedScriptURL":{Cr=dr.createScriptURL(Cr);break}}try{oa?R.setAttributeNS(oa,Zt,Cr):R.setAttribute(Zt,Cr),Mf(R)?In(R):B(Ie.removed)}catch{}}}vs(zt.afterSanitizeAttributes,R,null)},"_sanitizeAttributes"),G8=o(function R(Ce){let Te=null,vt=P_(Ce);for(vs(zt.beforeSanitizeShadowDOM,Ce,null);Te=vt.nextNode();)vs(zt.uponSanitizeShadowNode,Te,null),H_(Te),F_(Te),Te.content instanceof Ke&&R(Te.content);vs(zt.afterSanitizeShadowDOM,Ce,null)},"_sanitizeShadowDOM");return Ie.sanitize=function(R){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=null,vt=null,pr=null,Zt=null;if(xf=!R,xf&&(R="<!-->"),typeof R!="string"&&!$_(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw $e("dirty is not a string, aborting")}else throw $e("toString is not a function");if(!Ie.isSupported)return R;if(Ur||Of(Ce),Ie.removed=[],typeof R=="string"&&(xh=!1),xh){if(R.nodeName){let Ss=cr(R.nodeName);if(!b[Ss]||P[Ss])throw $e("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof lr)Te=D_("<!---->"),vt=Te.ownerDocument.importNode(R,!0),vt.nodeType===Ue.element&&vt.nodeName==="BODY"||vt.nodeName==="HTML"?Te=vt:Te.appendChild(vt);else{if(!As&&!it&&!ot&&R.indexOf("<")===-1)return dr&&wn?dr.createHTML(R):R;if(Te=D_(R),!Te)return As?null:wn?Cn:""}Te&&xr&&In(Te.firstChild);let oa=P_(xh?R:Te);for(;pr=oa.nextNode();)H_(pr),F_(pr),pr.content instanceof Ke&&G8(pr.content);if(xh)return R;if(As){if(kn)for(Zt=If.call(Te.ownerDocument);Te.firstChild;)Zt.appendChild(Te.firstChild);else Zt=Te;return(S.shadowroot||S.shadowrootmode)&&(Zt=ys.call(le,Zt,!0)),Zt}let Wr=ot?Te.outerHTML:Te.innerHTML;return ot&&b["!doctype"]&&Te.ownerDocument&&Te.ownerDocument.doctype&&Te.ownerDocument.doctype.name&&te(Sr,Te.ownerDocument.doctype.name)&&(Wr="<!DOCTYPE "+Te.ownerDocument.doctype.name+`>
`+Wr),it&&w([_s,Zr,os],Ss=>{Wr=Pe(Wr,Ss," ")}),dr&&wn?dr.createHTML(Wr):Wr},Ie.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Of(R),Ur=!0},Ie.clearConfig=function(){mc=null,Ur=!1},Ie.isValidAttribute=function(R,Ce,Te){mc||Of({});let vt=cr(R),pr=cr(Ce);return B_(vt,pr,Te)},Ie.addHook=function(R,Ce){typeof Ce=="function"&&G(zt[R],Ce)},Ie.removeHook=function(R,Ce){if(Ce!==void 0){let Te=D(zt[R],Ce);return Te===-1?void 0:ee(zt[R],Te,1)[0]}return B(zt[R])},Ie.removeHooks=function(R){zt[R]=[]},Ie.removeAllHooks=function(){zt=bt()},Ie}o(Br,"createDOMPurify");var is=Br();return is})})(Vy);var pf=Vy.exports;function mf(s){return s instanceof Map?s.clear=s.delete=s.set=function(){throw new Error("map is read-only")}:s instanceof Set&&(s.add=s.clear=s.delete=function(){throw new Error("set is read-only")}),Object.freeze(s),Object.getOwnPropertyNames(s).forEach(e=>{let a=s[e],n=typeof a;(n==="object"||n==="function")&&!Object.isFrozen(a)&&mf(a)}),s}o(mf,"deepFreeze");let Zy=(Ol=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}},o(Ol,"Response"),Ol);function ff(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}o(ff,"escapeHTML");function Qs(s,...e){let a=Object.create(null);for(let n in s)a[n]=s[n];return e.forEach(function(n){for(let l in n)a[l]=n[l]}),a}o(Qs,"inherit$1");let Tw="</span>",Wy=o(s=>!!s.scope,"emitsWrappingTags"),bw=o((s,{prefix:e})=>{if(s.startsWith("language:"))return s.replace("language:","language-");if(s.includes(".")){let a=s.split(".");return[`${e}${a.shift()}`,...a.map((n,l)=>`${n}${"_".repeat(l+1)}`)].join(" ")}return`${e}${s}`},"scopeToCSSClass"),yw=(Ml=class{constructor(e,a){this.buffer="",this.classPrefix=a.classPrefix,e.walk(this)}addText(e){this.buffer+=ff(e)}openNode(e){if(!Wy(e))return;let a=bw(e.scope,{prefix:this.classPrefix});this.span(a)}closeNode(e){Wy(e)&&(this.buffer+=Tw)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}},o(Ml,"HTMLRenderer"),Ml),Yy=o((s={})=>{let e={children:[]};return Object.assign(e,s),e},"newNode"),_w=(_n=class{constructor(){this.rootNode=Yy(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let a=Yy({scope:e});this.add(a),this.stack.push(a)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,a){return typeof a=="string"?e.addText(a):a.children&&(e.openNode(a),a.children.forEach(n=>this._walk(e,n)),e.closeNode(a)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(a=>typeof a=="string")?e.children=[e.children.join("")]:e.children.forEach(a=>{_n._collapse(a)}))}},o(_n,"TokenTree"),_n),Aw=(Dl=class extends _w{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,a){let n=e.root;a&&(n.scope=`language:${a}`),this.add(n)}toHTML(){return new yw(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}},o(Dl,"TokenTreeEmitter"),Dl);function co(s){return s?typeof s=="string"?s:s.source:null}o(co,"source");function gf(s){return Na("(?=",s,")")}o(gf,"lookahead");function qy(s){return Na("(?:",s,")*")}o(qy,"anyNumberOfTimes");function Ky(s){return Na("(?:",s,")?")}o(Ky,"optional");function Na(...s){return s.map(e=>co(e)).join("")}o(Na,"concat");function Qy(s){let e=s[s.length-1];return typeof e=="object"&&e.constructor===Object?(s.splice(s.length-1,1),e):{}}o(Qy,"stripOptionsFromArgs");function id(...s){return"("+(Qy(s).capture?"":"?:")+s.map(e=>co(e)).join("|")+")"}o(id,"either");function Ef(s){return new RegExp(s.toString()+"|").exec("").length-1}o(Ef,"countMatchGroups");function Xy(s,e){let a=s&&s.exec(e);return a&&a.index===0}o(Xy,"startsWith");let vw=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function od(s,{joinWith:e}){let a=0;return s.map(n=>{a+=1;let l=a,c=co(n),h="";for(;c.length>0;){let p=vw.exec(c);if(!p){h+=c;break}h+=c.substring(0,p.index),c=c.substring(p.index+p[0].length),p[0][0]==="\\"&&p[1]?h+="\\"+String(Number(p[1])+l):(h+=p[0],p[0]==="("&&a++)}return h}).map(n=>`(${n})`).join(e)}o(od,"_rewriteBackreferences");let Sw=/\b\B/,Jy="[a-zA-Z]\\w*",Tf="[a-zA-Z_]\\w*",e_="\\b\\d+(\\.\\d+)?",t_="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",r_="\\b(0b[01]+)",Cw="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",kw=o((s={})=>{let e=/^#![ ]*\//;return s.binary&&(s.begin=Na(e,/.*\b/,s.binary,/\b.*/)),Qs({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":o((a,n)=>{a.index!==0&&n.ignoreMatch()},"on:begin")},s)},"SHEBANG"),bh={begin:"\\\\[\\s\\S]",relevance:0},ww={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[bh]},Iw={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[bh]},Nw={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ld=o(function(s,e,a={}){let n=Qs({scope:"comment",begin:s,end:e,contains:[]},a);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let l=id("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:Na(/[ ]+/,"(",l,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},"COMMENT"),Lw=ld("//","$"),xw=ld("/\\*","\\*/"),Rw=ld("#","$"),Ow={scope:"number",begin:e_,relevance:0},Mw={scope:"number",begin:t_,relevance:0},Dw={scope:"number",begin:r_,relevance:0},Pw={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[bh,{begin:/\[/,end:/\]/,relevance:0,contains:[bh]}]},$w={scope:"title",begin:Jy,relevance:0},Hw={scope:"title",begin:Tf,relevance:0},Bw={begin:"\\.\\s*"+Tf,relevance:0};var cd=Object.freeze({__proto__:null,APOS_STRING_MODE:ww,BACKSLASH_ESCAPE:bh,BINARY_NUMBER_MODE:Dw,BINARY_NUMBER_RE:r_,COMMENT:ld,C_BLOCK_COMMENT_MODE:xw,C_LINE_COMMENT_MODE:Lw,C_NUMBER_MODE:Mw,C_NUMBER_RE:t_,END_SAME_AS_BEGIN:o(function(s){return Object.assign(s,{"on:begin":o((e,a)=>{a.data._beginMatch=e[1]},"on:begin"),"on:end":o((e,a)=>{a.data._beginMatch!==e[1]&&a.ignoreMatch()},"on:end")})},"END_SAME_AS_BEGIN"),HASH_COMMENT_MODE:Rw,IDENT_RE:Jy,MATCH_NOTHING_RE:Sw,METHOD_GUARD:Bw,NUMBER_MODE:Ow,NUMBER_RE:e_,PHRASAL_WORDS_MODE:Nw,QUOTE_STRING_MODE:Iw,REGEXP_MODE:Pw,RE_STARTERS_RE:Cw,SHEBANG:kw,TITLE_MODE:$w,UNDERSCORE_IDENT_RE:Tf,UNDERSCORE_TITLE_MODE:Hw});function s_(s,e){s.input[s.index-1]==="."&&e.ignoreMatch()}o(s_,"skipIfHasPrecedingDot");function a_(s,e){s.className!==void 0&&(s.scope=s.className,delete s.className)}o(a_,"scopeClassName");function n_(s,e){e&&s.beginKeywords&&(s.begin="\\b("+s.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",s.__beforeBegin=s_,s.keywords=s.keywords||s.beginKeywords,delete s.beginKeywords,s.relevance===void 0&&(s.relevance=0))}o(n_,"beginKeywords");function i_(s,e){Array.isArray(s.illegal)&&(s.illegal=id(...s.illegal))}o(i_,"compileIllegal");function o_(s,e){if(s.match){if(s.begin||s.end)throw new Error("begin & end are not supported with match");s.begin=s.match,delete s.match}}o(o_,"compileMatch");function l_(s,e){s.relevance===void 0&&(s.relevance=1)}o(l_,"compileRelevance");let Uw=o((s,e)=>{if(!s.beforeMatch)return;if(s.starts)throw new Error("beforeMatch cannot be used with starts");let a=Object.assign({},s);Object.keys(s).forEach(n=>{delete s[n]}),s.keywords=a.keywords,s.begin=Na(a.beforeMatch,gf(a.begin)),s.starts={relevance:0,contains:[Object.assign(a,{endsParent:!0})]},s.relevance=0,delete a.beforeMatch},"beforeMatchExt"),Fw=["of","and","for","in","not","or","if","then","parent","list","value"],zw="keyword";function bf(s,e,a=zw){let n=Object.create(null);return typeof s=="string"?l(a,s.split(" ")):Array.isArray(s)?l(a,s):Object.keys(s).forEach(function(c){Object.assign(n,bf(s[c],e,c))}),n;function l(c,h){e&&(h=h.map(p=>p.toLowerCase())),h.forEach(function(p){let m=p.split("|");n[m[0]]=[c,c_(m[0],m[1])]})}}o(bf,"compileKeywords");function c_(s,e){return e?Number(e):h_(s)?0:1}o(c_,"scoreForKeyword");function h_(s){return Fw.includes(s.toLowerCase())}o(h_,"commonKeyword");let u_={},un=o(s=>{je.error(s)},"error"),d_=o((s,...e)=>{je.log(`WARN: ${s}`,...e)},"warn"),ho=o((s,e)=>{u_[`${s}/${e}`]||(je.log(`Deprecated as of ${s}. ${e}`),u_[`${s}/${e}`]=!0)},"deprecated"),hd=new Error;function yf(s,e,{key:a}){let n=0,l=s[a],c={},h={};for(let p=1;p<=e.length;p++)h[p+n]=l[p],c[p+n]=!0,n+=Ef(e[p-1]);s[a]=h,s[a]._emit=c,s[a]._multi=!0}o(yf,"remapScopeNames");function p_(s){if(Array.isArray(s.begin)){if(s.skip||s.excludeBegin||s.returnBegin)throw un("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),hd;if(typeof s.beginScope!="object"||s.beginScope===null)throw un("beginScope must be object"),hd;yf(s,s.begin,{key:"beginScope"}),s.begin=od(s.begin,{joinWith:""})}}o(p_,"beginMultiClass");function m_(s){if(Array.isArray(s.end)){if(s.skip||s.excludeEnd||s.returnEnd)throw un("skip, excludeEnd, returnEnd not compatible with endScope: {}"),hd;if(typeof s.endScope!="object"||s.endScope===null)throw un("endScope must be object"),hd;yf(s,s.end,{key:"endScope"}),s.end=od(s.end,{joinWith:""})}}o(m_,"endMultiClass");function f_(s){s.scope&&typeof s.scope=="object"&&s.scope!==null&&(s.beginScope=s.scope,delete s.scope)}o(f_,"scopeSugar");function g_(s){f_(s),typeof s.beginScope=="string"&&(s.beginScope={_wrap:s.beginScope}),typeof s.endScope=="string"&&(s.endScope={_wrap:s.endScope}),p_(s),m_(s)}o(g_,"MultiClass");function E_(s){var h,p;function e(m,f){return new RegExp(co(m),"m"+(s.case_insensitive?"i":"")+(s.unicodeRegex?"u":"")+(f?"g":""))}o(e,"langRe");let a=(h=class{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(f,g){g.position=this.position++,this.matchIndexes[this.matchAt]=g,this.regexes.push([g,f]),this.matchAt+=Ef(f)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let f=this.regexes.map(g=>g[1]);this.matcherRe=e(od(f,{joinWith:"|"}),!0),this.lastIndex=0}exec(f){this.matcherRe.lastIndex=this.lastIndex;let g=this.matcherRe.exec(f);if(!g)return null;let _=g.findIndex((D,B)=>B>0&&D!==void 0),w=this.matchIndexes[_];return g.splice(0,_),Object.assign(g,w)}},o(h,"MultiRegex"),h),n=(p=class{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(f){if(this.multiRegexes[f])return this.multiRegexes[f];let g=new a;return this.rules.slice(f).forEach(([_,w])=>g.addRule(_,w)),g.compile(),this.multiRegexes[f]=g,g}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(f,g){this.rules.push([f,g]),g.type==="begin"&&this.count++}exec(f){let g=this.getMatcher(this.regexIndex);g.lastIndex=this.lastIndex;let _=g.exec(f);if(this.resumingScanAtSamePosition()&&!(_&&_.index===this.lastIndex)){let w=this.getMatcher(0);w.lastIndex=this.lastIndex+1,_=w.exec(f)}return _&&(this.regexIndex+=_.position+1,this.regexIndex===this.count&&this.considerAll()),_}},o(p,"ResumableMultiRegex"),p);function l(m){let f=new n;return m.contains.forEach(g=>f.addRule(g.begin,{rule:g,type:"begin"})),m.terminatorEnd&&f.addRule(m.terminatorEnd,{type:"end"}),m.illegal&&f.addRule(m.illegal,{type:"illegal"}),f}o(l,"buildModeRegex");function c(m,f){let g=m;if(m.isCompiled)return g;[a_,o_,g_,Uw].forEach(w=>w(m,f)),s.compilerExtensions.forEach(w=>w(m,f)),m.__beforeBegin=null,[n_,i_,l_].forEach(w=>w(m,f)),m.isCompiled=!0;let _=null;return typeof m.keywords=="object"&&m.keywords.$pattern&&(m.keywords=Object.assign({},m.keywords),_=m.keywords.$pattern,delete m.keywords.$pattern),_=_||/\w+/,m.keywords&&(m.keywords=bf(m.keywords,s.case_insensitive)),g.keywordPatternRe=e(_,!0),f&&(m.begin||(m.begin=/\B|\b/),g.beginRe=e(g.begin),!m.end&&!m.endsWithParent&&(m.end=/\B|\b/),m.end&&(g.endRe=e(g.end)),g.terminatorEnd=co(g.end)||"",m.endsWithParent&&f.terminatorEnd&&(g.terminatorEnd+=(m.end?"|":"")+f.terminatorEnd)),m.illegal&&(g.illegalRe=e(m.illegal)),m.contains||(m.contains=[]),m.contains=[].concat(...m.contains.map(function(w){return T_(w==="self"?m:w)})),m.contains.forEach(function(w){c(w,g)}),m.starts&&c(m.starts,f),g.matcher=l(g),g}if(o(c,"compileMode"),s.compilerExtensions||(s.compilerExtensions=[]),s.contains&&s.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return s.classNameAliases=Qs(s.classNameAliases||{}),c(s)}o(E_,"compileLanguage");function _f(s){return s?s.endsWithParent||_f(s.starts):!1}o(_f,"dependencyOnParent");function T_(s){return s.variants&&!s.cachedVariants&&(s.cachedVariants=s.variants.map(function(e){return Qs(s,{variants:null},e)})),s.cachedVariants?s.cachedVariants:_f(s)?Qs(s,{starts:s.starts?Qs(s.starts):null}):Object.isFrozen(s)?Qs(s):s}o(T_,"expandOrCloneMode");var Gw="11.11.1";let jw=(Pl=class extends Error{constructor(e,a){super(e),this.name="HTMLInjectionError",this.html=a}},o(Pl,"HTMLInjectionError"),Pl),Af=ff,b_=Qs,y_=Symbol("nomatch"),Vw=7,__=o(function(s){let e=Object.create(null),a=Object.create(null),n=[],l=!0,c="Could not find the language '{}', did you forget to load/include a language module?",h={disableAutodetect:!0,name:"Plain text",contains:[]},p={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Aw};function m(j){return p.noHighlightRe.test(j)}o(m,"shouldNotHighlight");function f(j){let de=j.className+" ";de+=j.parentNode?j.parentNode.className:"";let xe=p.languageDetectRe.exec(de);if(xe){let Ye=te(xe[1]);return Ye||(d_(c.replace("{}",xe[1])),d_("Falling back to no-highlight mode for this block.",j)),Ye?xe[1]:"no-highlight"}return de.split(/\s+/).find(Ye=>m(Ye)||te(Ye))}o(f,"blockLanguage");function g(j,de,xe){let Ye="",H="";typeof de=="object"?(Ye=j,xe=de.ignoreIllegals,H=de.language):(ho("10.7.0","highlight(lang, code, ...args) has been deprecated."),ho("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),H=j,Ye=de),xe===void 0&&(xe=!0);let _e={code:Ye,language:H};pe("before:highlight",_e);let nt=_e.result?_e.result:_(_e.language,_e.code,xe);return nt.code=_e.code,pe("after:highlight",nt),nt}o(g,"highlight");function _(j,de,xe,Ye){let H=Object.create(null);function _e(J,le){return J.keywords[le]}o(_e,"keywordData");function nt(){if(!Ue.keywords){Gt.addText(bt);return}let J=0;Ue.keywordPatternRe.lastIndex=0;let le=Ue.keywordPatternRe.exec(bt),Me="";for(;le;){Me+=bt.substring(J,le.index);let Ke=Sr.case_insensitive?le[0].toLowerCase():le[0],Vt=_e(Ue,Ke);if(Vt){let[lr,Es]=Vt;if(Gt.addText(Me),Me="",H[Ke]=(H[Ke]||0)+1,H[Ke]<=Vw&&(Br+=Es),lr.startsWith("_"))Me+=le[0];else{let br=Sr.classNameAliases[lr]||lr;Tt(le[0],br)}}else Me+=le[0];J=Ue.keywordPatternRe.lastIndex,le=Ue.keywordPatternRe.exec(bt)}Me+=bt.substring(J),Gt.addText(Me)}o(nt,"processKeywords");function ht(){if(bt==="")return;let J=null;if(typeof Ue.subLanguage=="string"){if(!e[Ue.subLanguage]){Gt.addText(bt);return}J=_(Ue.subLanguage,bt,!0,oc[Ue.subLanguage]),oc[Ue.subLanguage]=J._top}else J=D(bt,Ue.subLanguage.length?Ue.subLanguage:null);Ue.relevance>0&&(Br+=J.relevance),Gt.__addSublanguage(J._emitter,J.language)}o(ht,"processSubLanguage");function et(){Ue.subLanguage!=null?ht():nt(),bt=""}o(et,"processBuffer");function Tt(J,le){J!==""&&(Gt.startScope(le),Gt.addText(J),Gt.endScope())}o(Tt,"emitKeyword");function Hr(J,le){let Me=1,Ke=le.length-1;for(;Me<=Ke;){if(!J._emit[Me]){Me++;continue}let Vt=Sr.classNameAliases[J[Me]]||J[Me],lr=le[Me];Vt?Tt(lr,Vt):(bt=lr,nt(),bt=""),Me++}}o(Hr,"emitMultiClass");function fs(J,le){return J.scope&&typeof J.scope=="string"&&Gt.openNode(Sr.classNameAliases[J.scope]||J.scope),J.beginScope&&(J.beginScope._wrap?(Tt(bt,Sr.classNameAliases[J.beginScope._wrap]||J.beginScope._wrap),bt=""):J.beginScope._multi&&(Hr(J.beginScope,le),bt="")),Ue=Object.create(J,{parent:{value:Ue}}),Ue}o(fs,"startNewMode");function gs(J,le,Me){let Ke=Xy(J.endRe,Me);if(Ke){if(J["on:end"]){let Vt=new Zy(J);J["on:end"](le,Vt),Vt.isMatchIgnored&&(Ke=!1)}if(Ke){for(;J.endsParent&&J.parent;)J=J.parent;return J}}if(J.endsWithParent)return gs(J.parent,le,Me)}o(gs,"endOfMode");function nc(J){return Ue.matcher.regexIndex===0?(bt+=J[0],1):(Ie=!0,0)}o(nc,"doIgnore");function An(J){let le=J[0],Me=J.rule,Ke=new Zy(Me),Vt=[Me.__beforeBegin,Me["on:begin"]];for(let lr of Vt)if(lr&&(lr(J,Ke),Ke.isMatchIgnored))return nc(le);return Me.skip?bt+=le:(Me.excludeBegin&&(bt+=le),et(),!Me.returnBegin&&!Me.excludeBegin&&(bt=le)),fs(Me,J),Me.returnBegin?0:le.length}o(An,"doBeginMatch");function ic(J){let le=J[0],Me=de.substring(J.index),Ke=gs(Ue,J,Me);if(!Ke)return y_;let Vt=Ue;Ue.endScope&&Ue.endScope._wrap?(et(),Tt(le,Ue.endScope._wrap)):Ue.endScope&&Ue.endScope._multi?(et(),Hr(Ue.endScope,J)):Vt.skip?bt+=le:(Vt.returnEnd||Vt.excludeEnd||(bt+=le),et(),Vt.excludeEnd&&(bt=le));do Ue.scope&&Gt.closeNode(),!Ue.skip&&!Ue.subLanguage&&(Br+=Ue.relevance),Ue=Ue.parent;while(Ue!==Ke.parent);return Ke.starts&&fs(Ke.starts,J),Vt.returnEnd?0:le.length}o(ic,"doEndMatch");function ns(){let J=[];for(let le=Ue;le!==Sr;le=le.parent)le.scope&&J.unshift(le.scope);J.forEach(le=>Gt.openNode(le))}o(ns,"processContinuations");let Ma={};function vn(J,le){let Me=le&&le[0];if(bt+=J,Me==null)return et(),0;if(Ma.type==="begin"&&le.type==="end"&&Ma.index===le.index&&Me===""){if(bt+=de.slice(le.index,le.index+1),!l){let Ke=new Error(`0 width match regex (${j})`);throw Ke.languageName=j,Ke.badRule=Ma.rule,Ke}return 1}if(Ma=le,le.type==="begin")return An(le);if(le.type==="illegal"&&!xe){let Ke=new Error('Illegal lexeme "'+Me+'" for mode "'+(Ue.scope||"<unnamed>")+'"');throw Ke.mode=Ue,Ke}else if(le.type==="end"){let Ke=ic(le);if(Ke!==y_)return Ke}if(le.type==="illegal"&&Me==="")return bt+=`
`,1;if(Ge>1e5&&Ge>le.index*3)throw new Error("potential infinite loop, way more iterations than matches");return bt+=Me,Me.length}o(vn,"processLexeme");let Sr=te(j);if(!Sr)throw un(c.replace("{}",j)),new Error('Unknown language: "'+j+'"');let Ih=E_(Sr),Da="",Ue=Ye||Ih,oc={},Gt=new p.__emitter(p);ns();let bt="",Br=0,is=0,Ge=0,Ie=!1;try{if(Sr.__emitTokens)Sr.__emitTokens(de,Gt);else{for(Ue.matcher.considerAll();;){Ge++,Ie?Ie=!1:Ue.matcher.considerAll(),Ue.matcher.lastIndex=is;let J=Ue.matcher.exec(de);if(!J)break;let le=de.substring(is,J.index),Me=vn(le,J);is=J.index+Me}vn(de.substring(is))}return Gt.finalize(),Da=Gt.toHTML(),{language:j,value:Da,relevance:Br,illegal:!1,_emitter:Gt,_top:Ue}}catch(J){if(J.message&&J.message.includes("Illegal"))return{language:j,value:Af(de),illegal:!0,relevance:0,_illegalBy:{message:J.message,index:is,context:de.slice(is-100,is+100),mode:J.mode,resultSoFar:Da},_emitter:Gt};if(l)return{language:j,value:Af(de),illegal:!1,relevance:0,errorRaised:J,_emitter:Gt,_top:Ue};throw J}}o(_,"_highlight");function w(j){let de={value:Af(j),illegal:!1,relevance:0,_top:h,_emitter:new p.__emitter(p)};return de._emitter.addText(j),de}o(w,"justTextHighlightResult");function D(j,de){de=de||p.languages||Object.keys(e);let xe=w(j),Ye=de.filter(te).filter(se).map(et=>_(et,j,!1));Ye.unshift(xe);let H=Ye.sort((et,Tt)=>{if(et.relevance!==Tt.relevance)return Tt.relevance-et.relevance;if(et.language&&Tt.language){if(te(et.language).supersetOf===Tt.language)return 1;if(te(Tt.language).supersetOf===et.language)return-1}return 0}),[_e,nt]=H,ht=_e;return ht.secondBest=nt,ht}o(D,"highlightAuto");function B(j,de,xe){let Ye=de&&a[de]||xe;j.classList.add("hljs"),j.classList.add(`language-${Ye}`)}o(B,"updateClassName");function G(j){let de=null,xe=f(j);if(m(xe))return;if(pe("before:highlightElement",{el:j,language:xe}),j.dataset.highlighted){je.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",j);return}if(j.children.length>0&&(p.ignoreUnescapedHTML||(je.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),je.warn("https://github.com/highlightjs/highlight.js/wiki/security"),je.warn("The element with unescaped HTML:"),je.warn(j)),p.throwUnescapedHTML))throw new jw("One of your code blocks includes unescaped HTML.",j.innerHTML);de=j;let Ye=de.textContent,H=xe?g(Ye,{language:xe,ignoreIllegals:!0}):D(Ye);j.innerHTML=H.value,j.dataset.highlighted="yes",B(j,xe,H.language),j.result={language:H.language,re:H.relevance,relevance:H.relevance},H.secondBest&&(j.secondBest={language:H.secondBest.language,relevance:H.secondBest.relevance}),pe("after:highlightElement",{el:j,result:H,text:Ye})}o(G,"highlightElement");function ee(j){p=b_(p,j)}o(ee,"configure");let ae=o(()=>{Pe(),ho("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},"initHighlighting");function ne(){Pe(),ho("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}o(ne,"initHighlightingOnLoad");let Ee=!1;function Pe(){function j(){Pe()}if(o(j,"boot"),Nt.readyState==="loading"){Ee||Rt.addEventListener("DOMContentLoaded",j,!1),Ee=!0;return}Nt.querySelectorAll(p.cssSelector).forEach(G)}o(Pe,"highlightAll");function me(j,de){let xe=null;try{xe=de(s)}catch(Ye){if(un("Language definition for '{}' could not be registered.".replace("{}",j)),l)un(Ye);else throw Ye;xe=h}xe.name||(xe.name=j),e[j]=xe,xe.rawDefinition=de.bind(null,s),xe.aliases&&$e(xe.aliases,{languageName:j})}o(me,"registerLanguage");function ie(j){delete e[j];for(let de of Object.keys(a))a[de]===j&&delete a[de]}o(ie,"unregisterLanguage");function q(){return Object.keys(e)}o(q,"listLanguages");function te(j){return j=(j||"").toLowerCase(),e[j]||e[a[j]]}o(te,"getLanguage");function $e(j,{languageName:de}){typeof j=="string"&&(j=[j]),j.forEach(xe=>{a[xe.toLowerCase()]=de})}o($e,"registerAliases");function se(j){let de=te(j);return de&&!de.disableAutodetect}o(se,"autoDetection");function ge(j){j["before:highlightBlock"]&&!j["before:highlightElement"]&&(j["before:highlightElement"]=de=>{j["before:highlightBlock"](Object.assign({block:de.el},de))}),j["after:highlightBlock"]&&!j["after:highlightElement"]&&(j["after:highlightElement"]=de=>{j["after:highlightBlock"](Object.assign({block:de.el},de))})}o(ge,"upgradePluginAPI");function z(j){ge(j),n.push(j)}o(z,"addPlugin");function U(j){let de=n.indexOf(j);de!==-1&&n.splice(de,1)}o(U,"removePlugin");function pe(j,de){let xe=j;n.forEach(function(Ye){Ye[xe]&&Ye[xe](de)})}o(pe,"fire");function Ve(j){return ho("10.7.0","highlightBlock will be removed entirely in v12.0"),ho("10.7.0","Please use highlightElement now."),G(j)}o(Ve,"deprecateHighlightBlock"),Object.assign(s,{highlight:g,highlightAuto:D,highlightAll:Pe,highlightElement:G,highlightBlock:Ve,configure:ee,initHighlighting:ae,initHighlightingOnLoad:ne,registerLanguage:me,unregisterLanguage:ie,listLanguages:q,getLanguage:te,registerAliases:$e,autoDetection:se,inherit:b_,addPlugin:z,removePlugin:U}),s.debugMode=function(){l=!1},s.safeMode=function(){l=!0},s.versionString=Gw,s.regex={concat:Na,lookahead:gf,either:id,optional:Ky,anyNumberOfTimes:qy};for(let j in cd)typeof cd[j]=="object"&&mf(cd[j]);return Object.assign(s,cd),s},"HLJS"),uo=__({});uo.newInstance=()=>__({});var Zw=uo;uo.HighlightJS=uo,uo.default=uo;var ud=Zw,yh={exports:{}};(function(s,e){(function(a,n){n(e)})(Vu,function(a){var $a,ys,zt,_s,Zr,os,ls,V_,Df,Z_,Ha;function n(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}o(n,"_getDefaults"),a.defaults=n();function l(Ze){a.defaults=Ze}o(l,"changeDefaults");let c=/[&<>"']/,h=new RegExp(c.source,"g"),p=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,m=new RegExp(p.source,"g"),f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=o(Ze=>f[Ze],"getEscapeReplacement");function _(Ze,b){if(b){if(c.test(Ze))return Ze.replace(h,g)}else if(p.test(Ze))return Ze.replace(m,g);return Ze}o(_,"escape$1");let w=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function D(Ze){return Ze.replace(w,(b,A)=>(A=A.toLowerCase(),A==="colon"?":":A.charAt(0)==="#"?A.charAt(1)==="x"?String.fromCharCode(parseInt(A.substring(2),16)):String.fromCharCode(+A.substring(1)):""))}o(D,"unescape");let B=/(^|[^\[])\^/g;function G(Ze,b){let A=typeof Ze=="string"?Ze:Ze.source;b=b||"";let S={replace:o((C,N)=>{let P=typeof N=="string"?N:N.source;return P=P.replace(B,"$1"),A=A.replace(C,P),S},"replace"),getRegex:o(()=>new RegExp(A,b),"getRegex")};return S}o(G,"edit");function ee(Ze){try{Ze=encodeURI(Ze).replace(/%25/g,"%")}catch{return null}return Ze}o(ee,"cleanUrl");let ae={exec:o(()=>null,"exec")};function ne(Ze,b){let A=Ze.replace(/\|/g,(N,P,W)=>{let re=!1,Ne=P;for(;--Ne>=0&&W[Ne]==="\\";)re=!re;return re?"|":" |"}),S=A.split(/ \|/),C=0;if(S[0].trim()||S.shift(),S.length>0&&!S[S.length-1].trim()&&S.pop(),b)if(S.length>b)S.splice(b);else for(;S.length<b;)S.push("");for(;C<S.length;C++)S[C]=S[C].trim().replace(/\\\|/g,"|");return S}o(ne,"splitCells");function Ee(Ze,b,A){let S=Ze.length;if(S===0)return"";let C=0;for(;C<S;){let N=Ze.charAt(S-C-1);if(N===b&&!A)C++;else if(N!==b&&A)C++;else break}return Ze.slice(0,S-C)}o(Ee,"rtrim");function Pe(Ze,b){if(Ze.indexOf(b[1])===-1)return-1;let A=0;for(let S=0;S<Ze.length;S++)if(Ze[S]==="\\")S++;else if(Ze[S]===b[0])A++;else if(Ze[S]===b[1]&&(A--,A<0))return S;return-1}o(Pe,"findClosingBracket");function me(Ze,b,A,S){let C=b.href,N=b.title?_(b.title):null,P=Ze[1].replace(/\\([\[\]])/g,"$1");if(Ze[0].charAt(0)!=="!"){S.state.inLink=!0;let W={type:"link",raw:A,href:C,title:N,text:P,tokens:S.inlineTokens(P)};return S.state.inLink=!1,W}return{type:"image",raw:A,href:C,title:N,text:_(P)}}o(me,"outputLink");function ie(Ze,b){let A=Ze.match(/^(\s+)(?:```)/);if(A===null)return b;let S=A[1];return b.split(`
`).map(C=>{let N=C.match(/^\s+/);if(N===null)return C;let[P]=N;return P.length>=S.length?C.slice(S.length):C}).join(`
`)}o(ie,"indentCodeCompensation");let q=($a=class{options;rules;lexer;constructor(b){this.options=b||a.defaults}space(b){let A=this.rules.block.newline.exec(b);if(A&&A[0].length>0)return{type:"space",raw:A[0]}}code(b){let A=this.rules.block.code.exec(b);if(A){let S=A[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:A[0],codeBlockStyle:"indented",text:this.options.pedantic?S:Ee(S,`
`)}}}fences(b){let A=this.rules.block.fences.exec(b);if(A){let S=A[0],C=ie(S,A[3]||"");return{type:"code",raw:S,lang:A[2]?A[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):A[2],text:C}}}heading(b){let A=this.rules.block.heading.exec(b);if(A){let S=A[2].trim();if(/#$/.test(S)){let C=Ee(S,"#");(this.options.pedantic||!C||/ $/.test(C))&&(S=C.trim())}return{type:"heading",raw:A[0],depth:A[1].length,text:S,tokens:this.lexer.inline(S)}}}hr(b){let A=this.rules.block.hr.exec(b);if(A)return{type:"hr",raw:Ee(A[0],`
`)}}blockquote(b){let A=this.rules.block.blockquote.exec(b);if(A){let S=Ee(A[0],`
`).split(`
`),C="",N="",P=[];for(;S.length>0;){let W=!1,re=[],Ne;for(Ne=0;Ne<S.length;Ne++)if(/^ {0,3}>/.test(S[Ne]))re.push(S[Ne]),W=!0;else if(!W)re.push(S[Ne]);else break;S=S.slice(Ne);let Se=re.join(`
`),tt=Se.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");C=C?`${C}
${Se}`:Se,N=N?`${N}
${tt}`:tt;let it=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(tt,P,!0),this.lexer.state.top=it,S.length===0)break;let xt=P[P.length-1];if(xt?.type==="code")break;if(xt?.type==="blockquote"){let ot=xt,Ur=ot.raw+`
`+S.join(`
`),xr=this.blockquote(Ur);P[P.length-1]=xr,C=C.substring(0,C.length-ot.raw.length)+xr.raw,N=N.substring(0,N.length-ot.text.length)+xr.text;break}else if(xt?.type==="list"){let ot=xt,Ur=ot.raw+`
`+S.join(`
`),xr=this.list(Ur);P[P.length-1]=xr,C=C.substring(0,C.length-xt.raw.length)+xr.raw,N=N.substring(0,N.length-ot.raw.length)+xr.raw,S=Ur.substring(P[P.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:C,tokens:P,text:N}}}list(b){let A=this.rules.block.list.exec(b);if(A){let S=A[1].trim(),C=S.length>1,N={type:"list",raw:"",ordered:C,start:C?+S.slice(0,-1):"",loose:!1,items:[]};S=C?`\\d{1,9}\\${S.slice(-1)}`:`\\${S}`,this.options.pedantic&&(S=C?S:"[*+-]");let P=new RegExp(`^( {0,3}${S})((?:[	 ][^\\n]*)?(?:\\n|$))`),W=!1;for(;b;){let re=!1,Ne="",Se="";if(!(A=P.exec(b))||this.rules.block.hr.test(b))break;Ne=A[0],b=b.substring(Ne.length);let tt=A[2].split(`
`,1)[0].replace(/^\t+/,As=>" ".repeat(3*As.length)),it=b.split(`
`,1)[0],xt=!tt.trim(),ot=0;if(this.options.pedantic?(ot=2,Se=tt.trimStart()):xt?ot=A[1].length+1:(ot=A[2].search(/[^ ]/),ot=ot>4?1:ot,Se=tt.slice(ot),ot+=A[1].length),xt&&/^ *$/.test(it)&&(Ne+=it+`
`,b=b.substring(it.length+1),re=!0),!re){let As=new RegExp(`^ {0,${Math.min(3,ot-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),kn=new RegExp(`^ {0,${Math.min(3,ot-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),wn=new RegExp(`^ {0,${Math.min(3,ot-1)}}(?:\`\`\`|~~~)`),Lh=new RegExp(`^ {0,${Math.min(3,ot-1)}}#`);for(;b;){let hc=b.split(`
`,1)[0];if(it=hc,this.options.pedantic&&(it=it.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),wn.test(it)||Lh.test(it)||As.test(it)||kn.test(b))break;if(it.search(/[^ ]/)>=ot||!it.trim())Se+=`
`+it.slice(ot);else{if(xt||tt.search(/[^ ]/)>=4||wn.test(tt)||Lh.test(tt)||kn.test(tt))break;Se+=`
`+it}!xt&&!it.trim()&&(xt=!0),Ne+=hc+`
`,b=b.substring(hc.length+1),tt=it.slice(ot)}}N.loose||(W?N.loose=!0:/\n *\n *$/.test(Ne)&&(W=!0));let Ur=null,xr;this.options.gfm&&(Ur=/^\[[ xX]\] /.exec(Se),Ur&&(xr=Ur[0]!=="[ ] ",Se=Se.replace(/^\[[ xX]\] +/,""))),N.items.push({type:"list_item",raw:Ne,task:!!Ur,checked:xr,loose:!1,text:Se,tokens:[]}),N.raw+=Ne}N.items[N.items.length-1].raw=N.items[N.items.length-1].raw.trimEnd(),N.items[N.items.length-1].text=N.items[N.items.length-1].text.trimEnd(),N.raw=N.raw.trimEnd();for(let re=0;re<N.items.length;re++)if(this.lexer.state.top=!1,N.items[re].tokens=this.lexer.blockTokens(N.items[re].text,[]),!N.loose){let Ne=N.items[re].tokens.filter(tt=>tt.type==="space"),Se=Ne.length>0&&Ne.some(tt=>/\n.*\n/.test(tt.raw));N.loose=Se}if(N.loose)for(let re=0;re<N.items.length;re++)N.items[re].loose=!0;return N}}html(b){let A=this.rules.block.html.exec(b);if(A)return{type:"html",block:!0,raw:A[0],pre:A[1]==="pre"||A[1]==="script"||A[1]==="style",text:A[0]}}def(b){let A=this.rules.block.def.exec(b);if(A){let S=A[1].toLowerCase().replace(/\s+/g," "),C=A[2]?A[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",N=A[3]?A[3].substring(1,A[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):A[3];return{type:"def",tag:S,raw:A[0],href:C,title:N}}}table(b){let A=this.rules.block.table.exec(b);if(!A||!/[:|]/.test(A[2]))return;let S=ne(A[1]),C=A[2].replace(/^\||\| *$/g,"").split("|"),N=A[3]&&A[3].trim()?A[3].replace(/\n[ \t]*$/,"").split(`
`):[],P={type:"table",raw:A[0],header:[],align:[],rows:[]};if(S.length===C.length){for(let W of C)/^ *-+: *$/.test(W)?P.align.push("right"):/^ *:-+: *$/.test(W)?P.align.push("center"):/^ *:-+ *$/.test(W)?P.align.push("left"):P.align.push(null);for(let W=0;W<S.length;W++)P.header.push({text:S[W],tokens:this.lexer.inline(S[W]),header:!0,align:P.align[W]});for(let W of N)P.rows.push(ne(W,P.header.length).map((re,Ne)=>({text:re,tokens:this.lexer.inline(re),header:!1,align:P.align[Ne]})));return P}}lheading(b){let A=this.rules.block.lheading.exec(b);if(A)return{type:"heading",raw:A[0],depth:A[2].charAt(0)==="="?1:2,text:A[1],tokens:this.lexer.inline(A[1])}}paragraph(b){let A=this.rules.block.paragraph.exec(b);if(A){let S=A[1].charAt(A[1].length-1)===`
`?A[1].slice(0,-1):A[1];return{type:"paragraph",raw:A[0],text:S,tokens:this.lexer.inline(S)}}}text(b){let A=this.rules.block.text.exec(b);if(A)return{type:"text",raw:A[0],text:A[0],tokens:this.lexer.inline(A[0])}}escape(b){let A=this.rules.inline.escape.exec(b);if(A)return{type:"escape",raw:A[0],text:_(A[1])}}tag(b){let A=this.rules.inline.tag.exec(b);if(A)return!this.lexer.state.inLink&&/^<a /i.test(A[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(A[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(A[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(A[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:A[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:A[0]}}link(b){let A=this.rules.inline.link.exec(b);if(A){let S=A[2].trim();if(!this.options.pedantic&&/^</.test(S)){if(!/>$/.test(S))return;let P=Ee(S.slice(0,-1),"\\");if((S.length-P.length)%2===0)return}else{let P=Pe(A[2],"()");if(P>-1){let W=(A[0].indexOf("!")===0?5:4)+A[1].length+P;A[2]=A[2].substring(0,P),A[0]=A[0].substring(0,W).trim(),A[3]=""}}let C=A[2],N="";if(this.options.pedantic){let P=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(C);P&&(C=P[1],N=P[3])}else N=A[3]?A[3].slice(1,-1):"";return C=C.trim(),/^</.test(C)&&(this.options.pedantic&&!/>$/.test(S)?C=C.slice(1):C=C.slice(1,-1)),me(A,{href:C&&C.replace(this.rules.inline.anyPunctuation,"$1"),title:N&&N.replace(this.rules.inline.anyPunctuation,"$1")},A[0],this.lexer)}}reflink(b,A){let S;if((S=this.rules.inline.reflink.exec(b))||(S=this.rules.inline.nolink.exec(b))){let C=(S[2]||S[1]).replace(/\s+/g," "),N=A[C.toLowerCase()];if(!N){let P=S[0].charAt(0);return{type:"text",raw:P,text:P}}return me(S,N,S[0],this.lexer)}}emStrong(b,A,S=""){let C=this.rules.inline.emStrongLDelim.exec(b);if(!(!C||C[3]&&S.match(/[\p{L}\p{N}]/u))&&(!(C[1]||C[2])||!S||this.rules.inline.punctuation.exec(S))){let N=[...C[0]].length-1,P,W,re=N,Ne=0,Se=C[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Se.lastIndex=0,A=A.slice(-1*b.length+N);(C=Se.exec(A))!=null;){if(P=C[1]||C[2]||C[3]||C[4]||C[5]||C[6],!P)continue;if(W=[...P].length,C[3]||C[4]){re+=W;continue}else if((C[5]||C[6])&&N%3&&!((N+W)%3)){Ne+=W;continue}if(re-=W,re>0)continue;W=Math.min(W,W+re+Ne);let tt=[...C[0]][0].length,it=b.slice(0,N+C.index+tt+W);if(Math.min(N,W)%2){let ot=it.slice(1,-1);return{type:"em",raw:it,text:ot,tokens:this.lexer.inlineTokens(ot)}}let xt=it.slice(2,-2);return{type:"strong",raw:it,text:xt,tokens:this.lexer.inlineTokens(xt)}}}}codespan(b){let A=this.rules.inline.code.exec(b);if(A){let S=A[2].replace(/\n/g," "),C=/[^ ]/.test(S),N=/^ /.test(S)&&/ $/.test(S);return C&&N&&(S=S.substring(1,S.length-1)),S=_(S,!0),{type:"codespan",raw:A[0],text:S}}}br(b){let A=this.rules.inline.br.exec(b);if(A)return{type:"br",raw:A[0]}}del(b){let A=this.rules.inline.del.exec(b);if(A)return{type:"del",raw:A[0],text:A[2],tokens:this.lexer.inlineTokens(A[2])}}autolink(b){let A=this.rules.inline.autolink.exec(b);if(A){let S,C;return A[2]==="@"?(S=_(A[1]),C="mailto:"+S):(S=_(A[1]),C=S),{type:"link",raw:A[0],text:S,href:C,tokens:[{type:"text",raw:S,text:S}]}}}url(b){let A;if(A=this.rules.inline.url.exec(b)){let S,C;if(A[2]==="@")S=_(A[0]),C="mailto:"+S;else{let N;do N=A[0],A[0]=this.rules.inline._backpedal.exec(A[0])?.[0]??"";while(N!==A[0]);S=_(A[0]),A[1]==="www."?C="http://"+A[0]:C=A[0]}return{type:"link",raw:A[0],text:S,href:C,tokens:[{type:"text",raw:S,text:S}]}}}inlineText(b){let A=this.rules.inline.text.exec(b);if(A){let S;return this.lexer.state.inRawBlock?S=A[0]:S=_(A[0]),{type:"text",raw:A[0],text:S}}}},o($a,"_Tokenizer"),$a),te=/^(?: *(?:\n|$))+/,$e=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,se=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ge=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,z=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,U=/(?:[*+-]|\d{1,9}[.)])/,pe=G(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,U).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Ve=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,j=/^[^\n]+/,de=/(?!\s*\])(?:\\.|[^\[\]\\])+/,xe=G(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",de).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ye=G(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,U).getRegex(),H="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_e=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,nt=G("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_e).replace("tag",H).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ht=G(Ve).replace("hr",ge).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H).getRegex(),et={blockquote:G(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ht).getRegex(),code:$e,def:xe,fences:se,heading:z,hr:ge,html:nt,lheading:pe,list:Ye,newline:te,paragraph:ht,table:ae,text:j},Tt=G("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ge).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H).getRegex(),Hr={...et,table:Tt,paragraph:G(Ve).replace("hr",ge).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Tt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H).getRegex()},fs={...et,html:G(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_e).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ae,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(Ve).replace("hr",ge).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},gs=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,nc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,An=/^( {2,}|\\)\n(?!\s*$)/,ic=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ns="\\p{P}\\p{S}",Ma=G(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ns).getRegex(),vn=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Sr=G(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ns).getRegex(),Ih=G("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ns).getRegex(),Da=G("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ns).getRegex(),Ue=G(/\\([punct])/,"gu").replace(/punct/g,ns).getRegex(),oc=G(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gt=G(_e).replace("(?:-->|$)","-->").getRegex(),bt=G("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Br=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,is=G(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Br).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ge=G(/^!?\[(label)\]\[(ref)\]/).replace("label",Br).replace("ref",de).getRegex(),Ie=G(/^!?\[(ref)\](?:\[\])?/).replace("ref",de).getRegex(),J=G("reflink|nolink(?!\\()","g").replace("reflink",Ge).replace("nolink",Ie).getRegex(),le={_backpedal:ae,anyPunctuation:Ue,autolink:oc,blockSkip:vn,br:An,code:nc,del:ae,emStrongLDelim:Sr,emStrongRDelimAst:Ih,emStrongRDelimUnd:Da,escape:gs,link:is,nolink:Ie,punctuation:Ma,reflink:Ge,reflinkSearch:J,tag:bt,text:ic,url:ae},Me={...le,link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",Br).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Br).getRegex()},Ke={...le,escape:G(gs).replace("])","~|])").getRegex(),url:G(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Vt={...Ke,br:G(An).replace("{2,}","*").getRegex(),text:G(Ke.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},lr={normal:et,gfm:Hr,pedantic:fs},Es={normal:le,gfm:Ke,breaks:Vt,pedantic:Me},br=(ys=class{tokens;options;state;tokenizer;inlineQueue;constructor(b){this.tokens=[],this.tokens.links=Object.create(null),this.options=b||a.defaults,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let A={block:lr.normal,inline:Es.normal};this.options.pedantic?(A.block=lr.pedantic,A.inline=Es.pedantic):this.options.gfm&&(A.block=lr.gfm,this.options.breaks?A.inline=Es.breaks:A.inline=Es.gfm),this.tokenizer.rules=A}static get rules(){return{block:lr,inline:Es}}static lex(b,A){return new ys(A).lex(b)}static lexInline(b,A){return new ys(A).inlineTokens(b)}lex(b){b=b.replace(/\r\n|\r/g,`
`),this.blockTokens(b,this.tokens);for(let A=0;A<this.inlineQueue.length;A++){let S=this.inlineQueue[A];this.inlineTokens(S.src,S.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(b,A=[],S=!1){this.options.pedantic?b=b.replace(/\t/g,"    ").replace(/^ +$/gm,""):b=b.replace(/^( *)(\t+)/gm,(W,re,Ne)=>re+"    ".repeat(Ne.length));let C,N,P;for(;b;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(W=>(C=W.call({lexer:this},b,A))?(b=b.substring(C.raw.length),A.push(C),!0):!1))){if(C=this.tokenizer.space(b)){b=b.substring(C.raw.length),C.raw.length===1&&A.length>0?A[A.length-1].raw+=`
`:A.push(C);continue}if(C=this.tokenizer.code(b)){b=b.substring(C.raw.length),N=A[A.length-1],N&&(N.type==="paragraph"||N.type==="text")?(N.raw+=`
`+C.raw,N.text+=`
`+C.text,this.inlineQueue[this.inlineQueue.length-1].src=N.text):A.push(C);continue}if(C=this.tokenizer.fences(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.heading(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.hr(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.blockquote(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.list(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.html(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.def(b)){b=b.substring(C.raw.length),N=A[A.length-1],N&&(N.type==="paragraph"||N.type==="text")?(N.raw+=`
`+C.raw,N.text+=`
`+C.raw,this.inlineQueue[this.inlineQueue.length-1].src=N.text):this.tokens.links[C.tag]||(this.tokens.links[C.tag]={href:C.href,title:C.title});continue}if(C=this.tokenizer.table(b)){b=b.substring(C.raw.length),A.push(C);continue}if(C=this.tokenizer.lheading(b)){b=b.substring(C.raw.length),A.push(C);continue}if(P=b,this.options.extensions&&this.options.extensions.startBlock){let W=1/0,re=b.slice(1),Ne;this.options.extensions.startBlock.forEach(Se=>{Ne=Se.call({lexer:this},re),typeof Ne=="number"&&Ne>=0&&(W=Math.min(W,Ne))}),W<1/0&&W>=0&&(P=b.substring(0,W+1))}if(this.state.top&&(C=this.tokenizer.paragraph(P))){N=A[A.length-1],S&&N?.type==="paragraph"?(N.raw+=`
`+C.raw,N.text+=`
`+C.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=N.text):A.push(C),S=P.length!==b.length,b=b.substring(C.raw.length);continue}if(C=this.tokenizer.text(b)){b=b.substring(C.raw.length),N=A[A.length-1],N&&N.type==="text"?(N.raw+=`
`+C.raw,N.text+=`
`+C.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=N.text):A.push(C);continue}if(b){let W="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){je.error(W);break}else throw new Error(W)}}return this.state.top=!0,A}inline(b,A=[]){return this.inlineQueue.push({src:b,tokens:A}),A}inlineTokens(b,A=[]){let S,C,N,P=b,W,re,Ne;if(this.tokens.links){let Se=Object.keys(this.tokens.links);if(Se.length>0)for(;(W=this.tokenizer.rules.inline.reflinkSearch.exec(P))!=null;)Se.includes(W[0].slice(W[0].lastIndexOf("[")+1,-1))&&(P=P.slice(0,W.index)+"["+"a".repeat(W[0].length-2)+"]"+P.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(W=this.tokenizer.rules.inline.blockSkip.exec(P))!=null;)P=P.slice(0,W.index)+"["+"a".repeat(W[0].length-2)+"]"+P.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(W=this.tokenizer.rules.inline.anyPunctuation.exec(P))!=null;)P=P.slice(0,W.index)+"++"+P.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;b;)if(re||(Ne=""),re=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Se=>(S=Se.call({lexer:this},b,A))?(b=b.substring(S.raw.length),A.push(S),!0):!1))){if(S=this.tokenizer.escape(b)){b=b.substring(S.raw.length),A.push(S);continue}if(S=this.tokenizer.tag(b)){b=b.substring(S.raw.length),C=A[A.length-1],C&&S.type==="text"&&C.type==="text"?(C.raw+=S.raw,C.text+=S.text):A.push(S);continue}if(S=this.tokenizer.link(b)){b=b.substring(S.raw.length),A.push(S);continue}if(S=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(S.raw.length),C=A[A.length-1],C&&S.type==="text"&&C.type==="text"?(C.raw+=S.raw,C.text+=S.text):A.push(S);continue}if(S=this.tokenizer.emStrong(b,P,Ne)){b=b.substring(S.raw.length),A.push(S);continue}if(S=this.tokenizer.codespan(b)){b=b.substring(S.raw.length),A.push(S);continue}if(S=this.tokenizer.br(b)){b=b.substring(S.raw.length),A.push(S);continue}if(S=this.tokenizer.del(b)){b=b.substring(S.raw.length),A.push(S);continue}if(S=this.tokenizer.autolink(b)){b=b.substring(S.raw.length),A.push(S);continue}if(!this.state.inLink&&(S=this.tokenizer.url(b))){b=b.substring(S.raw.length),A.push(S);continue}if(N=b,this.options.extensions&&this.options.extensions.startInline){let Se=1/0,tt=b.slice(1),it;this.options.extensions.startInline.forEach(xt=>{it=xt.call({lexer:this},tt),typeof it=="number"&&it>=0&&(Se=Math.min(Se,it))}),Se<1/0&&Se>=0&&(N=b.substring(0,Se+1))}if(S=this.tokenizer.inlineText(N)){b=b.substring(S.raw.length),S.raw.slice(-1)!=="_"&&(Ne=S.raw.slice(-1)),re=!0,C=A[A.length-1],C&&C.type==="text"?(C.raw+=S.raw,C.text+=S.text):A.push(S);continue}if(b){let Se="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){je.error(Se);break}else throw new Error(Se)}}return A}},o(ys,"_Lexer"),ys),Sn=(zt=class{options;parser;constructor(b){this.options=b||a.defaults}space(b){return""}code({text:b,lang:A,escaped:S}){let C=(A||"").match(/^\S*/)?.[0],N=b.replace(/\n$/,"")+`
`;return C?'<pre><code class="language-'+_(C)+'">'+(S?N:_(N,!0))+`</code></pre>
`:"<pre><code>"+(S?N:_(N,!0))+`</code></pre>
`}blockquote({tokens:b}){return`<blockquote>
${this.parser.parse(b)}</blockquote>
`}html({text:b}){return b}heading({tokens:b,depth:A}){return`<h${A}>${this.parser.parseInline(b)}</h${A}>
`}hr(b){return`<hr>
`}list(b){let A=b.ordered,S=b.start,C="";for(let W=0;W<b.items.length;W++){let re=b.items[W];C+=this.listitem(re)}let N=A?"ol":"ul",P=A&&S!==1?' start="'+S+'"':"";return"<"+N+P+`>
`+C+"</"+N+`>
`}listitem(b){let A="";if(b.task){let S=this.checkbox({checked:!!b.checked});b.loose?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=S+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=S+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",raw:S+" ",text:S+" "}):A+=S+" "}return A+=this.parser.parse(b.tokens,!!b.loose),`<li>${A}</li>
`}checkbox({checked:b}){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:b}){return`<p>${this.parser.parseInline(b)}</p>
`}table(b){let A="",S="";for(let N=0;N<b.header.length;N++)S+=this.tablecell(b.header[N]);A+=this.tablerow({text:S});let C="";for(let N=0;N<b.rows.length;N++){let P=b.rows[N];S="";for(let W=0;W<P.length;W++)S+=this.tablecell(P[W]);C+=this.tablerow({text:S})}return C&&(C=`<tbody>${C}</tbody>`),`<table>
<thead>
`+A+`</thead>
`+C+`</table>
`}tablerow({text:b}){return`<tr>
${b}</tr>
`}tablecell(b){let A=this.parser.parseInline(b.tokens),S=b.header?"th":"td";return(b.align?`<${S} align="${b.align}">`:`<${S}>`)+A+`</${S}>
`}strong({tokens:b}){return`<strong>${this.parser.parseInline(b)}</strong>`}em({tokens:b}){return`<em>${this.parser.parseInline(b)}</em>`}codespan({text:b}){return`<code>${b}</code>`}br(b){return"<br>"}del({tokens:b}){return`<del>${this.parser.parseInline(b)}</del>`}link({href:b,title:A,tokens:S}){let C=this.parser.parseInline(S),N=ee(b);if(N===null)return C;b=N;let P='<a href="'+b+'"';return A&&(P+=' title="'+A+'"'),P+=">"+C+"</a>",P}image({href:b,title:A,text:S}){let C=ee(b);if(C===null)return S;b=C;let N=`<img src="${b}" alt="${S}"`;return A&&(N+=` title="${A}"`),N+=">",N}text(b){return"tokens"in b&&b.tokens?this.parser.parseInline(b.tokens):b.text}},o(zt,"_Renderer"),zt),lc=(_s=class{strong({text:b}){return b}em({text:b}){return b}codespan({text:b}){return b}del({text:b}){return b}html({text:b}){return b}text({text:b}){return b}link({text:b}){return""+b}image({text:b}){return""+b}br(){return""}},o(_s,"_TextRenderer"),_s),Ts=(Zr=class{options;renderer;textRenderer;constructor(b){this.options=b||a.defaults,this.options.renderer=this.options.renderer||new Sn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new lc}static parse(b,A){return new Zr(A).parse(b)}static parseInline(b,A){return new Zr(A).parseInline(b)}parse(b,A=!0){let S="";for(let C=0;C<b.length;C++){let N=b[C];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]){let W=N,re=this.options.extensions.renderers[W.type].call({parser:this},W);if(re!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(W.type)){S+=re||"";continue}}let P=N;switch(P.type){case"space":{S+=this.renderer.space(P);continue}case"hr":{S+=this.renderer.hr(P);continue}case"heading":{S+=this.renderer.heading(P);continue}case"code":{S+=this.renderer.code(P);continue}case"table":{S+=this.renderer.table(P);continue}case"blockquote":{S+=this.renderer.blockquote(P);continue}case"list":{S+=this.renderer.list(P);continue}case"html":{S+=this.renderer.html(P);continue}case"paragraph":{S+=this.renderer.paragraph(P);continue}case"text":{let W=P,re=this.renderer.text(W);for(;C+1<b.length&&b[C+1].type==="text";)W=b[++C],re+=`
`+this.renderer.text(W);A?S+=this.renderer.paragraph({type:"paragraph",raw:re,text:re,tokens:[{type:"text",raw:re,text:re}]}):S+=re;continue}default:{let W='Token with "'+P.type+'" type was not found.';if(this.options.silent)return je.error(W),"";throw new Error(W)}}}return S}parseInline(b,A){A=A||this.renderer;let S="";for(let C=0;C<b.length;C++){let N=b[C];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]){let W=this.options.extensions.renderers[N.type].call({parser:this},N);if(W!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(N.type)){S+=W||"";continue}}let P=N;switch(P.type){case"escape":{S+=A.text(P);break}case"html":{S+=A.html(P);break}case"link":{S+=A.link(P);break}case"image":{S+=A.image(P);break}case"strong":{S+=A.strong(P);break}case"em":{S+=A.em(P);break}case"codespan":{S+=A.codespan(P);break}case"br":{S+=A.br(P);break}case"del":{S+=A.del(P);break}case"text":{S+=A.text(P);break}default:{let W='Token with "'+P.type+'" type was not found.';if(this.options.silent)return je.error(W),"";throw new Error(W)}}}return S}},o(Zr,"_Parser"),Zr),bs=(os=class{options;constructor(b){this.options=b||a.defaults}preprocess(b){return b}postprocess(b){return b}processAllTokens(b){return b}},o(os,"_Hooks"),Yr(os,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),os),Pa=(Ha=class{constructor(...b){j_(this,ls);Yr(this,"defaults",n());Yr(this,"options",this.setOptions);Yr(this,"parse",Oh(this,ls,Df).call(this,br.lex,Ts.parse));Yr(this,"parseInline",Oh(this,ls,Df).call(this,br.lexInline,Ts.parseInline));Yr(this,"Parser",Ts);Yr(this,"Renderer",Sn);Yr(this,"TextRenderer",lc);Yr(this,"Lexer",br);Yr(this,"Tokenizer",q);Yr(this,"Hooks",bs);this.use(...b)}walkTokens(b,A){let S=[];for(let C of b)switch(S=S.concat(A.call(this,C)),C.type){case"table":{let N=C;for(let P of N.header)S=S.concat(this.walkTokens(P.tokens,A));for(let P of N.rows)for(let W of P)S=S.concat(this.walkTokens(W.tokens,A));break}case"list":{let N=C;S=S.concat(this.walkTokens(N.items,A));break}default:{let N=C;this.defaults.extensions?.childTokens?.[N.type]?this.defaults.extensions.childTokens[N.type].forEach(P=>{let W=N[P].flat(1/0);S=S.concat(this.walkTokens(W,A))}):N.tokens&&(S=S.concat(this.walkTokens(N.tokens,A)))}}return S}use(...b){let A=this.defaults.extensions||{renderers:{},childTokens:{}};return b.forEach(S=>{let C={...S};if(C.async=this.defaults.async||C.async||!1,S.extensions&&(S.extensions.forEach(N=>{if(!N.name)throw new Error("extension name required");if("renderer"in N){let P=A.renderers[N.name];P?A.renderers[N.name]=function(...W){let re=N.renderer.apply(this,W);return re===!1&&(re=P.apply(this,W)),re}:A.renderers[N.name]=N.renderer}if("tokenizer"in N){if(!N.level||N.level!=="block"&&N.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let P=A[N.level];P?P.unshift(N.tokenizer):A[N.level]=[N.tokenizer],N.start&&(N.level==="block"?A.startBlock?A.startBlock.push(N.start):A.startBlock=[N.start]:N.level==="inline"&&(A.startInline?A.startInline.push(N.start):A.startInline=[N.start]))}"childTokens"in N&&N.childTokens&&(A.childTokens[N.name]=N.childTokens)}),C.extensions=A),S.renderer){let N=this.defaults.renderer||new Sn(this.defaults);for(let P in S.renderer){if(!(P in N))throw new Error(`renderer '${P}' does not exist`);if(["options","parser"].includes(P))continue;let W=P,re=S.renderer[W];S.useNewRenderer||(re=Oh(this,ls,V_).call(this,re,W,N));let Ne=N[W];N[W]=(...Se)=>{let tt=re.apply(N,Se);return tt===!1&&(tt=Ne.apply(N,Se)),tt||""}}C.renderer=N}if(S.tokenizer){let N=this.defaults.tokenizer||new q(this.defaults);for(let P in S.tokenizer){if(!(P in N))throw new Error(`tokenizer '${P}' does not exist`);if(["options","rules","lexer"].includes(P))continue;let W=P,re=S.tokenizer[W],Ne=N[W];N[W]=(...Se)=>{let tt=re.apply(N,Se);return tt===!1&&(tt=Ne.apply(N,Se)),tt}}C.tokenizer=N}if(S.hooks){let N=this.defaults.hooks||new bs;for(let P in S.hooks){if(!(P in N))throw new Error(`hook '${P}' does not exist`);if(P==="options")continue;let W=P,re=S.hooks[W],Ne=N[W];bs.passThroughHooks.has(P)?N[W]=Se=>{if(this.defaults.async)return Promise.resolve(re.call(N,Se)).then(it=>Ne.call(N,it));let tt=re.call(N,Se);return Ne.call(N,tt)}:N[W]=(...Se)=>{let tt=re.apply(N,Se);return tt===!1&&(tt=Ne.apply(N,Se)),tt}}C.hooks=N}if(S.walkTokens){let N=this.defaults.walkTokens,P=S.walkTokens;C.walkTokens=function(W){let re=[];return re.push(P.call(this,W)),N&&(re=re.concat(N.call(this,W))),re}}this.defaults={...this.defaults,...C}}),this}setOptions(b){return this.defaults={...this.defaults,...b},this}lexer(b,A){return br.lex(b,A??this.defaults)}parser(b,A){return Ts.parse(b,A??this.defaults)}},ls=new WeakSet,V_=function(b,A,S){switch(A){case"heading":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,S.parser.parseInline(C.tokens),C.depth,D(S.parser.parseInline(C.tokens,S.parser.textRenderer)))};case"code":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.text,C.lang,!!C.escaped)};case"table":return function(C){if(!C.type||C.type!==A)return b.apply(this,arguments);let N="",P="";for(let re=0;re<C.header.length;re++)P+=this.tablecell({text:C.header[re].text,tokens:C.header[re].tokens,header:!0,align:C.align[re]});N+=this.tablerow({text:P});let W="";for(let re=0;re<C.rows.length;re++){let Ne=C.rows[re];P="";for(let Se=0;Se<Ne.length;Se++)P+=this.tablecell({text:Ne[Se].text,tokens:Ne[Se].tokens,header:!1,align:C.align[Se]});W+=this.tablerow({text:P})}return b.call(this,N,W)};case"blockquote":return function(C){if(!C.type||C.type!==A)return b.apply(this,arguments);let N=this.parser.parse(C.tokens);return b.call(this,N)};case"list":return function(C){if(!C.type||C.type!==A)return b.apply(this,arguments);let N=C.ordered,P=C.start,W=C.loose,re="";for(let Ne=0;Ne<C.items.length;Ne++){let Se=C.items[Ne],tt=Se.checked,it=Se.task,xt="";if(Se.task){let ot=this.checkbox({checked:!!tt});W?Se.tokens.length>0&&Se.tokens[0].type==="paragraph"?(Se.tokens[0].text=ot+" "+Se.tokens[0].text,Se.tokens[0].tokens&&Se.tokens[0].tokens.length>0&&Se.tokens[0].tokens[0].type==="text"&&(Se.tokens[0].tokens[0].text=ot+" "+Se.tokens[0].tokens[0].text)):Se.tokens.unshift({type:"text",text:ot+" "}):xt+=ot+" "}xt+=this.parser.parse(Se.tokens,W),re+=this.listitem({type:"list_item",raw:xt,text:xt,task:it,checked:!!tt,loose:W,tokens:Se.tokens})}return b.call(this,re,N,P)};case"html":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.text,C.block)};case"paragraph":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,this.parser.parseInline(C.tokens))};case"escape":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.text)};case"link":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.href,C.title,this.parser.parseInline(C.tokens))};case"image":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.href,C.title,C.text)};case"strong":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,this.parser.parseInline(C.tokens))};case"em":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,this.parser.parseInline(C.tokens))};case"codespan":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.text)};case"del":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,this.parser.parseInline(C.tokens))};case"text":return function(C){return!C.type||C.type!==A?b.apply(this,arguments):b.call(this,C.text)}}return b},Df=function(b,A){return(S,C)=>{let N={...C},P={...this.defaults,...N};this.defaults.async===!0&&N.async===!1&&(P.silent||je.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),P.async=!0);let W=Oh(this,ls,Z_).call(this,!!P.silent,!!P.async);if(typeof S>"u"||S===null)return W(new Error("marked(): input parameter is undefined or null"));if(typeof S!="string")return W(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(S)+", string expected"));if(P.hooks&&(P.hooks.options=P),P.async)return Promise.resolve(P.hooks?P.hooks.preprocess(S):S).then(re=>b(re,P)).then(re=>P.hooks?P.hooks.processAllTokens(re):re).then(re=>P.walkTokens?Promise.all(this.walkTokens(re,P.walkTokens)).then(()=>re):re).then(re=>A(re,P)).then(re=>P.hooks?P.hooks.postprocess(re):re).catch(W);try{P.hooks&&(S=P.hooks.preprocess(S));let re=b(S,P);P.hooks&&(re=P.hooks.processAllTokens(re)),P.walkTokens&&this.walkTokens(re,P.walkTokens);let Ne=A(re,P);return P.hooks&&(Ne=P.hooks.postprocess(Ne)),Ne}catch(re){return W(re)}}},Z_=function(b,A){return S=>{if(S.message+=`
Please report this to https://github.com/markedjs/marked.`,b){let C="<p>An error occurred:</p><pre>"+_(S.message+"",!0)+"</pre>";return A?Promise.resolve(C):C}if(A)return Promise.reject(S);throw S}},o(Ha,"Marked"),Ha),na=new Pa;function dt(Ze,b){return na.parse(Ze,b)}o(dt,"marked"),dt.options=dt.setOptions=function(Ze){return na.setOptions(Ze),dt.defaults=na.defaults,l(dt.defaults),dt},dt.getDefaults=n,dt.defaults=a.defaults,dt.use=function(...Ze){return na.use(...Ze),dt.defaults=na.defaults,l(dt.defaults),dt},dt.walkTokens=function(Ze,b){return na.walkTokens(Ze,b)},dt.parseInline=na.parseInline,dt.Parser=Ts,dt.parser=Ts.parse,dt.Renderer=Sn,dt.TextRenderer=lc,dt.Lexer=br,dt.lexer=br.lex,dt.Tokenizer=q,dt.Hooks=bs,dt.parse=dt;let Cf=dt.options,kf=dt.setOptions,cc=dt.use,dr=dt.walkTokens,Cn=dt.parseInline,Nh=dt,wf=Ts.parse,If=br.lex;a.Hooks=bs,a.Lexer=br,a.Marked=Pa,a.Parser=Ts,a.Renderer=Sn,a.TextRenderer=lc,a.Tokenizer=q,a.getDefaults=n,a.lexer=If,a.marked=dt,a.options=Cf,a.parse=Nh,a.parseInline=Cn,a.parser=wf,a.setOptions=kf,a.use=cc,a.walkTokens=dr})})(yh,yh.exports);var Ww=":host{color:#838289;color:var(--text-color-secondary,#838289)}.orama-markdown-wrapper>:first-child{margin-top:0;padding-top:0}a,li,p{font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));line-height:1.5;line-height:var(--font-line-height-md,1.5)}blockquote,ol,ul{margin:0 0 .25rem .25rem;margin:0 0 var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:0 0 0 .25rem;padding:0 0 0 var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding-inline-start:1rem;padding-inline-start:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}blockquote{border-left:.25rem solid #dadada;border-left:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) solid var(--border-color-primary,#dadada)}p>code{margin:0 .25rem;margin:0 var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}pre>code{position:relative}a{color:#151515;color:var(--text-color-primary,#151515);font-weight:700;opacity:.9;text-decoration:underline}a:hover{opacity:1}.orama-markdown-pre{position:relative}.orama-markdown-code{border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)))}.orama-markdown-code-title{color:#151515;color:var(--text-color-primary,#151515);display:block;font-size:.625rem;font-size:var(--font-size-xxs,calc(10rem/var(--orama-base-font-size, 16)));opacity:.5;padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}";Rt.hljs=ud,pf.addHook("afterSanitizeAttributes",s=>{"href"in s&&(s.setAttribute("target","_parent"),s.setAttribute("rel","noopener"))});let A_=Object.fromEntries(Ew.map(s=>[s,{error:!1,retries:0}])),Yw={html:"xml"};async function v_(s){let e=A_[s];if(!e||e.error&&e.retries>=5)return!1;try{let a=await mt(`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/languages/${s}.min.js`);if(!a.ok)throw new Error(`Failed to fetch ${s} language: ${a.statusText}`);let n=await a.text();if(await new Function(n)(),!ud.getLanguage(s))throw new Error(`Even after executing grammar script, ${s} language was not registered`);return e.retries=0,e.error=!1,!0}catch{return e.error=!0,e.retries++,!1}}o(v_,"loadLanguageAndHighlight");let qw=($l=class{constructor(e){Lt(this,e),this.chatMarkdownLinkClicked=Ot(this,"chatMarkdownLinkClicked",7),this.parseMarkdown=async()=>{if(!this.content)return;let a=this.content.replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/,""),n=await yh.exports.marked.parse(a);this.divElement.innerHTML=pf.sanitize(n);let l=this.markdownElement.shadowRoot.querySelectorAll(".orama-markdown-code"),c={};for(let h=0;h<l.length;h++){let p=l[h];if(p.hasAttribute("data-highlighted"))continue;let m=p.className.split(" ").find(f=>f.startsWith("language-")).substring(9);c[m]=!0}for(let h of Object.keys(c))v_(h).then(()=>{let p=yh.exports.marked.parse(a);this.divElement.innerHTML=pf.sanitize(p)})}}onContentChange(){this.parseMarkdown()}handleMarkdownLinkClicked(e){let a=e.target;if(this.chatMarkdownLinkClicked.emit({text:a.innerText,href:a.href}).defaultPrevented){e.preventDefault();return}}componentDidLoad(){yh.exports.marked.use({useNewRenderer:!0,renderer:{link:o(e=>{var a,n,l,c,h;let p=Nt.createElement("a");return p.innerHTML=(n=(a=this.chatMarkdownLinkTitle)===null||a===void 0?void 0:a.call(this,{href:e.href,text:e.text}))!==null&&n!==void 0?n:e.text,p.href=(c=(l=this.chatMarkdownLinkHref)===null||l===void 0?void 0:l.call(this,{href:e.href,text:e.text}))!==null&&c!==void 0?c:e.href,this.chatMarkdownLinkTarget&&(p.target=(h=this.chatMarkdownLinkTarget)===null||h===void 0?void 0:h.call(this,{href:e.href,text:e.text})),p.outerHTML},"link"),code:o(e=>{let a=Yw[e.lang]||e.lang,n=A_[a]?a:"plaintext",l=Nt.createElement("pre");l.classList.add("orama-markdown-pre");let c=Nt.createElement("div");c.classList.add("orama-markdown-code-title"),l.appendChild(c);let h=Nt.createElement("code");h.classList.add("orama-markdown-code"),h.classList.add(`language-${n}`),h.classList.add("hljs"),l.appendChild(h);let p=ud.getLanguage(n);return p?(n==="plaintext"?c.innerHTML="":c.innerHTML=p.name,h.innerHTML=ud.highlight(e.text,{language:n,ignoreIllegals:!0}).value,h.dataset.highlighted="yes"):(c.innerHTML=" ",h.innerHTML=e.text),l.outerHTML},"code"),codespan:o(e=>{let a=Nt.createElement("code");return a.classList.add("orama-markdown-inline-code"),a.innerHTML=e.text,a.outerHTML},"codespan")}}),this.parseMarkdown()}render(){return x("host",{key:"0d9e85fa6fc920380df442ff1ef91e3fbcc0ea51"},x("link",{key:"10de293b8a30b8071a00c819c6c31968d5f48804",rel:"stylesheet",href:"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/styles/atom-one-dark.min.css"}),x("div",{key:"610b83aa61a633c732e20331685c9e61cecd1a49",class:"orama-markdown-wrapper",ref:o(e=>{this.divElement=e},"ref"),onClick:o(e=>{e.target.tagName==="A"&&this.handleMarkdownLinkClicked(e)},"onClick")}))}get markdownElement(){return sr(this)}static get watchers(){return{content:["onContentChange"]}}static get style(){return Ww}static get cmpMeta(){return{$flags$:9,$tagName$:"orama-markdown",$members$:{content:[1],chatMarkdownLinkTitle:[16],chatMarkdownLinkHref:[16],chatMarkdownLinkTarget:[16]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o($l,"OramaMarkdown"),$l);var Kw=".modal.sc-orama-modal{background-color:hsla(0,0%,98%,.7);background-color:var(--backdrop-background-color-primary,hsla(0,0%,98%,.7));display:none;height:100%;left:0;position:fixed;top:0;width:100%;z-index:9999}.modal.open.sc-orama-modal{display:block}dialog.sc-orama-modal{border:none}.modal-content.sc-orama-modal{background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);display:flex;flex-direction:column;inset:0;justify-content:space-between;position:fixed}@media (min-width:1024.02px){.modal-content.sc-orama-modal{background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));bottom:auto;margin:0 auto;max-height:70vh;max-width:45rem;max-width:calc(720rem/var(--orama-base-font-size, 16));min-height:12.5rem;min-height:calc(200rem/var(--orama-base-font-size, 16));padding:0;top:5vh;width:80%}}.modal-close.sc-orama-modal:not(:focus-visible){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.modal-title.sc-orama-modal{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}";let Qw=(Hl=class{constructor(e){Lt(this,e),this.modalClosed=Ot(this,"modalClosed",7),this.closeOnEscape=!0,this.closeOnOutsideClick=!0,this.mainTitle="",this.originalBodyOverflowState="scroll"}trapFocus(e){let a=this.el.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),n=Array.from(a).filter(l=>l.offsetParent!==null);if(n.length>0){this.firstFocusableElement=n[0],this.lastFocusableElement=n[n.length-1];let l=this.el.querySelector(":focus");e.shiftKey&&l===this.firstFocusableElement?(e.preventDefault(),this.lastFocusableElement.focus()):!e.shiftKey&&l===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}}handleFocus(){let e=this.el.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),a=Array.from(e).filter(n=>n.offsetParent!==null);a.length>0&&a[0].focus()}connectedCallback(){this.originalBodyOverflowState=Nt.body.style.overflow,this.activeElement=Nt.activeElement,this.handleFocus(),Nt.body.style.overflow="hidden"}disconnectedCallback(){Nt.body.style.overflow=this.originalBodyOverflowState}componentDidUpdate(){this.handleFocus(),this.activeElement&&this.activeElement.focus()}render(){return x("dialog",{key:"a3fc3367ed30a5b2c440df67600bf619652b559c",class:"modal open","aria-modal":"true","aria-labelledby":"modalTitle","aria-describedby":"modalContent",onKeyDown:o(e=>{switch(e.key){case"Tab":this.trapFocus(e);break;case"Escape":this.closeOnEscape&&(e.preventDefault(),e.stopPropagation(),this.modalClosed.emit());break}},"onKeyDown"),onClick:o(e=>{this.innerModalRef&&!this.innerModalRef.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),this.modalClosed.emit())},"onClick")},x("div",{key:"4eff2c8624762dc014b85851590abed2cf8f38c3",class:"modal-inner",ref:o(e=>this.innerModalRef=e,"ref")},x("h1",{key:"d4360fef432f56884b54c5bdfac5d8bfa6e530ef",id:"modalTitle",class:"modal-title"},this.mainTitle),x("div",{key:"9e3867727679699c7d31e71b7d637c6d4cb24334",id:"modalContent",class:"modal-content"},x("slot",{key:"deb12898e6327dc99b52ae8d48444c0d09b2320d"})),x("button",{key:"43dfa57f3117c030474c707113208aa954cf68f4",onClick:o(()=>this.modalClosed.emit(),"onClick"),type:"button",class:"modal-close"},"Close")))}get el(){return sr(this)}static get style(){return Kw}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-modal",$members$:{closeOnEscape:[4,"close-on-escape"],closeOnOutsideClick:[4,"close-on-outside-click"],mainTitle:[1,"main-title"],activeElement:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Hl,"OramaModal"),Hl);var Xw=Object.defineProperty,Jw=Object.getOwnPropertyDescriptor,_h=o((s,e,a,n)=>{for(var l=n>1?void 0:n?Jw(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&Xw(e,a,l),l},"o");let Xs=(Bl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Xs.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Bl,"t$3"),Bl);Xs.weightsMap=new Map([["thin",Q`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",Q`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",Q`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",Q`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",Q`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",Q`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]),Xs.styles=ar`
    :host {
      display: contents;
    }
  `,_h([Ae({type:String,reflect:!0})],Xs.prototype,"size",2),_h([Ae({type:String,reflect:!0})],Xs.prototype,"weight",2),_h([Ae({type:String,reflect:!0})],Xs.prototype,"color",2),_h([Ae({type:Boolean,reflect:!0})],Xs.prototype,"mirrored",2),Xs=_h([or("ph-clock")],Xs);var e8=Object.defineProperty,t8=Object.getOwnPropertyDescriptor,Ah=o((s,e,a,n)=>{for(var l=n>1?void 0:n?t8(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&e8(e,a,l),l},"s$3");let Js=(Ul=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Js.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Ul,"t$2"),Ul);Js.weightsMap=new Map([["thin",Q`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",Q`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",Q`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",Q`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",Q`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",Q`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]),Js.styles=ar`
    :host {
      display: contents;
    }
  `,Ah([Ae({type:String,reflect:!0})],Js.prototype,"size",2),Ah([Ae({type:String,reflect:!0})],Js.prototype,"weight",2),Ah([Ae({type:String,reflect:!0})],Js.prototype,"color",2),Ah([Ae({type:Boolean,reflect:!0})],Js.prototype,"mirrored",2),Js=Ah([or("ph-plus")],Js);var r8=Object.defineProperty,s8=Object.getOwnPropertyDescriptor,vh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?s8(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&r8(e,a,l),l},"s$2");let ea=(Fl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ea.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Fl,"t$1"),Fl);ea.weightsMap=new Map([["thin",Q`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",Q`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",Q`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",Q`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",Q`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",Q`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]),ea.styles=ar`
    :host {
      display: contents;
    }
  `,vh([Ae({type:String,reflect:!0})],ea.prototype,"size",2),vh([Ae({type:String,reflect:!0})],ea.prototype,"weight",2),vh([Ae({type:String,reflect:!0})],ea.prototype,"color",2),vh([Ae({type:Boolean,reflect:!0})],ea.prototype,"mirrored",2),ea=vh([or("ph-caret-left")],ea);var a8=".sc-orama-navigation-bar-h{align-items:center;background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);display:flex;padding:1rem 1rem .5rem;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}@media (min-width:1024.02px){.sc-orama-navigation-bar-h{display:none}}.spacer.sc-orama-navigation-bar{display:block;height:2.25rem;height:calc(36rem/var(--orama-base-font-size, 16));width:2.25rem;width:calc(36rem/var(--orama-base-font-size, 16))}.corner-section.sc-orama-navigation-bar{display:flex;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)))}.corner-section.start.sc-orama-navigation-bar{display:flex;justify-content:flex-start}.corner-section.center.sc-orama-navigation-bar{display:flex;flex:1;justify-content:center}.corner-section.end.sc-orama-navigation-bar{display:flex;justify-content:flex-end}",n8=function(s,e,a,n){var l=arguments.length,c=l<3?e:n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,e,a,n);else for(var p=s.length-1;p>=0;p--)(h=s[p])&&(c=(l<3?h(c):l>3?h(e,a,c):h(e,a))||c);return l>3&&c&&Object.defineProperty(e,a,c),c};let S_=(zl=class{constructor(e){Lt(this,e),this.showBackButton=!0,this.showChatActions=!1,this.handleStartNewChat=()=>{var a;(a=this.chatStore.state.chatService)===null||a===void 0||a.resetChat()}}render(){return x(qt,{key:"676f6e8004de45bc7e70a38534c694c57b2c5068"},x("div",{key:"036c53deef2f5fa0785f677d7aec3cb6fcc47a39",class:"corner-section start"},this.showBackButton?x(ba,null,x("orama-button",{type:"button",variant:"icon","aria-label":"Exit",onClick:this.handleClose,onKeyDown:this.handleClose},x("ph-caret-left",{size:"20px"}))):x("div",{class:"spacer"})),x("div",{key:"2dd271a6f0742652bb3480cb7996f46bd3a64bb5",class:"corner-section center"},x("orama-toggler",{key:"80ecf7005825e985ed5e86a12c5912d6e104c238"})),x("div",{key:"c00c10b04bffa9e7bbae61f27d0fc6e483b66e8a",class:"corner-section end"},this.showChatActions?x(ba,null,x("orama-button",{type:"button",variant:"icon","aria-label":"Start new chat",onClick:this.handleStartNewChat,onKeyDown:this.handleStartNewChat},x("ph-plus",{size:"20px"}))):x("div",{class:"spacer"})))}static get style(){return a8}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-navigation-bar",$members$:{handleClose:[16],showBackButton:[4,"show-back-button"],showChatActions:[4,"show-chat-actions"]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(zl,"OramaNavigationBar"),zl);n8([js("chat")],S_.prototype,"chatStore",void 0);var i8=".sc-orama-search-h{display:flex;flex-direction:column;overflow:hidden;width:100%}@media (max-width:1024px){.sc-orama-search-h orama-input.sc-orama-search{padding:0 1rem;padding:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}}@media (max-width:1024px){.sc-orama-search-h{padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}}.result-wrapper.sc-orama-search{flex-grow:1;overflow-y:auto;padding:0 1rem;padding:0 var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.result-wrapper.sc-orama-search::-webkit-scrollbar{width:.3em}.result-wrapper.sc-orama-search::-webkit-scrollbar-track{background:transparent}.result-wrapper.sc-orama-search::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:1024.02px){.result-wrapper.sc-orama-search{padding:0 .75rem;padding:0 var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}}.search-form.sc-orama-search{display:flex;flex-direction:column}",vf=function(s,e,a,n){var l=arguments.length,c=l<3?e:n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,e,a,n);else for(var p=s.length-1;p>=0;p--)(h=s[p])&&(c=(l<3?h(c):l>3?h(e,a,c):h(e,a))||c);return l>3&&c&&Object.defineProperty(e,a,c),c};let dd=(Gl=class{constructor(e){Lt(this,e),this.searchCompleted=Ot(this,"searchCompleted",7),this.answerGenerated=Ot(this,"answerGenerated",7),this.placeholder="Search...",this.focusInput=!1,this.suggestions=[],this.disableChat=!1,this.highlightTitle=!1,this.highlightDescription=!1,this.selectedFacet="",this.handleSubmit=a=>{if(a.preventDefault(),this.disableChat)return;this.el.querySelector("orama-chat-button")?.click()}}doSearch(){this.searchStore.state.searchService.search(this.globalStore.state.currentTerm,this.selectedFacet,{onSearchCompletedCallback:o(e=>{this.searchCompleted.emit(e)},"onSearchCompletedCallback")})}render(){var e;return x(qt,{key:"5ffb6d0f313803282d1d0cdccb4acbfe803ee1ca"},x("form",{key:"8570f75cf23a846ce50773495f66c39c625187d2",onSubmit:this.handleSubmit,class:"search-form"},x("orama-input",{key:"693017fb81d0deec152de8938771d4df78062a7f","focus-on-arrow-nav":!0,autoFocus:this.focusInput,type:"search",onInput:o(a=>{let n=a.target;this.globalStore.state.currentTerm=n.value,this.doSearch()},"onInput"),value:this.globalStore.state.currentTerm,size:"large",labelForScreenReaders:this.placeholder,placeholder:this.placeholder}),x("slot",{key:"bdbbcda632f623b395862d9b7e2e9b44186f4a65",name:"summary"})),x("div",{key:"3bfb4f21ee8e03926b22e672b44d8914bb5e2ea2",class:"result-wrapper"},x("orama-facets",{key:"9c45496fd7c4819d2bf08c39f1035d1d8ffcc32d",facets:this.searchStore.state.facets,selectedFacet:this.selectedFacet,selectedFacetChanged:o(a=>{this.selectedFacet=a,this.doSearch()},"selectedFacetChanged")}),x("orama-search-results",{key:"622d144169802c259095c58be743bffffa3362b1",suggestions:!(!((e=this.globalStore.state.currentTerm)===null||e===void 0)&&e.length)&&!this.disableChat?this.suggestions:[],setChatTerm:o(a=>{var n;this.globalStore.state.currentTask="chat",(n=this.chatStore.state.chatService)===null||n===void 0||n.sendQuestion(a,void 0,{onAnswerGeneratedCallback:o(l=>this.answerGenerated.emit(l),"onAnswerGeneratedCallback")})},"setChatTerm"),sourceBaseUrl:this.sourceBaseUrl,linksTarget:this.linksTarget,linksRel:this.linksRel,sections:this.searchStore.state.results,searchTerm:this.globalStore.state.currentTerm,highlightTitle:this.highlightTitle,highlightDescription:this.highlightDescription,loading:this.searchStore.state.loading,error:this.searchStore.state.error})))}get el(){return sr(this)}static get style(){return i8}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-search",$members$:{placeholder:[1],focusInput:[4,"focus-input"],suggestions:[16],sourceBaseUrl:[1,"source-base-url"],linksTarget:[1,"links-target"],linksRel:[1,"links-rel"],disableChat:[4,"disable-chat"],highlightTitle:[4,"highlight-title"],highlightDescription:[4,"highlight-description"],selectedFacet:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Gl,"OramaSearch"),Gl);vf([js("search")],dd.prototype,"searchStore",void 0),vf([js("global")],dd.prototype,"globalStore",void 0),vf([js("chat")],dd.prototype,"chatStore",void 0);var o8=":host{display:block}.kyb-shortcut{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));padding:.25rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-s,calc(4rem/var(--orama-base-font-size, 16)))}";let l8=(jl=class{constructor(e){Lt(this,e),this.size="medium",this.colorScheme="light",this.systemScheme="light",this.shortcutLabel="",this.componentID=Ku("search-button"),this.onPrefersColorSchemeChange=a=>{this.systemScheme=a.matches?"dark":"light",this.updateTheme()}}watchHandler(){this.updateTheme()}handleSearchboxClosed(e){this.buttonRef.querySelector("button").focus()}handleKeyDown(e){e.key==="k"&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),this.buttonRef.click())}updateTheme(){let e=Qu(this.htmlElement,this.colorScheme,this.systemScheme);Xu(this.htmlElement,e,this.themeConfig)}handleShortcutLabel(){return Ct.userAgent.includes("Mac")?"⌘ K":"Ctrl + K"}connectedCallback(){this.htmlElement.id=this.componentID,this.shortcutLabel=this.handleShortcutLabel(),this.schemaQuery=Rt.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange)}disconnectedCallback(){this.schemaQuery.removeEventListener("change",this.onPrefersColorSchemeChange)}componentWillLoad(){this.updateTheme()}render(){return x(qt,{key:"31f636068b1f055167f0ff33a89ded39e650d50d"},x("orama-button",{key:"29dbd772116d1a0fb84e362b3d27d124f6fdd0b1",type:"button",variant:"secondary",ref:o(e=>this.buttonRef=e,"ref"),size:this.size,onClick:o(()=>{let e=Nt.getElementsByTagName("orama-search-box");if(!e.length){je.error("No OramaSearchBox found");return}if(e.length>1){je.error("Multiple instances of OramaSearchBox (orama-search-box) found. Considere to assign an ID to OramaSearchBox, implement onClick on OramaSearchButton and select desired OramaSearchBox on onClick method");return}e[0].open=!0},"onClick")},x("span",{key:"a25383abaccd46cdb1a310d27de501adb100fdfc",slot:"adorment-start"},x("ph-magnifying-glass",{key:"d96898f70517ac70edf58dcf57bf404ad9f4e35f"})),x("slot",{key:"b6feb536a70d1aff3644ef4d6dd81376ebee96c6"}),x("span",{key:"124f2463c619220884eb5bdfc02ff77697701b54",slot:"adorment-end",class:"kyb-shortcut"},this.shortcutLabel)))}get htmlElement(){return sr(this)}static get watchers(){return{themeConfig:["watchHandler"],colorScheme:["watchHandler"]}}static get style(){return o8}static get cmpMeta(){return{$flags$:9,$tagName$:"orama-search-button",$members$:{size:[1],themeConfig:[16],colorScheme:[1,"color-scheme"],systemScheme:[32],shortcutLabel:[32],componentID:[32]},$listeners$:[[16,"searchboxClosed","handleSearchboxClosed"],[4,"keydown","handleKeyDown"]],$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(jl,"OramaSearchButton"),jl);var c8=Object.defineProperty,h8=Object.getOwnPropertyDescriptor,Sh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?h8(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&c8(e,a,l),l},"s$1");let ta=(Vl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ta.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Vl,"t"),Vl);ta.weightsMap=new Map([["thin",Q`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",Q`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",Q`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",Q`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",Q`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",Q`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]),ta.styles=ar`
    :host {
      display: contents;
    }
  `,Sh([Ae({type:String,reflect:!0})],ta.prototype,"size",2),Sh([Ae({type:String,reflect:!0})],ta.prototype,"weight",2),Sh([Ae({type:String,reflect:!0})],ta.prototype,"color",2),Sh([Ae({type:Boolean,reflect:!0})],ta.prototype,"mirrored",2),ta=Sh([or("ph-caret-right")],ta);var u8=".sources-outer-wrapper{margin:0 .5rem .75rem 1rem;margin:0 var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)));overflow:hidden;position:relative}.source-next{left:0}.carousel-arrow,.source-next{bottom:0;position:absolute;top:0}.carousel-arrow{align-items:center;border:none;color:#838289;color:var(--text-color-secondary,#838289);cursor:pointer;display:flex;font-size:1.125rem;font-size:calc(18rem/var(--orama-base-font-size, 16));height:-moz-fit-content;height:fit-content;height:100%;justify-content:center;margin-block:auto;opacity:1;padding:0 .75rem;padding:0 var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));transition:color .2s,opacity .2s;z-index:1}.carousel-arrow.hidden{opacity:0;pointer-events:none}.carousel-arrow:focus:not(.hidden),.carousel-arrow:hover:not(.hidden){color:#151515;color:var(--text-color-primary,#151515)}.carousel-arrow--prev{background:linear-gradient(-90deg,transparent,70%,#fbfbfb);background:linear-gradient(-90deg,transparent,70%,var(--background-color-primary,#fbfbfb));left:0}.carousel-arrow--next{background:linear-gradient(90deg,transparent,30%,#fbfbfb);background:linear-gradient(90deg,transparent,30%,var(--background-color-primary,#fbfbfb));right:0}.sources-wrapper{display:flex;overflow-x:auto;overflow-x:scroll;position:relative;scroll-behavior:smooth;scrollbar-width:none}.source{background:#fff;background:var(--background-color-secondary,#fff);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));flex-grow:0;flex-shrink:0;overflow:hidden;padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative;text-decoration:none;width:12.1875rem;width:calc(195rem/var(--orama-base-font-size, 16))}.source .source-subtitle,.source .source-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (hover:hover){.source:hover{background:#eee9f6;background:var(--background-color-tertiary,#eee9f6);transition:background .2s ease-in-out}}.source-inner-wrapper{display:flex;padding-right:.5rem;padding-right:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:relative}.source-inner-wrapper:last-of-type{padding-right:1rem;padding-right:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.sr-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}";let Ch=0,d8=(Zl=class{constructor(e){Lt(this,e),this.answerSourceClick=Ot(this,"answerSourceClick",7),this.sourceBaseURL="",this.linksTarget="_blank",this.linksRel="noopener noreferrer",this.sourcesMap={title:"title",description:"description",path:"path"},this.isCarouselScrollAtEnd=!1,this.isCarouselScrollAtStart=!1,this.handleCarouselScroll=()=>{this.computeCarouselArrowsVisibility()},this.handleItemClick=(a,n)=>{if(this.answerSourceClick.emit({source:n}).defaultPrevented){a.preventDefault();return}if(!n?.path)throw new Error("No path found")},this.resizeObserver=new yr(()=>{this.computeCarouselArrowsVisibility()})}buildUrl(e){if(!e)return"#";if(this.sourceBaseURL){let a=this.sourceBaseURL.replace(/\/+$/,""),n=e.replace(/^\/+/,"");return`${a}/${n}`}return e}getNextItemCarousel(e,a){for(let n=0;n<a.length;n++){let l=a[n],c=l.getBoundingClientRect(),h=e.getBoundingClientRect();if(c.right-Ch>h.right)return l}return null}getPreviousItemCarousel(e,a){var n;for(let l=0;l<a.length;l++){let c=a[l],h=c.getBoundingClientRect(),p=e.getBoundingClientRect();if(h.left+Ch>=p.left&&h.right-Ch<=p.right)return(n=a[l-1])!==null&&n!==void 0?n:null;if(h.left-Ch<p.right&&h.right-Ch>p.right)return c}return null}handleCarouselMove(e){let a=this.carouselSourceRef;if(!a)return;let n=a.getElementsByClassName("source-inner-wrapper");if(e==="forward"){let l=this.getNextItemCarousel(a,n);l&&l.scrollIntoView({behavior:"smooth",inline:"end",block:"nearest"})}else{let l=this.getPreviousItemCarousel(a,n);l&&l.scrollIntoView({behavior:"smooth",inline:"start",block:"nearest"})}}computeCarouselArrowsVisibility(){let e=this.carouselSourceRef;if(!e)return;let a=e.getElementsByClassName("source-inner-wrapper");this.isCarouselScrollAtEnd=!this.getNextItemCarousel(e,a),this.isCarouselScrollAtStart=!this.getPreviousItemCarousel(e,a)}componentDidLoad(){var e;(e=this.carouselSourceRef)===null||e===void 0||e.addEventListener("scroll",this.handleCarouselScroll),this.computeCarouselArrowsVisibility(),this.carouselSourceRef&&this.resizeObserver.observe(this.carouselSourceRef)}disconnectedCallback(){var e;(e=this.carouselSourceRef)===null||e===void 0||e.removeEventListener("scroll",this.handleCarouselScroll),this.resizeObserver.disconnect()}hasHorizontalOverflow(e){return e?e.scrollWidth>e.clientWidth:!1}render(){var e;if(!((e=this.sources)===null||e===void 0)&&e.length)return x("host",null,x("div",{class:{"sources-outer-wrapper":!0,"oveflow-decorator":this.hasHorizontalOverflow(this.carouselSourceRef)}},x("h2",{class:"sr-only"},"Sources"),x("button",{class:{"carousel-arrow carousel-arrow--prev":!0,hidden:this.isCarouselScrollAtStart},onClick:o(()=>this.handleCarouselMove("backwards"),"onClick"),type:"button"},x("ph-caret-left",null)),x("button",{class:{"carousel-arrow carousel-arrow--next":!0,hidden:this.isCarouselScrollAtEnd},onClick:o(()=>this.handleCarouselMove("forward"),"onClick"),type:"button"},x("ph-caret-right",null)),x("div",{class:"sources-wrapper",ref:o(a=>{this.carouselSourceRef=a},"ref")},this.sources.map((a,n)=>{if(a[this.sourcesMap.title]&&a[this.sourcesMap.path]||a[this.sourcesMap.description]&&a[this.sourcesMap.path])return x("div",{class:"source-inner-wrapper",key:`source-${n}`,style:{position:"relative",display:"flex"}},x("a",{href:this.buildUrl(a[this.sourcesMap.path]),class:"source",target:this.linksTarget,rel:this.linksRel,id:`source-${n}`,onClick:o(l=>this.handleItemClick(l,a),"onClick")},x("orama-text",{as:"h3",styledAs:"span",class:"source-title"},a[this.sourcesMap.title]),x("orama-text",{as:"p",styledAs:"span",class:"source-subtitle",variant:"tertiary"},a[this.sourcesMap.description])))}))))}static get style(){return u8}static get cmpMeta(){return{$flags$:9,$tagName$:"orama-sources",$members$:{sources:[8],sourceBaseURL:[1,"source-base-u-r-l"],linksTarget:[1,"links-target"],linksRel:[1,"links-rel"],sourcesMap:[16],isCarouselScrollAtEnd:[32],isCarouselScrollAtStart:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Zl,"OramaSources"),Zl);var p8=".suggestions-chips.sc-orama-suggestions{align-items:center;display:flex;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));list-style:none;margin:0;overflow-x:auto;padding:.5rem 1rem;padding:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16))) var(--radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.suggestions-chips.sc-orama-suggestions::-webkit-scrollbar{background-color:transparent;height:0}@media (min-width:768.02px){.suggestions-chips.sc-orama-suggestions{flex-wrap:wrap;justify-content:center}}.suggestion-button-chips.sc-orama-suggestions{align-items:center;background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:1rem;border-radius:var(--radius-l,calc(16rem/var(--orama-base-font-size, 16)));color:#151515;color:var(--text-color-primary,#151515);color:#838289;color:var(--text-color-secondary,#838289);-moz-column-gap:.5rem;column-gap:.5rem;-moz-column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));transition:background-color .2s;width:-moz-max-content;width:max-content}@media (hover:hover){.suggestion-button-chips.sc-orama-suggestions:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}}.suggestion-button-chips.sc-orama-suggestions:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.suggestions-list.sc-orama-suggestions{align-items:center;display:flex;flex-wrap:wrap;list-style:none;margin:0;padding:0}.suggestion-item-list.sc-orama-suggestions{width:100%}.suggestion-button-list.sc-orama-suggestions{align-items:center;background-color:transparent;background:linear-gradient(90deg,#ae8ff7,#151515);background:linear-gradient(90deg,var(--text-color-accent,#ae8ff7) 0,var(--text-color-primary,#151515) 100%);-webkit-background-clip:text;background-clip:text;color:#838289;color:var(--text-color-secondary,#838289);-moz-column-gap:.5rem;column-gap:.5rem;-moz-column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));column-gap:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));text-align:left;-webkit-text-fill-color:transparent;border:1px solid transparent;font-family:inherit;width:100%}.suggestion-button-list.sc-orama-suggestions:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));outline:none}";let m8=(Wl=class{constructor(e){Lt(this,e),this.as="chips"}handleClick(e){this.suggestionClicked&&this.suggestionClicked(e)}render(){var e;let a=this.as==="chips",n=this.as==="list",l=a?"chips":n?"list":"";return!((e=this.suggestions)===null||e===void 0)&&e.length?x("ul",{class:`suggestions-${l}`},this.suggestions.map(c=>x("li",{key:c.split(" ").join("-").toLowerCase(),class:`suggestion-item-${l}`},x("button",{"focus-on-arrow-nav":!0,type:"button",class:`suggestion-button-${l}`,onClick:o(h=>{h.preventDefault(),this.handleClick(c)},"onClick")},this.icon,c)))):null}static get style(){return p8}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-suggestions",$members$:{suggestions:[16],as:[1],icon:[16],suggestionClicked:[16]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Wl,"OramaSuggestions"),Wl);var f8=".p.sc-orama-text{color:#151515;color:var(--text-color-primary,#151515);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0}@media (min-width:768.02px){.p.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.p-secondary.sc-orama-text{color:#838289;color:var(--text-color-secondary,#838289);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0}@media (min-width:768.02px){.p-secondary.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.p-tertiary.sc-orama-text{color:#99989d;color:var(--text-color-tertiary,#99989d);font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;padding:0}@media (min-width:768.02px){.p-tertiary.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)))}}.span.sc-orama-text{color:#151515;color:var(--text-color-primary,#151515)}.span.sc-orama-text,.span-secondary.sc-orama-text{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.span-secondary.sc-orama-text{color:#838289;color:var(--text-color-secondary,#838289)}.span-tertiary.sc-orama-text{color:#99989d;color:var(--text-color-tertiary,#99989d);font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.small.sc-orama-text{color:#151515;color:var(--text-color-primary,#151515)}.small.sc-orama-text,.small-secondary.sc-orama-text{font-size:.75rem;font-size:var(--font-size-xs,calc(12rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.small-secondary.sc-orama-text{color:#838289;color:var(--text-color-secondary,#838289)}.small-tertiary.sc-orama-text{color:#99989d;color:var(--text-color-tertiary,#99989d);font-size:.75rem;font-size:var(--font-size-xs,calc(12rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);line-height:1.25;line-height:var(--font-line-height-s,1.25);margin:0;padding:0}.text-bold.sc-orama-text{font-weight:600;font-weight:var(--font-weight-semibold,600)}.text-left.sc-orama-text{text-align:left}.text-right.sc-orama-text{text-align:right}.text-center.sc-orama-text{text-align:center}.text-inactive.sc-orama-text{color:#99989d;color:var(--text-color-inactive,#99989d)}";let g8=(Yl=class{constructor(e){Lt(this,e),this.as="p",this.bold=!1,this.variant="primary"}render(){let e=this.styledAs==="span"||this.styledAs==="small"||this.styledAs==="p"?this.styledAs:this.as,a=this.as,n=["as","styled-as","class"],l=th(this.el,n);return x(a,Object.assign({key:"a1c41477fc4643a8fd1eba038a39117311e17a20",class:{[e]:!0,[`text-${this.align}`]:!!this.align,[`${e}-${this.variant}`]:!0,"text-inactive":!!this.inactive,"text-bold":!!this.bold,[this.class]:!!this.class}},l),x("slot",{key:"d78c56927befa49cf5f54ab77dd76c9ab3797770"}))}get el(){return sr(this)}static get style(){return f8}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-text",$members$:{as:[1],styledAs:[1,"styled-as"],bold:[4],class:[1],align:[1],variant:[1],inactive:[4]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Yl,"OramaText"),Yl);var E8=".sc-orama-textarea-h{align-items:center;background:#fff;background:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:1rem;border-radius:var(--textarea-radius,var(--radius-l,calc(16rem/var(--orama-base-font-size, 16))));box-shadow:#fff;box-shadow:var(--textarea-shadow,var(--shadow-color-primary,#fff));display:flex;padding:.25rem .25rem .25rem .75rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative}.sc-orama-textarea-s>[slot=adornment-end]{align-items:center;display:flex;justify-content:center}.textarea.sc-orama-textarea{background:none;border:none;color:#151515;color:var(--text-color-primary,#151515);font-family:inherit;font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);left:0;line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;outline:none;padding:0;resize:none;right:0;transition:height .1s;width:100%}@media (min-width:768.02px){.textarea.sc-orama-textarea{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}}.textarea.sc-orama-textarea::-moz-placeholder{color:#99989d;color:var(--text-color-inactive,#99989d);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%}.textarea.sc-orama-textarea::placeholder{color:#99989d;color:var(--text-color-inactive,#99989d);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%}.textarea.sc-orama-textarea:focus-visible{border-color:#432d77;border-color:var(--border-color-accent,#432d77);outline:none}.textarea.sc-orama-textarea::-webkit-scrollbar{width:.3em}.textarea.sc-orama-textarea::-webkit-scrollbar-track{background:transparent}.textarea.sc-orama-textarea::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:768.02px){.textarea.sc-orama-textarea{font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)))}}";let T8=(ql=class{constructor(e){Lt(this,e),this.value="",this.minRows=1,this.autoFocus=!1,this.handleChange=a=>{let n=a.target;this.value||this.syncHeight(),this.value=n.value}}handleAutoFocusChange(){this.autoFocus&&this.textarea.focus()}componetWillLoad(){this.startAdornmentWidth=this.getNamedSlotWidth("adornment-start"),this.endAdornmentWidth=this.getNamedSlotWidth("adornment-end"),this.syncHeight(),this.autoFocus&&this.textarea.focus()}getNamedSlotWidth(e){let a=this.el.querySelector(`slot[name="${e}"]`);if(a){let n=a.assignedElements();if(n.length>0)return n[0].offsetWidth}return 0}handlePropsChange(){this.syncHeight()}getStyleValue(e){return Number.parseInt(e,10)||0}calculateTextareaStyles(){let e=this.textarea,a=Rt.getComputedStyle(e);if(a.width==="0px")return{outerHeightStyle:0,overflowing:!1};let n=this.shadowTextarea;n.style.width=a.width,n.value=e.value||this.placeholder||"x",n.value.slice(-1)===`
`&&(n.value+=" ");let l=a.boxSizing,c=this.getStyleValue(a.paddingBottom)+this.getStyleValue(a.paddingTop),h=this.getStyleValue(a.borderBottomWidth)+this.getStyleValue(a.borderTopWidth),p=n.scrollHeight;n.value="x";let m=n.scrollHeight,f=p;this.minRows&&(f=Math.max(Number(this.minRows)*m,f)),this.maxRows&&(f=Math.min(Number(this.maxRows)*m,f)),f=Math.max(f,m);let g=f+(l==="border-box"?c+h:0),_=Math.abs(f-p)<=1;return{outerHeightStyle:g,overflowing:_}}syncHeight(){let e=this.calculateTextareaStyles();if(!e)return;let a=e.outerHeightStyle;this.height!==a&&(this.height=a,this.textarea.style.height=`${a}px`),this.textarea.style.overflow=e.overflowing?"hidden":""}getAllProps(){let e={};for(let a=0;a<this.el.attributes.length;a++){let n=this.el.attributes[a];e[n.name]=n.value}return e}render(){return x(qt,{key:"5d11fb96304062ca9861694d682d8e12064bdb1e"},x("slot",{key:"17fc62c00745e57cdc27e826f5481f4c6f497e3e",name:"adornment-start"}),x("textarea",Object.assign({key:"016d07bebfb05aa4f547bffbc2afa3dfc88970bc"},this.getAllProps(),{value:this.value,onInput:this.handleChange,ref:o(e=>this.textarea=e,"ref"),rows:Number(this.minRows),style:{height:this.height?`${this.height}px`:void 0,paddingLeft:this.startAdornmentWidth?`${this.startAdornmentWidth}px`:void 0,paddingRight:this.endAdornmentWidth?`${this.endAdornmentWidth}px`:void 0},class:"textarea",placeholder:this.placeholder})),x("slot",{key:"515eb08d900f216a6e1a70a45287750fb4eec53f",name:"adornment-end"}),x("textarea",{key:"76d4ec4a7a7ecae613a1dc47beec8716e652acab","aria-hidden":"true",readonly:!0,ref:o(e=>this.shadowTextarea=e,"ref"),tabindex:-1,class:"textarea",style:{visibility:"hidden",position:"absolute",overflow:"hidden",height:"0",top:"0",left:"0",transform:"translateZ(0)",paddingTop:"0",paddingBottom:"0",paddingLeft:this.startAdornmentWidth?`${this.startAdornmentWidth}px`:void 0,paddingRight:this.endAdornmentWidth?`${this.endAdornmentWidth}px`:void 0}}))}get el(){return sr(this)}static get watchers(){return{autoFocus:["handleAutoFocusChange"],value:["handlePropsChange"],maxRows:["handlePropsChange"],minRows:["handlePropsChange"]}}static get style(){return E8}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-textarea",$members$:{value:[1],maxRows:[8,"max-rows"],minRows:[8,"min-rows"],placeholder:[1],autoFocus:[4,"auto-focus"],height:[32],startAdornmentWidth:[32],endAdornmentWidth:[32]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(ql,"OramaTextarea"),ql);var b8=Object.defineProperty,y8=Object.getOwnPropertyDescriptor,kh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?y8(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&b8(e,a,l),l},"l$1");let ra=(Kl=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ra.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(Kl,"a$1"),Kl);ra.weightsMap=new Map([["thin",Q`<path d="M196.2,132.81l-53.36-19.65L123.19,59.8a11.93,11.93,0,0,0-22.38,0L81.16,113.16,27.8,132.81a11.93,11.93,0,0,0,0,22.38l53.36,19.65,19.65,53.36a11.93,11.93,0,0,0,22.38,0l19.65-53.36,53.36-19.65a11.93,11.93,0,0,0,0-22.38Zm-2.77,14.87L138.35,168a4,4,0,0,0-2.37,2.37l-20.3,55.08a3.92,3.92,0,0,1-7.36,0L88,170.35A4,4,0,0,0,85.65,168l-55.08-20.3a3.92,3.92,0,0,1,0-7.36L85.65,120A4,4,0,0,0,88,117.65l20.3-55.08a3.92,3.92,0,0,1,7.36,0L136,117.65a4,4,0,0,0,2.37,2.37l55.08,20.3a3.92,3.92,0,0,1,0,7.36ZM148,40a4,4,0,0,1,4-4h20V16a4,4,0,0,1,8,0V36h20a4,4,0,0,1,0,8H180V64a4,4,0,0,1-8,0V44H152A4,4,0,0,1,148,40Zm96,48a4,4,0,0,1-4,4H228v12a4,4,0,0,1-8,0V92H208a4,4,0,0,1,0-8h12V72a4,4,0,0,1,8,0V84h12A4,4,0,0,1,244,88Z"/>`],["light",Q`<path d="M196.89,130.94,144.4,111.6,125.06,59.11a13.92,13.92,0,0,0-26.12,0L79.6,111.6,27.11,130.94a13.92,13.92,0,0,0,0,26.12L79.6,176.4l19.34,52.49a13.92,13.92,0,0,0,26.12,0L144.4,176.4l52.49-19.34a13.92,13.92,0,0,0,0-26.12Zm-4.15,14.86-55.08,20.3a6,6,0,0,0-3.56,3.56l-20.3,55.08a1.92,1.92,0,0,1-3.6,0L89.9,169.66a6,6,0,0,0-3.56-3.56L31.26,145.8a1.92,1.92,0,0,1,0-3.6l55.08-20.3a6,6,0,0,0,3.56-3.56l20.3-55.08a1.92,1.92,0,0,1,3.6,0l20.3,55.08a6,6,0,0,0,3.56,3.56l55.08,20.3a1.92,1.92,0,0,1,0,3.6ZM146,40a6,6,0,0,1,6-6h18V16a6,6,0,0,1,12,0V34h18a6,6,0,0,1,0,12H182V64a6,6,0,0,1-12,0V46H152A6,6,0,0,1,146,40ZM246,88a6,6,0,0,1-6,6H230v10a6,6,0,0,1-12,0V94H208a6,6,0,0,1,0-12h10V72a6,6,0,0,1,12,0V82h10A6,6,0,0,1,246,88Z"/>`],["regular",Q`<path d="M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"/>`],["bold",Q`<path d="M199,125.31l-49.88-18.39L130.69,57a19.92,19.92,0,0,0-37.38,0L74.92,106.92,25,125.31a19.92,19.92,0,0,0,0,37.38l49.88,18.39L93.31,231a19.92,19.92,0,0,0,37.38,0l18.39-49.88L199,162.69a19.92,19.92,0,0,0,0-37.38Zm-63.38,35.16a12,12,0,0,0-7.11,7.11L112,212.28l-16.47-44.7a12,12,0,0,0-7.11-7.11L43.72,144l44.7-16.47a12,12,0,0,0,7.11-7.11L112,75.72l16.47,44.7a12,12,0,0,0,7.11,7.11L180.28,144ZM140,40a12,12,0,0,1,12-12h12V16a12,12,0,0,1,24,0V28h12a12,12,0,0,1,0,24H188V64a12,12,0,0,1-24,0V52H152A12,12,0,0,1,140,40ZM252,88a12,12,0,0,1-12,12h-4v4a12,12,0,0,1-24,0v-4h-4a12,12,0,0,1,0-24h4V72a12,12,0,0,1,24,0v4h4A12,12,0,0,1,252,88Z"/>`],["fill",Q`<path d="M208,144a15.78,15.78,0,0,1-10.42,14.94L146,178l-19,51.62a15.92,15.92,0,0,1-29.88,0L78,178l-51.62-19a15.92,15.92,0,0,1,0-29.88L78,110l19-51.62a15.92,15.92,0,0,1,29.88,0L146,110l51.62,19A15.78,15.78,0,0,1,208,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"/>`],["duotone",Q`<path d="M194.82,151.43l-55.09,20.3-20.3,55.09a7.92,7.92,0,0,1-14.86,0l-20.3-55.09-55.09-20.3a7.92,7.92,0,0,1,0-14.86l55.09-20.3,20.3-55.09a7.92,7.92,0,0,1,14.86,0l20.3,55.09,55.09,20.3A7.92,7.92,0,0,1,194.82,151.43Z" opacity="0.2"/><path d="M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"/>`]]),ra.styles=ar`
    :host {
      display: contents;
    }
  `,kh([Ae({type:String,reflect:!0})],ra.prototype,"size",2),kh([Ae({type:String,reflect:!0})],ra.prototype,"weight",2),kh([Ae({type:String,reflect:!0})],ra.prototype,"color",2),kh([Ae({type:Boolean,reflect:!0})],ra.prototype,"mirrored",2),ra=kh([or("ph-sparkle")],ra);var _8='.sc-orama-toggler-h{align-items:center;background:#efefef;background:var(--background-color-fourth,#efefef);border-radius:2.5rem;border-radius:var(--radius-3xl,calc(40rem/var(--orama-base-font-size, 16)));display:inline-flex;overflow:hidden;padding:.125rem;padding:var(--spacing-2xs,calc(2rem/var(--orama-base-font-size, 16)))}.sc-orama-toggler-h button.sc-orama-toggler{align-items:center;background-color:transparent;border:none;color:#151515;color:var(--text-color-primary,#151515);cursor:pointer;display:flex;gap:.25rem;gap:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative}.sc-orama-toggler-h button.selected.sc-orama-toggler{color:#fff;color:var(--text-color-reverse,#fff);transition:color .3s ease-in-out;z-index:1}.sc-orama-toggler-h button.selected.sc-orama-toggler:after{background-color:#000;background-color:var(--background-color-reverse,#000);border-radius:2.5rem;border-radius:var(--radius-3xl,calc(40rem/var(--orama-base-font-size, 16)));content:"";inset:0;padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:absolute;z-index:-1}.sc-orama-toggler-h button.selected.animate.sc-orama-toggler:after{animation:slideToLeft .3s ease-in-out}.sc-orama-toggler-h button.selected.animate.sc-orama-toggler:first-child:after{animation:slideToRight .3s ease-in-out}@keyframes slideToRight{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes slideToLeft{0%{transform:translateX(-100%)}to{transform:translateX(0)}}',A8=function(s,e,a,n){var l=arguments.length,c=l<3?e:n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(s,e,a,n);else for(var p=s.length-1;p>=0;p--)(h=s[p])&&(c=(l<3?h(c):l>3?h(e,a,c):h(e,a))||c);return l>3&&c&&Object.defineProperty(e,a,c),c};let C_=(Ql=class{constructor(e){Lt(this,e),this.performInitialAnimation=!1,this.firstRender=!0}componentWillLoad(){this.performInitialAnimation&&(this.firstRender=!1)}componentDidLoad(){this.firstRender&&(this.firstRender=!1)}render(){return x(qt,{key:"b5f2e4d25150746ea7d8c8f49ce65810709c62f7"},x("button",{key:"d4216bdf455ca829574dcfd2caab5f0e081da74a",type:"button",class:{selected:this.globalStore.state.currentTask==="search",animate:!this.firstRender||this.performInitialAnimation},onClick:o(()=>this.globalStore.state.currentTask="search","onClick")},x("span",{key:"d8a05a2f1c92c27c3189e4e3682f5d162973af60"},"Search"),x("ph-magnifying-glass",{key:"c2cca7b67b39d6db8edf9a05f18e12c41510c790",size:16})),x("button",{key:"793b326cd3b463bbcc9604cb04b0671418540d04",type:"button",class:{selected:this.globalStore.state.currentTask==="chat",animate:!this.firstRender||this.performInitialAnimation},onClick:o(()=>this.globalStore.state.currentTask="chat","onClick")},x("ph-sparkle",{key:"8d6aaffc7c5984026397228d71fbc4fe7f03a9ea",size:16}),x("span",{key:"3879f5cc81113d6c74b6c9e6f71ed1b6e0ba9500"},"Ask AI")))}static get style(){return _8}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-toggler",$members$:{performInitialAnimation:[4,"perform-initial-animation"]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(Ql,"OramaToggler"),Ql);A8([js("global")],C_.prototype,"globalStore",void 0);var v8=function(s,e){var a={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(a[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(s);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(s,n[l])&&(a[n[l]]=s[n[l]]);return a};let S8=10,C8=(Xl=class{constructor(e,a,n){this.search=async(l,c,h)=>{var p,m,f,g;if(!this.client)throw new Vc;if(this.abortSearch(),!l){this.searchStore.state.results=[],this.searchStore.state.count=0,this.searchStore.state.facets=[],this.searchStore.state.highlightedIndex=-1;return}this.searchStore.state.loading=!0;let _=this.abortController,w=(p=this.searchStore.state.searchParams)!==null&&p!==void 0?p:{},{limit:D,offset:B,where:G}=w,ee=v8(w,["limit","offset","where"]),ae=Object.assign(Object.assign(Object.assign(Object.assign({},ee),{term:l,limit:D||S8}),G?{where:G}:{}),this.searchStore.state.facetProperty&&Object.assign({facets:{[this.searchStore.state.facetProperty]:{}}},c&&c!=="All"&&{where:Object.assign({[this.searchStore.state.facetProperty]:{eq:c}},G)}));try{let ne=await this.client.search(ae);if(_.signal.aborted)return;if(ne&&!ne.hits)throw new Error("This search was made by a OramaClient with property mergeResult set to false. Orama Search Service requires mergeResult to be true.");this.searchStore.state.results=this.parserResults(ne?.hits,this.searchStore.state.resultMap),this.searchStore.state.count=ne?.count||0,this.searchStore.state.facets=this.parseFacets(ne?.facets,this.searchStore.state.facetProperty),this.searchStore.state.highlightedIndex=-1,this.searchStore.state.loading=!1,(m=h?.onSearchCompletedCallback)===null||m===void 0||m.call(h,{clientSearchParams:ae,result:{results:this.searchStore.state.results,resultsCount:this.searchStore.state.count,facets:this.searchStore.state.facets}}),(f=h?.onSearchCompletedCallback)===null||f===void 0||f.call(h,{clientSearchParams:ae,result:{results:this.searchStore.state.results,resultsCount:this.searchStore.state.count,facets:this.searchStore.state.facets}})}catch(ne){if(je.error("Search error:",ne),_.signal.aborted)return;this.searchStore.state.loading=!1,(g=h?.onSearchErrorCallback)===null||g===void 0||g.call(h,ne)}},this.retry=()=>{throw new Error("Not implemented")},this.parserResults=(l,c)=>{if(!l)return[];let h=[],p={};for(let m of l){let f=this.hitToSearchResultParser(m,c),g=typeof c.section=="function"?c.section(m.document):m.document[c.section];if(p[g]===void 0)h.push({section:g,items:[f]}),p[g]=h.length-1;else{let _=p[g];h[_].items.push(f)}}return h},this.hitToSearchResultParser=(l,c)=>{function h(m){let f=c[m];if(!f)return l.document[m];if(typeof f=="function")return f(l.document);let g=c[m];return l.document[g]}o(h,"getResultMapValue");function p(){let m=c.icon;return m?typeof m=="function"?m(l.document)??null:c.icon:null}return o(p,"getIcon"),{id:l.id,title:h("title"),description:h("description"),path:h("path"),icon:p()}},this.parseFacets=(l,c)=>{if(!c||!l)return[];let h=l[c];if(!h||!h.values)return[];let p=Object.values(h.values).reduce((f,g)=>f+g,0),m=Object.keys(h.values).map(f=>({name:f,count:h.values[f]}));return m.unshift({name:"All",count:p}),m},this.client=a||new Kb(e),this.searchStore=n,this.abortController=new AbortController}abortSearch(){this.abortController.abort(),this.abortController=new AbortController}},o(Xl,"SearchService"),Xl),k8=(Jl=class extends EventTarget{constructor(){super(),this._width=Rt.innerWidth,this.handleResize=this.handleResize.bind(this),Rt.addEventListener("resize",this.handleResize)}handleResize(){this._width=Rt.innerWidth,this.dispatchEvent(new pt("widthChange",{detail:this._width}))}get width(){return this._width}},o(Jl,"WindowService"),Jl),Sf=new k8;var w8="@keyframes showIn{0%{opacity:0;transform:translateY(-25%)}to{opacity:1;transform:translateY(0)}}@media (min-width:1024.02px){.modal orama-input{border-radius:0;margin:0;padding:0}.modal input[type=search]{border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0}}.main{flex-direction:column;flex-grow:1}.main,.section-active{display:flex;overflow:hidden}.section-inactive{display:none}";let I8=(ec=class{constructor(e){Lt(this,e),this.searchCompleted=Ot(this,"searchCompleted",7),this.searchResultClick=Ot(this,"searchResultClick",7),this.clearChat=Ot(this,"clearChat",7),this.startConversation=Ot(this,"startConversation",7),this.answerGenerated=Ot(this,"answerGenerated",7),this.answerSourceClick=Ot(this,"answerSourceClick",7),this.chatMarkdownLinkClicked=Ot(this,"chatMarkdownLinkClicked",7),this.modalClosed=Ot(this,"modalClosed",7),this.modalStatusChanged=Ot(this,"modalStatusChanged",7),this.colorScheme="light",this.open=!1,this.resultMap={},this.disableChat=!1,this.layout="modal",this.highlightTitle=!1,this.highlightDescription=!1,this.showKeyboardShortcuts=!1,this.componentID=Ku("search-box"),this.systemScheme="light",this.closeSearchbox=()=>{this.globalStore.state.open=!1,this.open=!1},this.onChatButtonClick=()=>{this.globalStore.state.currentTask="chat"},this.onPrefersColorSchemeChange=a=>{this.systemScheme=a.matches?"dark":"light",this.updateTheme()},this.updateWindowWidth=a=>{this.windowWidth=a.detail}}indexChanged(){this.searchStore&&this.startServices()}watchHandler(){this.updateTheme()}handleOpenPropChange(e){this.globalStore.state.open=e,this.modalStatusChanged.emit({open:e,id:this.wrapperRef}),e||this.modalClosed.emit()}handleFacetPropertyChange(e){this.searchStore.state.facetProperty=e}handleSearchParamsChange(e){this.searchStore.state.searchParams=e}handleKeyDown(e){var a;((a=this.globalStore)===null||a===void 0?void 0:a.state.currentTask)==="search"&&(this.layout==="modal"&&this.open||this.layout==="embed")&&["ArrowDown","ArrowUp"].includes(e.key)&&hy(this.wrapperRef,e)}updateTheme(){let e=Qu(this.htmlElement,this.colorScheme,this.systemScheme);Xu(this.htmlElement,e,this.themeConfig)}getOldOramaClient(){if(!this.oramaCoreClientInstance)return this.clientInstance?this.clientInstance:sf(this.index)}startServices(){if(!this.index&&!this.clientInstance&&!this.oramaCoreClientInstance)return;rf(this.htmlElement,this.index,this.clientInstance,this.oramaCoreClientInstance);let e=this.getOldOramaClient();this.searchStore.state.searchService=new C8(e,this.oramaCoreClientInstance,this.searchStore),this.chatStore.state.chatService=new Qb(e,this.oramaCoreClientInstance,this.chatStore)}componentWillLoad(){this.searchStore.state.facetProperty=this.facetProperty,this.searchStore.state.resultMap=this.resultMap,this.searchStore.state.searchParams=this.searchParams,this.htmlElement.id=this.componentID,this.startServices(),this.globalStore.state.open=this.open,this.globalStore.onChange("open",()=>{this.globalStore&&(this.open=this.globalStore.state.open,this.globalStore.state.open||(this.globalStore.state.currentTerm="",this.searchStore.state.facets=[],this.searchStore.state.count=0,this.searchStore.state.results=[],this.searchStore.state.highlightedIndex=-1,this.searchStore.state.loading=!1,this.searchStore.state.error=!1,this.chatStore.state.interactions=[],Fe(()=>{})))}),this.schemaQuery=Rt.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange),Sf.addEventListener("widthChange",this.updateWindowWidth)}connectedCallback(){this.chatStore=ad("chat",this.componentID),this.searchStore=ad("search",this.componentID),this.globalStore=ad("global",this.componentID),this.windowWidth=Sf.width}disconnectedCallback(){var e;$y(this.componentID),Sf.removeEventListener("widthChange",this.updateWindowWidth),(e=this.schemaQuery)===null||e===void 0||e.removeEventListener("change",this.onPrefersColorSchemeChange)}getSearchBox(){return x("div",{class:`${this.windowWidth>1024||this.globalStore.state.currentTask==="search"?"section-active":"section-inactive"}`},x("orama-search",{placeholder:(this===null||this===void 0?void 0:this.searchPlaceholder)||"Search...",focusInput:this.globalStore.state.currentTask==="search",sourceBaseUrl:this.sourceBaseUrl,linksTarget:this.linksTarget,linksRel:this.linksRel,highlightTitle:this.highlightTitle,highlightDescription:this.highlightDescription,disableChat:this.disableChat,suggestions:this.suggestions},this.windowWidth>1024&&!this.disableChat&&x("orama-chat-button",{slot:"summary","focus-on-arrow-nav":!0,active:!!this.globalStore.state.currentTerm,label:`${this.globalStore.state.currentTerm?`${this.globalStore.state.currentTerm} - `:""}Get a summary`,onClick:this.onChatButtonClick,onKeyPress:this.onChatButtonClick})))}getChatBox(){return x(ba,null,x("orama-chat",{class:`${this.globalStore.state.currentTask==="chat"?"section-active":"section-inactive"}`,defaultTerm:this.globalStore.state.currentTask==="chat"?this.globalStore.state.currentTerm:"",showClearChat:!1,focusInput:this.globalStore.state.currentTask==="chat",placeholder:(this===null||this===void 0?void 0:this.chatPlaceholder)||this.placeholder,sourceBaseUrl:this.sourceBaseUrl,linksTarget:this.linksTarget,linksRel:this.linksRel,sourcesMap:this.sourcesMap,suggestions:this.suggestions,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}))}getInnerContent(){return x(ba,null,this.disableChat?null:x("orama-navigation-bar",{handleClose:this.closeSearchbox,showBackButton:this.layout!=="embed",showChatActions:this.globalStore.state.currentTask==="chat"}),x("div",{class:"main"},this.getSearchBox(),this.windowWidth<=1024&&this.getChatBox()),x("orama-footer",{colorScheme:this.colorScheme==="system"?this.systemScheme:this.colorScheme,showKeyboardShortcuts:this.showKeyboardShortcuts}))}getOuterContent(){return this.windowWidth>1024?x("orama-sliding-panel",{open:this.globalStore.state.currentTask==="chat",backdrop:this.layout==="embed",closed:o(()=>{this.globalStore.state.currentTask="search"},"closed")},this.getChatBox()):null}getModalLayout(){return x(ba,null,x("orama-modal",{ref:o(e=>this.wrapperRef=e,"ref"),class:"modal",mainTitle:"Start your search",onModalClosed:o(e=>{this.open=!1,e.stopPropagation()},"onModalClosed"),closeOnEscape:this.globalStore.state.currentTask==="search"||this.windowWidth<=1024},this.getInnerContent()),this.getOuterContent())}getEmbedLayout(){return x(ba,null,x("orama-embed",{ref:o(e=>this.wrapperRef=e,"ref")},this.getInnerContent()),this.getOuterContent())}render(){return this.layout==="modal"&&!this.globalStore.state.open?null:this.searchStore.state.searchService?this.chatStore.state.chatService?this.layout==="modal"?this.getModalLayout():this.getEmbedLayout():x("orama-text",{as:"p"},"Unable to initialize chat service"):x("orama-text",{as:"p"},"Unable to initialize search service")}get htmlElement(){return sr(this)}static get watchers(){return{index:["indexChanged"],clientInstance:["indexChanged"],oramaCoreClientInstance:["indexChanged"],themeConfig:["watchHandler"],colorScheme:["watchHandler"],open:["handleOpenPropChange"],facetProperty:["handleFacetPropertyChange"],searchParams:["handleSearchParamsChange"]}}static get style(){return w8}static get cmpMeta(){return{$flags$:9,$tagName$:"orama-search-box",$members$:{themeConfig:[16],colorScheme:[1,"color-scheme"],index:[16],clientInstance:[16],oramaCoreClientInstance:[16],open:[1540],facetProperty:[1,"facet-property"],resultMap:[16],resultItemRender:[16],sourceBaseUrl:[1,"source-base-url"],linksTarget:[1,"links-target"],linksRel:[1,"links-rel"],sourcesMap:[16],disableChat:[4,"disable-chat"],layout:[1],highlightTitle:[4,"highlight-title"],highlightDescription:[4,"highlight-description"],placeholder:[1],chatPlaceholder:[1,"chat-placeholder"],searchPlaceholder:[1,"search-placeholder"],suggestions:[16],searchParams:[16],chatMarkdownLinkTitle:[16],chatMarkdownLinkHref:[16],chatMarkdownLinkTarget:[16],showKeyboardShortcuts:[4,"show-keyboard-shortcuts"],componentID:[32],systemScheme:[32],windowWidth:[32]},$listeners$:[[4,"keydown","handleKeyDown"]],$lazyBundleId$:"-",$attrsToReflect$:[["open","open"]]}}},o(ec,"SearchBox"),ec);var pd={WHOLE_WORD_MATCH:"wholeWordMatch",PARTIAL_MATCH:"partialMatch",PARTIAL_MATCH_FULL_WORD:"partialMatchFullWord"},po={caseSensitive:!1,strategy:pd.PARTIAL_MATCH,HTMLTag:"mark",CSSClass:"orama-highlight"},k_=(tc=class{options;_positions=[];_HTML="";_searchTerm="";_originalText="";constructor(e=po){this.options={...po,...e}}highlight(e,a){if(this._searchTerm=a??"",this._originalText=e??"",!this._searchTerm||!this._originalText)return this._positions=[],this._HTML=this._originalText,this;let n=this.options.HTMLTag??po.HTMLTag,l=this.options.CSSClass??po.CSSClass,c=this.options.caseSensitive??po.caseSensitive,h=this.options.strategy??po.strategy,p=c?"g":"gi",m=this.escapeRegExp(c?this._searchTerm:this._searchTerm.toLowerCase()).trim().split(/\s+/).join("|"),f;if(h===pd.WHOLE_WORD_MATCH)f=new RegExp(`\\b${m}\\b`,p);else if(h===pd.PARTIAL_MATCH)f=new RegExp(m,p);else if(h===pd.PARTIAL_MATCH_FULL_WORD)f=new RegExp(`\\b[^\\s]*(${m})[^\\s]*\\b`,p);else throw new Error("Invalid highlighter strategy");let g=[],_=[],w,D=0,B=-1;for(;(w=f.exec(this._originalText))!==null&&f.lastIndex!==B;){B=f.lastIndex;let G=w.index,ee=G+w[0].length-1;g.push({start:G,end:ee}),_.push(this._originalText.slice(D,G)),_.push(`<${n} class="${l}">${w[0]}</${n}>`),D=ee+1}return _.push(this._originalText.slice(D)),this._positions=g,this._HTML=_.join(""),this}trim(e,a=!0){if(this._positions.length===0)return`${this._HTML.substring(0,e)}${a?"...":""}`;if(this._originalText.length<=e)return this._HTML;let n=this._positions[0].start,l=Math.max(n-Math.floor(e/2),0),c=Math.min(l+e,this._originalText.length),h=`${l===0||!a?"":"..."}${this._originalText.slice(l,c)}${c<this._originalText.length&&a?"...":""}`;return this.highlight(h,this._searchTerm),this._HTML}get positions(){return this._positions}get HTML(){return this._HTML}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},o(tc,"M"),tc),N8=Object.defineProperty,L8=Object.getOwnPropertyDescriptor,wh=o((s,e,a,n)=>{for(var l=n>1?void 0:n?L8(e,a):e,c=s.length-1,h;c>=0;c--)(h=s[c])&&(l=(n?h(e,a,l):h(l))||l);return n&&l&&N8(e,a,l),l},"h");let sa=(rc=class extends Ft{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return nr`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sa.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}},o(rc,"a"),rc);sa.weightsMap=new Map([["thin",Q`<path d="M210.83,69.17l-40-40A4,4,0,0,0,168,28H88A12,12,0,0,0,76,40V60H56A12,12,0,0,0,44,72V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V196h20a12,12,0,0,0,12-12V72A4,4,0,0,0,210.83,69.17ZM172,216a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h78.34L172,105.66Zm32-32a4,4,0,0,1-4,4H180V104a4,4,0,0,0-1.17-2.83l-40-40A4,4,0,0,0,136,60H84V40a4,4,0,0,1,4-4h78.34L204,73.66Zm-64-32a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h48A4,4,0,0,1,140,152Zm0,32a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h48A4,4,0,0,1,140,184Z"/>`],["light",Q`<path d="M212.24,67.76l-40-40A6,6,0,0,0,168,26H88A14,14,0,0,0,74,40V58H56A14,14,0,0,0,42,72V216a14,14,0,0,0,14,14H168a14,14,0,0,0,14-14V198h18a14,14,0,0,0,14-14V72A6,6,0,0,0,212.24,67.76ZM170,216a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h77.51L170,106.49Zm32-32a2,2,0,0,1-2,2H182V104a6,6,0,0,0-1.76-4.24l-40-40A6,6,0,0,0,136,58H86V40a2,2,0,0,1,2-2h77.51L202,74.49Zm-60-32a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h48A6,6,0,0,1,142,152Zm0,32a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h48A6,6,0,0,1,142,184Z"/>`],["regular",Q`<path d="M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z"/>`],["bold",Q`<path d="M220.49,59.51l-40-40A12,12,0,0,0,172,16H92A20,20,0,0,0,72,36V56H56A20,20,0,0,0,36,76V216a20,20,0,0,0,20,20H164a20,20,0,0,0,20-20V196h20a20,20,0,0,0,20-20V68A12,12,0,0,0,220.49,59.51ZM160,212H60V80h67l33,33Zm40-40H184V108a12,12,0,0,0-3.51-8.49l-40-40A12,12,0,0,0,132,56H96V40h71l33,33Zm-56-28a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h44A12,12,0,0,1,144,144Zm0,40a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h44A12,12,0,0,1,144,184Z"/>`],["fill",Q`<path d="M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM136,192H88a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm0-32H88a8,8,0,0,1,0-16h48a8,8,0,0,1,0,16Zm64,24H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Z"/>`],["duotone",Q`<path d="M208,72V184a8,8,0,0,1-8,8H176V104L136,64H80V40a8,8,0,0,1,8-8h80Z" opacity="0.2"/><path d="M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z"/>`]]),sa.styles=ar`
    :host {
      display: contents;
    }
  `,wh([Ae({type:String,reflect:!0})],sa.prototype,"size",2),wh([Ae({type:String,reflect:!0})],sa.prototype,"weight",2),wh([Ae({type:String,reflect:!0})],sa.prototype,"color",2),wh([Ae({type:Boolean,reflect:!0})],sa.prototype,"mirrored",2),sa=wh([or("ph-files")],sa);var x8=".list.sc-orama-search-results{list-style:none;margin:0;padding:0}.section-list.sc-orama-search-results{gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));margin-top:.5rem;margin-top:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));padding-bottom:1rem;padding-bottom:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.section-item-list.sc-orama-search-results,.section-list.sc-orama-search-results{display:flex;flex-direction:column}.section-wrapper.sc-orama-search-results{border-bottom:1px solid #dadada;border-bottom:1px solid var(--border-color-primary,#dadada);padding-bottom:.75rem;padding-bottom:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)))}.section-wrapper.sc-orama-search-results:last-of-type{border-bottom:none}.section-title-wrapper.sc-orama-search-results{padding:.5rem .75rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));text-transform:capitalize}.section-title-wrapper.sc-orama-search-results *.sc-orama-search-results{color:#838289;color:var(--text-text-color-secondary,#838289)}.list-item.sc-orama-search-results{cursor:pointer}.list-item-button.sc-orama-search-results{align-items:center;background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid transparent;border-radius:.5rem;border-radius:var(--radius-s,calc(8rem/var(--orama-base-font-size, 16)));cursor:pointer;display:flex;font-family:inherit;gap:.75rem;gap:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));padding:.75rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative;text-align:left;text-decoration:none;transition:background-color .2s}@media (hover:hover){.list-item-button.sc-orama-search-results:hover{background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6)}}.list-item-button.sc-orama-search-results:focus-visible{border:1px solid #432d77;border:1px solid var(--border-color-accent,#432d77);outline:none}.collapsed.sc-orama-search-results{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.result-title.sc-orama-search-results{color:#151515;color:var(--text-color-primary,#151515)}.result-description.sc-orama-search-results{color:#99989d;color:var(--text-color-tertiary,#99989d)}.results-empty.sc-orama-search-results{margin:2rem auto 2.5rem;margin:calc(32rem/var(--orama-base-font-size, 16)) auto calc(40rem/var(--orama-base-font-size, 16));max-width:25rem;max-width:calc(400rem/var(--orama-base-font-size, 16));text-align:center;width:80%}.suggestions-wrapper.sc-orama-search-results{padding:1rem 0 .75rem;padding:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0 var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) 0}.suggestions-title.sc-orama-search-results{margin-bottom:.25rem;margin-bottom:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:0 .5rem;padding:0 var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));text-transform:uppercase}.textWrapper.sc-orama-search-results{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}ph-files.sc-orama-search-results{color:#151515;color:var(--icon-color-primary,#151515)}.result-item-icon-wrapper.sc-orama-search-results{align-items:center;display:flex;flex-shrink:0;height:20px;justify-content:center;width:20px}.custom-result-item-icon.sc-orama-search-results{max-height:20px;max-width:20px;-o-object-fit:contain;object-fit:contain}";let R8=(sc=class{constructor(e){Lt(this,e),this.searchResultClick=Ot(this,"searchResultClick",7),this.linksTarget="_blank",this.linksRel="noopener noreferrer",this.sections=[],this.suggestions=[],this.loading=!1,this.error=!1,this.highlightTitle=!1,this.highlightDescription=!1,this.handleItemClick=(a,n)=>{if(this.searchResultClick.emit({result:n}).defaultPrevented){a.preventDefault();return}if(!n?.path)throw new Error("No path found")},this.getItemLinkUrl=a=>a?.path?this.sourceBaseUrl?`${this.sourceBaseUrl}${a.path}`:a.path:"#",this.getHighlightedTitleText=a=>this.highlighterTitle.highlight(a,this.searchTerm),this.getHighlightedDescriptionText=a=>this.highlighterDescription.highlight(a,this.searchTerm)}buildUrl(e){if(!e)return"#";if(this.sourceBaseUrl){let a=this.sourceBaseUrl.replace(/\/+$/,""),n=e.replace(/^\/+/,"");return`${a}/${n}`}return e}componentDidLoad(){this.highlightTitle&&(this.highlighterTitle=new k_(this.highlightTitle)),this.highlightDescription&&(this.highlighterDescription=new k_(this.highlightDescription))}render(){var e,a;return this.searchTerm?this.error?x("div",null,"An error occurred while trying to search. Please try again."):!this.loading&&!(!((a=this.sections)===null||a===void 0)&&a.some(n=>n.items.length>0))?x("div",{class:"results-empty"},x("orama-text",{as:"h3",styledAs:"span"},`No results found ${this.searchTerm?`for "${this.searchTerm}"`:""}`)):x(qt,null,x("ul",{class:"list section-list"},this.sections.map(n=>x("div",{key:n.section,class:"section-wrapper"},n.section&&x("div",{class:"section-title-wrapper"},x("orama-text",{as:"h2",styledAs:"span"},n.section)),x("ul",{class:"list section-item-list"},n.items.map(l=>x("li",{class:"list-item",key:l.id},x("a",{"focus-on-arrow-nav":!0,href:this.buildUrl(l.path),class:"list-item-button",target:this.linksTarget,rel:this.linksRel,id:`search-result-${l.id}`,onClick:o(c=>this.handleItemClick(c,l),"onClick")},x("div",{class:"result-item-icon-wrapper"},l.icon?x("img",{alt:"",class:"custom-result-item-icon",src:l.icon}):x("ph-files",{size:"20px"})),x("div",{class:"textWrapper"},x("orama-text",{as:"h3",styledAs:"p",class:"result-title collapsed"},this.highlightTitle?l.title.length>200?x("span",{innerHTML:this.getHighlightedTitleText(l.title).trim(200)}):x("span",{innerHTML:this.getHighlightedTitleText(l.title).HTML}):x("span",{innerHTML:l.title})),x("orama-text",{as:"p",styledAs:"span",class:"result-description collapsed",variant:"tertiary"},this.highlightDescription?x("span",{innerHTML:this.getHighlightedDescriptionText(l.description).HTML}):x("span",{innerHTML:l.description}))))))))))):x("div",{class:"suggestions-wrapper"},!!(!((e=this.suggestions)===null||e===void 0)&&e.length)&&x("orama-text",{as:"h2",styledAs:"small",class:"suggestions-title",variant:"secondary"},"Suggestions"),x("orama-suggestions",{as:"list",suggestions:this.suggestions,icon:x(Gy,{name:"starFour",size:16,color:"var(--text-color-accent, text-color('accent')"}),suggestionClicked:o(n=>{this.setChatTerm(n)},"suggestionClicked")}))}get el(){return sr(this)}static get style(){return x8}static get cmpMeta(){return{$flags$:2,$tagName$:"orama-search-results",$members$:{sourceBaseUrl:[1,"source-base-url"],linksTarget:[1,"links-target"],linksRel:[1,"links-rel"],sections:[16],suggestions:[16],searchTerm:[1,"search-term"],setChatTerm:[16],loading:[4],error:[4],highlightTitle:[4,"highlight-title"],highlightDescription:[4,"highlight-description"]},$listeners$:void 0,$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(sc,"SearchResults"),sc);var O8=".slide-backdrop.visible.sc-orama-sliding-panel{animation:backdropFadeIn .5s ease-in 1;background-color:hsla(0,0%,98%,.7);background-color:var(--backdrop-background-color-primary,hsla(0,0%,98%,.7));display:none;display:block;height:100vh;left:0;opacity:0;position:fixed;top:0;width:100vw;z-index:10009}@media (min-width:1024.02px){.slide-backdrop.visible.sc-orama-sliding-panel{display:block;opacity:1}}@keyframes backdropFadeIn{0%{opacity:0}50%{opacity:.2}to{opacity:1}}.slide-container.sc-orama-sliding-panel{background-color:#fbfbfb;background-color:var(--background-color-primary,#fbfbfb);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0;bottom:0;box-sizing:border-box;color:#151515;color:var(--text-color-primary,#151515);height:95vh;left:0;position:fixed;transform:translate3d(0,calc(100% + 5vh),0);transition:.4s cubic-bezier(.4,0,.2,1);width:100%;z-index:10019}.slide-container.slide-up.sc-orama-sliding-panel{transform:translateZ(0)}@media (max-width:1024px){.slide-container.sc-orama-sliding-panel{display:none}}.slide-container-inner.sc-orama-sliding-panel{height:95vh;margin:0 auto;max-width:52.5rem;max-width:calc(840rem/var(--orama-base-font-size, 16));width:80%}.slide-container-inner.sc-orama-sliding-panel orama-chat.sc-orama-sliding-panel{height:100%}.slide-container-header.sc-orama-sliding-panel{box-sizing:border-box;display:flex;height:5vh;justify-content:flex-end;padding:0 2.5rem;padding:0 var(--spacing-3xl,calc(40rem/var(--orama-base-font-size, 16)));position:absolute;top:-5vh;width:100%}.close-button.sc-orama-sliding-panel{animation:showIn .3s cubic-bezier(.4,0,.2,1) .1s forwards;background-color:transparent;border:0;color:#151515;color:var(--text-color-primary,#151515);cursor:pointer}";Kv([vk,Ck,xk,Ok,Fy,zy,rw,jy,iw,lw,hw,mw,gw,qw,Qw,S_,dd,l8,d8,m8,g8,T8,C_,I8,R8,(ac=class{constructor(e){Lt(this,e),this.backdrop=!1,this.open=!1,this.isOpen=this.open}openChanged(){this.isOpen=this.open}closePanel(){this.closed&&this.closed(),this.isOpen=!1}trapFocus(e){var a;let n=(a=this.el)===null||a===void 0?void 0:a.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),l=Array.from(n);if(l=l.filter(c=>c.tabIndex!==-1),l.length>0){this.firstFocusableElement=l[0],this.lastFocusableElement=l[l.length-1];let c=this.el.querySelector(":focus");e.shiftKey&&c===this.firstFocusableElement?(e.preventDefault(),this.lastFocusableElement.focus()):!e.shiftKey&&c===this.lastFocusableElement&&(e.preventDefault(),this.firstFocusableElement.focus())}}handleKeyDown(e){e.stopPropagation(),e.key==="Escape"&&this.closePanel(),e.key==="Tab"&&this.trapFocus(e)}componentDidLoad(){this.isOpen=this.open}render(){return x(ba,{key:"f88b00bf1fc61de9416fcbfe6401ff14d7865fd2"},x("div",{key:"dba8338860b889ca1bed7bf25de95be366f0a2f4",class:{"slide-container":!0,"slide-up":this.isOpen},tabIndex:this.isOpen?0:-1},x("div",{key:"1f7b7c593782897ca63527c93cf775985f3682d2",class:"slide-container-header"},x("button",{key:"08826ac5dc073eba459dd2fd9adbbe34521c48a5",onClick:o(()=>this.closePanel(),"onClick"),"aria-expanded":this.isOpen?"true":"false","aria-label":"Close panel","aria-controls":"panel",class:"close-button",type:"button"},x("ph-x",{key:"e1f618268881eeb161291e7b25accdc9835e453a",size:"18"}))),x("div",{key:"d032def08d136efb85b7dcc203b855c211024537",id:"panel","aria-hidden":!this.isOpen,tabindex:"-1",class:"slide-container-inner"},x("slot",{key:"63db6812e71a0cc1a7fd0bc630a5200632908562"}))),this.backdrop&&x("div",{key:"a1da61d3366e055e2c3bb40cc60dd2ad14a8e9ac",class:{"slide-backdrop":!0,visible:this.isOpen}}))}get el(){return sr(this)}static get watchers(){return{open:["openChanged"]}}static get style(){return O8}static get cmpMeta(){return{$flags$:6,$tagName$:"orama-sliding-panel",$members$:{backdrop:[4],open:[4],closed:[16],isOpen:[32]},$listeners$:[[4,"keydown","handleKeyDown"]],$lazyBundleId$:"-",$attrsToReflect$:[]}}},o(ac,"SlideInPanel"),ac)]),yE(Rt,t,i,d,E)}o(kt,"hydrateAppClosure"),kt(r)}o(Pf,"hydrateFactory");var W_=Object.defineProperty,Mh=o((r,t)=>{for(var i in t)W_(r,i,{get:t[i],enumerable:!0})},"__export"),Y_="r",q_="o",K_="s",Q_="t",X_="s-id",J_="_stencilDocData",$f="http://www.w3.org/1999/xlink",eA={get(r,t){if(t in r)return r[t];if(typeof t!="symbol"&&!isNaN(t))return r.__items[t]}},Hf=o(r=>new Proxy(new Bf(r),eA),"createAttributeProxy"),Bf=(Kn=class{constructor(t=!1){this.caseInsensitive=t,this.__items=[]}get length(){return this.__items.length}item(t){return this.__items[t]||null}setNamedItem(t){t.namespaceURI=null,this.setNamedItemNS(t)}setNamedItemNS(t){t!=null&&t.value!=null&&(t.value=String(t.value));let i=this.__items.find(d=>d.name===t.name&&d.namespaceURI===t.namespaceURI);i!=null?i.value=t.value:this.__items.push(t)}getNamedItem(t){return this.caseInsensitive&&(t=t.toLowerCase()),this.getNamedItemNS(null,t)}getNamedItemNS(t,i){return t=bd(t),this.__items.find(d=>d.name===i&&bd(d.namespaceURI)===t)||null}removeNamedItem(t){this.removeNamedItemNS(t)}removeNamedItemNS(t){for(let i=0,d=this.__items.length;i<d;i++)if(this.__items[i].name===t.name&&this.__items[i].namespaceURI===t.namespaceURI){this.__items.splice(i,1);break}}[Symbol.iterator](){let t=0;return{next:o(()=>({done:t===this.length,value:this.item(t++)}),"next")}}get[Symbol.toStringTag](){return"MockAttributeMap"}},o(Kn,"MockAttributeMap"),Kn);function bd(r){return r===$f?null:r}o(bd,"getNamespaceURI");function Dh(r,t=!1){let i=new Bf(r.caseInsensitive);if(r!=null){let d=r.length;if(t&&d>1){let E=[];for(let y=0;y<d;y++){let O=r.item(y),Y=new Ba(O.name,O.value,O.namespaceURI);E.push(Y)}E.sort(Uf).forEach(y=>{i.setNamedItemNS(y)})}else for(let E=0;E<d;E++){let y=r.item(E),O=new Ba(y.name,y.value,y.namespaceURI);i.setNamedItemNS(O)}}return i}o(Dh,"cloneAttributes");function Uf(r,t){return r.name<t.name?-1:r.name>t.name?1:0}o(Uf,"sortAttributes");var Ba=(Qn=class{constructor(t,i,d=null){this._name=t,this._value=String(i),this._namespaceURI=d}get name(){return this._name}set name(t){this._name=t}get value(){return this._value}set value(t){this._value=String(t)}get nodeName(){return this._name}set nodeName(t){this._name=t}get nodeValue(){return this._value}set nodeValue(t){this._value=String(t)}get namespaceURI(){return this._namespaceURI}set namespaceURI(t){this._namespaceURI=t}},o(Qn,"MockAttr"),Qn),tA=(Xn=class{constructor(t){this.elm=t}add(...t){let i=Ua(this.elm),d=!1;t.forEach(E=>{E=String(E),yd(E),i.includes(E)===!1&&(i.push(E),d=!0)}),d&&this.elm.setAttributeNS(null,"class",i.join(" "))}remove(...t){let i=Ua(this.elm),d=!1;t.forEach(E=>{E=String(E),yd(E);let y=i.indexOf(E);y>-1&&(i.splice(y,1),d=!0)}),d&&this.elm.setAttributeNS(null,"class",i.filter(E=>E.length>0).join(" "))}contains(t){return t=String(t),Ua(this.elm).includes(t)}toggle(t){t=String(t),this.contains(t)===!0?this.remove(t):this.add(t)}get length(){return Ua(this.elm).length}item(t){return Ua(this.elm)[t]}toString(){return Ua(this.elm).join(" ")}},o(Xn,"MockClassList"),Xn);function yd(r){if(r==="")throw new Error("The token provided must not be empty.");if(/\s/.test(r))throw new Error(`The token provided ('${r}') contains HTML space characters, which are not valid in tokens.`)}o(yd,"validateClass");function Ua(r){let t=r.getAttribute("class");return typeof t=="string"&&t.length>0?t.trim().split(" ").filter(i=>i.length>0):[]}o(Ua,"getItems");var rA=(Jn=class{constructor(){this._styles=new Map}setProperty(t,i){t=fc(t),i==null||i===""?this._styles.delete(t):this._styles.set(t,String(i))}getPropertyValue(t){return t=fc(t),String(this._styles.get(t)||"")}removeProperty(t){t=fc(t),this._styles.delete(t)}get length(){return this._styles.size}get cssText(){let t=[];return this._styles.forEach((i,d)=>{t.push(`${d}: ${i};`)}),t.join(" ").trim()}set cssText(t){if(t==null||t===""){this._styles.clear();return}t.split(";").forEach(i=>{if(i=i.trim(),i.length>0){let d=i.split(":");if(d.length>1){let E=d[0].trim(),y=d.slice(1).join(":").trim();E!==""&&y!==""&&this._styles.set(fc(E),y)}}})}},o(Jn,"MockCSSStyleDeclaration"),Jn);function _d(){return new Proxy(new rA,sA)}o(_d,"createCSSStyleDeclaration");var sA={get(r,t){return t in r?r[t]:(t=Ff(t),r.getPropertyValue(t))},set(r,t,i){return t in r?r[t]=i:r.setProperty(t,i),!0}};function Ff(r){return r.length>1&&r.includes("-")===!0&&(r=r.toLowerCase().split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(""),r=r.slice(0,1).toLowerCase()+r.slice(1)),r}o(Ff,"cssCaseToJsCase");function fc(r){return r.length>1&&r.includes("-")===!1&&/[A-Z]/.test(r)===!0&&(r=r.replace(/([A-Z])/g,t=>" "+t[0]).trim().replace(/ /g,"-").toLowerCase()),r}o(fc,"jsCaseToCssCase");var aA=(ei=class{constructor(t){this.win=t}define(t,i,d){if(t.toLowerCase()!==t)throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': "${t}" is not a valid custom element name`);if(this.__registry==null&&(this.__registry=new Map),this.__registry.set(t,{cstr:i,options:d}),this.__whenDefined!=null){let y=this.__whenDefined.get(t);y!=null&&(y.forEach(O=>{O()}),y.length=0,this.__whenDefined.delete(t))}let E=this.win.document;E?.querySelectorAll(t).forEach(y=>{if(zf.has(y)===!1){Ph.add(E);let O=Ad(this,E,t);for(let Y=0;Y<y.childNodes.length;Y++){let be=y.childNodes[Y];be.remove(),O.appendChild(be)}Ph.delete(E),Nn.has(y)&&Nn.set(y,O)}vd(y)})}get(t){if(this.__registry!=null){let i=this.__registry.get(t.toLowerCase());if(i!=null)return i.cstr}}getName(t){for(let[i,d]of this.__registry.entries())if(d.cstr===t)return i}upgrade(t){}clear(){this.__registry!=null&&this.__registry.clear(),this.__whenDefined!=null&&this.__whenDefined.clear()}whenDefined(t){return t=t.toLowerCase(),this.__registry!=null&&this.__registry.has(t)===!0?Promise.resolve(this.__registry.get(t).cstr):new Promise(i=>{this.__whenDefined==null&&(this.__whenDefined=new Map);let d=this.__whenDefined.get(t);d==null&&(d=[],this.__whenDefined.set(t,d)),d.push(i)})}},o(ei,"MockCustomElementRegistry"),ei);function Ad(r,t,i){let d=r.get(i);if(d!=null){let O=new d(t);return O.nodeName=i.toUpperCase(),zf.add(O),O}let E=new Proxy({},{get(O,Y){let be=Nn.get(E);return be!=null?be[Y]:O[Y]},set(O,Y,be){let He=Nn.get(E);return He!=null?He[Y]=be:O[Y]=be,!0},has(O,Y){let be=Nn.get(E);return Y in be||Y in O}}),y=new St(t,i);return Nn.set(E,y),E}o(Ad,"createCustomElement");var Nn=new WeakMap,zf=new WeakSet;function gc(r,t){t.ownerDocument=r,t.nodeType===1?(r!=null&&t.nodeName.includes("-")&&(r.defaultView!=null&&typeof t.connectedCallback=="function"&&t.isConnected&&vd(t),t.shadowRoot?.childNodes.forEach(d=>{gc(r,d)})),t.childNodes.forEach(i=>{gc(r,i)})):t.childNodes.forEach(i=>{i.ownerDocument=r})}o(gc,"connectNode");function vd(r){if(typeof r.connectedCallback=="function"&&Ph.has(r.ownerDocument)===!1)try{r.connectedCallback()}catch(t){console.error(t)}}o(vd,"fireConnectedCallback");function Sd(r){if(r.nodeType===1){if(r.nodeName.includes("-")===!0&&typeof r.disconnectedCallback=="function"&&Ph.has(r.ownerDocument)===!1)try{r.disconnectedCallback()}catch(t){console.error(t)}r.childNodes.forEach(Sd)}}o(Sd,"disconnectNode");function Fa(r,t,i,d){t=t.toLowerCase();let E=r.constructor.observedAttributes;if(Array.isArray(E)===!0&&E.some(y=>y.toLowerCase()===t)===!0)try{r.attributeChangedCallback(t,i,d)}catch(y){console.error(y)}}o(Fa,"attributeChanged");function Ec(r){return r.nodeName.includes("-")===!0&&typeof r.attributeChangedCallback=="function"}o(Ec,"checkAttributeChanged");var Ph=new Set;function Gf(r){let t={},i=r.attributes,d=i.length;for(let E=0;E<d;E++){let y=i.item(E),O=y.nodeName;O.startsWith("data-")&&(t[Vf(O)]=y.nodeValue)}return new Proxy(t,{get(E,y){return t[y]},set(E,y,O){let Y=jf(y);return r.setAttribute(Y,O),!0}})}o(Gf,"dataset");function jf(r){return"data-"+String(r).replace(/([A-Z0-9])/g,t=>" "+t[0]).trim().replace(/ /g,"-").toLowerCase()}o(jf,"toDataAttribute");function Vf(r){return r=String(r).slice(5),r.split("-").map((t,i)=>i===0?t.charAt(0).toLowerCase()+t.slice(1):t.charAt(0).toUpperCase()+t.slice(1)).join("")}o(Vf,"dashToPascalCase");var Ln=(ti=class{constructor(t,i){if(this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.composed=!1,this.currentTarget=null,this.defaultPrevented=!1,this.srcElement=null,this.target=null,typeof t!="string")throw new Error("Event type required");this.type=t,this.timeStamp=Date.now(),i!=null&&Object.assign(this,i)}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.cancelBubble=!0}stopImmediatePropagation(){this.cancelBubble=!0}composedPath(){let t=[],i=this.target;for(;i;){if(t.push(i),!i.parentElement&&i.nodeName==="#document"){t.push(i.defaultView);break}i.parentElement==null&&i.tagName==="HTML"?i=i.ownerDocument:i=i.parentElement}return t}},o(ti,"MockEvent"),ti),nA=(ri=class extends Ln{constructor(t,i){super(t),this.detail=null,i!=null&&Object.assign(this,i)}},o(ri,"MockCustomEvent"),ri),iA=(si=class extends Ln{constructor(t,i){super(t),this.code="",this.key="",this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.location=0,this.repeat=!1,i!=null&&Object.assign(this,i)}},o(si,"MockKeyboardEvent"),si),oA=(ai=class extends Ln{constructor(t,i){super(t),this.screenX=0,this.screenY=0,this.clientX=0,this.clientY=0,this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.metaKey=!1,this.button=0,this.buttons=0,this.relatedTarget=null,i!=null&&Object.assign(this,i)}},o(ai,"MockMouseEvent"),ai),lA=(ni=class extends Ln{constructor(t,i){super(t),this.detail=null,this.view=null,i!=null&&Object.assign(this,i)}},o(ni,"MockUIEvent"),ni),Cd=(ii=class extends lA{constructor(t,i){super(t),this.relatedTarget=null,i!=null&&Object.assign(this,i)}},o(ii,"MockFocusEvent"),ii),cA=(oi=class{constructor(t,i){this.type=t,this.handler=i}},o(oi,"MockEventListener"),oi);function kd(r,t,i){let d=r;d.__listeners==null&&(d.__listeners=[]),d.__listeners.push(new cA(t,i))}o(kd,"addEventListener");function wd(r,t,i){let d=r;if(d!=null&&Array.isArray(d.__listeners)===!0){let E=d.__listeners.find(y=>y.type===t&&y.handler===i);if(E!=null){let y=d.__listeners.indexOf(E);d.__listeners.splice(y,1)}}}o(wd,"removeEventListener");function $h(r){r!=null&&r.__listeners!=null&&(r.__listeners=null)}o($h,"resetEventListeners");function Tc(r,t){if(r==null||t.cancelBubble===!0)return;let i=r;t.currentTarget=r,Array.isArray(i.__listeners)===!0&&i.__listeners.filter(d=>d.type===t.type).forEach(d=>{try{d.handler.call(i,t)}catch(E){console.error(E)}}),t.bubbles!==!1&&(r.nodeName==="#document"?Tc(r.defaultView,t):r.parentElement==null&&r.tagName==="HTML"?Tc(r.ownerDocument,t):Tc(r.parentElement,t))}o(Tc,"triggerEventListener");function xn(r,t){return t.target=r,Tc(r,t),!0}o(xn,"dispatchEvent");var hA=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Dt="�",v;(function(r){r[r.EOF=-1]="EOF",r[r.NULL=0]="NULL",r[r.TABULATION=9]="TABULATION",r[r.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",r[r.LINE_FEED=10]="LINE_FEED",r[r.FORM_FEED=12]="FORM_FEED",r[r.SPACE=32]="SPACE",r[r.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",r[r.QUOTATION_MARK=34]="QUOTATION_MARK",r[r.NUMBER_SIGN=35]="NUMBER_SIGN",r[r.AMPERSAND=38]="AMPERSAND",r[r.APOSTROPHE=39]="APOSTROPHE",r[r.HYPHEN_MINUS=45]="HYPHEN_MINUS",r[r.SOLIDUS=47]="SOLIDUS",r[r.DIGIT_0=48]="DIGIT_0",r[r.DIGIT_9=57]="DIGIT_9",r[r.SEMICOLON=59]="SEMICOLON",r[r.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",r[r.EQUALS_SIGN=61]="EQUALS_SIGN",r[r.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",r[r.QUESTION_MARK=63]="QUESTION_MARK",r[r.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",r[r.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",r[r.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",r[r.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",r[r.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",r[r.GRAVE_ACCENT=96]="GRAVE_ACCENT",r[r.LATIN_SMALL_A=97]="LATIN_SMALL_A",r[r.LATIN_SMALL_F=102]="LATIN_SMALL_F",r[r.LATIN_SMALL_X=120]="LATIN_SMALL_X",r[r.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",r[r.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(v=v||(v={}));var kr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Id(r){return r>=55296&&r<=57343}o(Id,"isSurrogate");function Zf(r){return r>=56320&&r<=57343}o(Zf,"isSurrogatePair");function Wf(r,t){return(r-55296)*1024+9216+t}o(Wf,"getSurrogatePairCodePoint");function Nd(r){return r!==32&&r!==10&&r!==13&&r!==9&&r!==12&&r>=1&&r<=31||r>=127&&r<=159}o(Nd,"isControlCodePoint");function Ld(r){return r>=64976&&r<=65007||hA.has(r)}o(Ld,"isUndefinedCodePoint");var F;(function(r){r.controlCharacterInInputStream="control-character-in-input-stream",r.noncharacterInInputStream="noncharacter-in-input-stream",r.surrogateInInputStream="surrogate-in-input-stream",r.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",r.endTagWithAttributes="end-tag-with-attributes",r.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",r.unexpectedSolidusInTag="unexpected-solidus-in-tag",r.unexpectedNullCharacter="unexpected-null-character",r.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",r.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",r.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",r.missingEndTagName="missing-end-tag-name",r.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",r.unknownNamedCharacterReference="unknown-named-character-reference",r.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",r.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",r.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",r.eofBeforeTagName="eof-before-tag-name",r.eofInTag="eof-in-tag",r.missingAttributeValue="missing-attribute-value",r.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",r.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",r.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",r.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",r.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",r.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",r.missingDoctypePublicIdentifier="missing-doctype-public-identifier",r.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",r.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",r.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",r.cdataInHtmlContent="cdata-in-html-content",r.incorrectlyOpenedComment="incorrectly-opened-comment",r.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",r.eofInDoctype="eof-in-doctype",r.nestedComment="nested-comment",r.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",r.eofInComment="eof-in-comment",r.incorrectlyClosedComment="incorrectly-closed-comment",r.eofInCdata="eof-in-cdata",r.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",r.nullCharacterReference="null-character-reference",r.surrogateCharacterReference="surrogate-character-reference",r.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",r.controlCharacterReference="control-character-reference",r.noncharacterCharacterReference="noncharacter-character-reference",r.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",r.missingDoctypeName="missing-doctype-name",r.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",r.duplicateAttribute="duplicate-attribute",r.nonConformingDoctype="non-conforming-doctype",r.missingDoctype="missing-doctype",r.misplacedDoctype="misplaced-doctype",r.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",r.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",r.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",r.openElementsLeftAfterEof="open-elements-left-after-eof",r.abandonedHeadElementChild="abandoned-head-element-child",r.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",r.nestedNoscriptInHead="nested-noscript-in-head",r.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(F=F||(F={}));var uA=65536,dA=(li=class{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=uA,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){let{line:i,col:d,offset:E}=this;return{code:t,startLine:i,endLine:i,startCol:d,endCol:d,startOffset:E,endOffset:E}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){let i=this.html.charCodeAt(this.pos+1);if(Zf(i))return this.pos++,this._addGap(),Wf(t,i)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,v.EOF;return this._err(F.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,i){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=i}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,i){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(i)return this.html.startsWith(t,this.pos);for(let d=0;d<t.length;d++)if((this.html.charCodeAt(this.pos+d)|32)!==t.charCodeAt(d))return!1;return!0}peek(t){let i=this.pos+t;if(i>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let d=this.html.charCodeAt(i);return d===v.CARRIAGE_RETURN?v.LINE_FEED:d}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let t=this.html.charCodeAt(this.pos);return t===v.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,v.LINE_FEED):t===v.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Id(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===v.LINE_FEED||t===v.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Nd(t)?this._err(F.controlCharacterInInputStream):Ld(t)&&this._err(F.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}},o(li,"Preprocessor"),li),pA={};Mh(pA,{TokenType:o(()=>ct,"TokenType"),getTokenAttr:o(()=>Hh,"getTokenAttr")});var ct;(function(r){r[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION"})(ct=ct||(ct={}));function Hh(r,t){for(let i=r.attrs.length-1;i>=0;i--)if(r.attrs[i].name===t)return r.attrs[i].value;return null}o(Hh,"getTokenAttr");var la=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(r=>r.charCodeAt(0))),mA=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(r=>r.charCodeAt(0))),xd,fA=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),gA=(xd=String.fromCodePoint)!==null&&xd!==void 0?xd:function(r){let t="";return r>65535&&(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),t+=String.fromCharCode(r),t};function Yf(r){var t;return r>=55296&&r<=57343||r>1114111?65533:(t=fA.get(r))!==null&&t!==void 0?t:r}o(Yf,"replaceCodePoint");var Qt;(function(r){r[r.NUM=35]="NUM",r[r.SEMI=59]="SEMI",r[r.EQUALS=61]="EQUALS",r[r.ZERO=48]="ZERO",r[r.NINE=57]="NINE",r[r.LOWER_A=97]="LOWER_A",r[r.LOWER_F=102]="LOWER_F",r[r.LOWER_X=120]="LOWER_X",r[r.LOWER_Z=122]="LOWER_Z",r[r.UPPER_A=65]="UPPER_A",r[r.UPPER_F=70]="UPPER_F",r[r.UPPER_Z=90]="UPPER_Z"})(Qt||(Qt={}));var EA=32,cs;(function(r){r[r.VALUE_LENGTH=49152]="VALUE_LENGTH",r[r.BRANCH_LENGTH=16256]="BRANCH_LENGTH",r[r.JUMP_TABLE=127]="JUMP_TABLE"})(cs||(cs={}));function Bh(r){return r>=Qt.ZERO&&r<=Qt.NINE}o(Bh,"isNumber");function qf(r){return r>=Qt.UPPER_A&&r<=Qt.UPPER_F||r>=Qt.LOWER_A&&r<=Qt.LOWER_F}o(qf,"isHexadecimalCharacter");function Kf(r){return r>=Qt.UPPER_A&&r<=Qt.UPPER_Z||r>=Qt.LOWER_A&&r<=Qt.LOWER_Z||Bh(r)}o(Kf,"isAsciiAlphaNumeric");function Qf(r){return r===Qt.EQUALS||Kf(r)}o(Qf,"isEntityInAttributeInvalidEnd");var Xt;(function(r){r[r.EntityStart=0]="EntityStart",r[r.NumericStart=1]="NumericStart",r[r.NumericDecimal=2]="NumericDecimal",r[r.NumericHex=3]="NumericHex",r[r.NamedEntity=4]="NamedEntity"})(Xt||(Xt={}));var za;(function(r){r[r.Legacy=0]="Legacy",r[r.Strict=1]="Strict",r[r.Attribute=2]="Attribute"})(za||(za={}));var TA=(ci=class{constructor(t,i,d){this.decodeTree=t,this.emitCodePoint=i,this.errors=d,this.state=Xt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=za.Strict}startEntity(t){this.decodeMode=t,this.state=Xt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,i){switch(this.state){case Xt.EntityStart:return t.charCodeAt(i)===Qt.NUM?(this.state=Xt.NumericStart,this.consumed+=1,this.stateNumericStart(t,i+1)):(this.state=Xt.NamedEntity,this.stateNamedEntity(t,i));case Xt.NumericStart:return this.stateNumericStart(t,i);case Xt.NumericDecimal:return this.stateNumericDecimal(t,i);case Xt.NumericHex:return this.stateNumericHex(t,i);case Xt.NamedEntity:return this.stateNamedEntity(t,i)}}stateNumericStart(t,i){return i>=t.length?-1:(t.charCodeAt(i)|EA)===Qt.LOWER_X?(this.state=Xt.NumericHex,this.consumed+=1,this.stateNumericHex(t,i+1)):(this.state=Xt.NumericDecimal,this.stateNumericDecimal(t,i))}addToNumericResult(t,i,d,E){if(i!==d){let y=d-i;this.result=this.result*Math.pow(E,y)+parseInt(t.substr(i,y),E),this.consumed+=y}}stateNumericHex(t,i){let d=i;for(;i<t.length;){let E=t.charCodeAt(i);if(Bh(E)||qf(E))i+=1;else return this.addToNumericResult(t,d,i,16),this.emitNumericEntity(E,3)}return this.addToNumericResult(t,d,i,16),-1}stateNumericDecimal(t,i){let d=i;for(;i<t.length;){let E=t.charCodeAt(i);if(Bh(E))i+=1;else return this.addToNumericResult(t,d,i,10),this.emitNumericEntity(E,2)}return this.addToNumericResult(t,d,i,10),-1}emitNumericEntity(t,i){var d;if(this.consumed<=i)return(d=this.errors)===null||d===void 0||d.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Qt.SEMI)this.consumed+=1;else if(this.decodeMode===za.Strict)return 0;return this.emitCodePoint(Yf(this.result),this.consumed),this.errors&&(t!==Qt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,i){let{decodeTree:d}=this,E=d[this.treeIndex],y=(E&cs.VALUE_LENGTH)>>14;for(;i<t.length;i++,this.excess++){let O=t.charCodeAt(i);if(this.treeIndex=Od(d,E,this.treeIndex+Math.max(1,y),O),this.treeIndex<0)return this.result===0||this.decodeMode===za.Attribute&&(y===0||Qf(O))?0:this.emitNotTerminatedNamedEntity();if(E=d[this.treeIndex],y=(E&cs.VALUE_LENGTH)>>14,y!==0){if(O===Qt.SEMI)return this.emitNamedEntityData(this.treeIndex,y,this.consumed+this.excess);this.decodeMode!==za.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;let{result:i,decodeTree:d}=this,E=(d[i]&cs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(i,E,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,i,d){let{decodeTree:E}=this;return this.emitCodePoint(i===1?E[t]&~cs.VALUE_LENGTH:E[t+1],d),i===3&&this.emitCodePoint(E[t+2],d),d}end(){var t;switch(this.state){case Xt.NamedEntity:return this.result!==0&&(this.decodeMode!==za.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Xt.NumericDecimal:return this.emitNumericEntity(0,2);case Xt.NumericHex:return this.emitNumericEntity(0,3);case Xt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Xt.EntityStart:return 0}}},o(ci,"EntityDecoder"),ci);function Rd(r){let t="",i=new TA(r,d=>t+=gA(d));return o(function(d,E){let y=0,O=0;for(;(O=d.indexOf("&",O))>=0;){t+=d.slice(y,O),i.startEntity(E);let be=i.write(d,O+1);if(be<0){y=O+i.end();break}y=O+be,O=be===0?y+1:y}let Y=t+d.slice(y);return t="",Y},"decodeWithTrie")}o(Rd,"getDecoder");function Od(r,t,i,d){let E=(t&cs.BRANCH_LENGTH)>>7,y=t&cs.JUMP_TABLE;if(E===0)return y!==0&&d===y?i:-1;if(y){let be=d-y;return be<0||be>=E?-1:r[i+be]-1}let O=i,Y=O+E-1;for(;O<=Y;){let be=O+Y>>>1,He=r[be];if(He<d)O=be+1;else if(He>d)Y=be-1;else return r[be+E]}return-1}o(Od,"determineBranch"),Rd(la),Rd(mA);var bA={};Mh(bA,{ATTRS:o(()=>Cs,"ATTRS"),DOCUMENT_MODE:o(()=>wr,"DOCUMENT_MODE"),NS:o(()=>Z,"NS"),SPECIAL_ELEMENTS:o(()=>Xf,"SPECIAL_ELEMENTS"),TAG_ID:o(()=>u,"TAG_ID"),TAG_NAMES:o(()=>$,"TAG_NAMES"),getTagID:o(()=>Rn,"getTagID"),hasUnescapedText:o(()=>Jf,"hasUnescapedText"),isNumberedHeader:o(()=>Uh,"isNumberedHeader")});var Z;(function(r){r.HTML="http://www.w3.org/1999/xhtml",r.MATHML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLINK="http://www.w3.org/1999/xlink",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/"})(Z=Z||(Z={}));var Cs;(function(r){r.TYPE="type",r.ACTION="action",r.ENCODING="encoding",r.PROMPT="prompt",r.NAME="name",r.COLOR="color",r.FACE="face",r.SIZE="size"})(Cs=Cs||(Cs={}));var wr;(function(r){r.NO_QUIRKS="no-quirks",r.QUIRKS="quirks",r.LIMITED_QUIRKS="limited-quirks"})(wr=wr||(wr={}));var $;(function(r){r.A="a",r.ADDRESS="address",r.ANNOTATION_XML="annotation-xml",r.APPLET="applet",r.AREA="area",r.ARTICLE="article",r.ASIDE="aside",r.B="b",r.BASE="base",r.BASEFONT="basefont",r.BGSOUND="bgsound",r.BIG="big",r.BLOCKQUOTE="blockquote",r.BODY="body",r.BR="br",r.BUTTON="button",r.CAPTION="caption",r.CENTER="center",r.CODE="code",r.COL="col",r.COLGROUP="colgroup",r.DD="dd",r.DESC="desc",r.DETAILS="details",r.DIALOG="dialog",r.DIR="dir",r.DIV="div",r.DL="dl",r.DT="dt",r.EM="em",r.EMBED="embed",r.FIELDSET="fieldset",r.FIGCAPTION="figcaption",r.FIGURE="figure",r.FONT="font",r.FOOTER="footer",r.FOREIGN_OBJECT="foreignObject",r.FORM="form",r.FRAME="frame",r.FRAMESET="frameset",r.H1="h1",r.H2="h2",r.H3="h3",r.H4="h4",r.H5="h5",r.H6="h6",r.HEAD="head",r.HEADER="header",r.HGROUP="hgroup",r.HR="hr",r.HTML="html",r.I="i",r.IMG="img",r.IMAGE="image",r.INPUT="input",r.IFRAME="iframe",r.KEYGEN="keygen",r.LABEL="label",r.LI="li",r.LINK="link",r.LISTING="listing",r.MAIN="main",r.MALIGNMARK="malignmark",r.MARQUEE="marquee",r.MATH="math",r.MENU="menu",r.META="meta",r.MGLYPH="mglyph",r.MI="mi",r.MO="mo",r.MN="mn",r.MS="ms",r.MTEXT="mtext",r.NAV="nav",r.NOBR="nobr",r.NOFRAMES="noframes",r.NOEMBED="noembed",r.NOSCRIPT="noscript",r.OBJECT="object",r.OL="ol",r.OPTGROUP="optgroup",r.OPTION="option",r.P="p",r.PARAM="param",r.PLAINTEXT="plaintext",r.PRE="pre",r.RB="rb",r.RP="rp",r.RT="rt",r.RTC="rtc",r.RUBY="ruby",r.S="s",r.SCRIPT="script",r.SECTION="section",r.SELECT="select",r.SOURCE="source",r.SMALL="small",r.SPAN="span",r.STRIKE="strike",r.STRONG="strong",r.STYLE="style",r.SUB="sub",r.SUMMARY="summary",r.SUP="sup",r.TABLE="table",r.TBODY="tbody",r.TEMPLATE="template",r.TEXTAREA="textarea",r.TFOOT="tfoot",r.TD="td",r.TH="th",r.THEAD="thead",r.TITLE="title",r.TR="tr",r.TRACK="track",r.TT="tt",r.U="u",r.UL="ul",r.SVG="svg",r.VAR="var",r.WBR="wbr",r.XMP="xmp"})($=$||($={}));var u;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.A=1]="A",r[r.ADDRESS=2]="ADDRESS",r[r.ANNOTATION_XML=3]="ANNOTATION_XML",r[r.APPLET=4]="APPLET",r[r.AREA=5]="AREA",r[r.ARTICLE=6]="ARTICLE",r[r.ASIDE=7]="ASIDE",r[r.B=8]="B",r[r.BASE=9]="BASE",r[r.BASEFONT=10]="BASEFONT",r[r.BGSOUND=11]="BGSOUND",r[r.BIG=12]="BIG",r[r.BLOCKQUOTE=13]="BLOCKQUOTE",r[r.BODY=14]="BODY",r[r.BR=15]="BR",r[r.BUTTON=16]="BUTTON",r[r.CAPTION=17]="CAPTION",r[r.CENTER=18]="CENTER",r[r.CODE=19]="CODE",r[r.COL=20]="COL",r[r.COLGROUP=21]="COLGROUP",r[r.DD=22]="DD",r[r.DESC=23]="DESC",r[r.DETAILS=24]="DETAILS",r[r.DIALOG=25]="DIALOG",r[r.DIR=26]="DIR",r[r.DIV=27]="DIV",r[r.DL=28]="DL",r[r.DT=29]="DT",r[r.EM=30]="EM",r[r.EMBED=31]="EMBED",r[r.FIELDSET=32]="FIELDSET",r[r.FIGCAPTION=33]="FIGCAPTION",r[r.FIGURE=34]="FIGURE",r[r.FONT=35]="FONT",r[r.FOOTER=36]="FOOTER",r[r.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",r[r.FORM=38]="FORM",r[r.FRAME=39]="FRAME",r[r.FRAMESET=40]="FRAMESET",r[r.H1=41]="H1",r[r.H2=42]="H2",r[r.H3=43]="H3",r[r.H4=44]="H4",r[r.H5=45]="H5",r[r.H6=46]="H6",r[r.HEAD=47]="HEAD",r[r.HEADER=48]="HEADER",r[r.HGROUP=49]="HGROUP",r[r.HR=50]="HR",r[r.HTML=51]="HTML",r[r.I=52]="I",r[r.IMG=53]="IMG",r[r.IMAGE=54]="IMAGE",r[r.INPUT=55]="INPUT",r[r.IFRAME=56]="IFRAME",r[r.KEYGEN=57]="KEYGEN",r[r.LABEL=58]="LABEL",r[r.LI=59]="LI",r[r.LINK=60]="LINK",r[r.LISTING=61]="LISTING",r[r.MAIN=62]="MAIN",r[r.MALIGNMARK=63]="MALIGNMARK",r[r.MARQUEE=64]="MARQUEE",r[r.MATH=65]="MATH",r[r.MENU=66]="MENU",r[r.META=67]="META",r[r.MGLYPH=68]="MGLYPH",r[r.MI=69]="MI",r[r.MO=70]="MO",r[r.MN=71]="MN",r[r.MS=72]="MS",r[r.MTEXT=73]="MTEXT",r[r.NAV=74]="NAV",r[r.NOBR=75]="NOBR",r[r.NOFRAMES=76]="NOFRAMES",r[r.NOEMBED=77]="NOEMBED",r[r.NOSCRIPT=78]="NOSCRIPT",r[r.OBJECT=79]="OBJECT",r[r.OL=80]="OL",r[r.OPTGROUP=81]="OPTGROUP",r[r.OPTION=82]="OPTION",r[r.P=83]="P",r[r.PARAM=84]="PARAM",r[r.PLAINTEXT=85]="PLAINTEXT",r[r.PRE=86]="PRE",r[r.RB=87]="RB",r[r.RP=88]="RP",r[r.RT=89]="RT",r[r.RTC=90]="RTC",r[r.RUBY=91]="RUBY",r[r.S=92]="S",r[r.SCRIPT=93]="SCRIPT",r[r.SECTION=94]="SECTION",r[r.SELECT=95]="SELECT",r[r.SOURCE=96]="SOURCE",r[r.SMALL=97]="SMALL",r[r.SPAN=98]="SPAN",r[r.STRIKE=99]="STRIKE",r[r.STRONG=100]="STRONG",r[r.STYLE=101]="STYLE",r[r.SUB=102]="SUB",r[r.SUMMARY=103]="SUMMARY",r[r.SUP=104]="SUP",r[r.TABLE=105]="TABLE",r[r.TBODY=106]="TBODY",r[r.TEMPLATE=107]="TEMPLATE",r[r.TEXTAREA=108]="TEXTAREA",r[r.TFOOT=109]="TFOOT",r[r.TD=110]="TD",r[r.TH=111]="TH",r[r.THEAD=112]="THEAD",r[r.TITLE=113]="TITLE",r[r.TR=114]="TR",r[r.TRACK=115]="TRACK",r[r.TT=116]="TT",r[r.U=117]="U",r[r.UL=118]="UL",r[r.SVG=119]="SVG",r[r.VAR=120]="VAR",r[r.WBR=121]="WBR",r[r.XMP=122]="XMP"})(u=u||(u={}));var yA=new Map([[$.A,u.A],[$.ADDRESS,u.ADDRESS],[$.ANNOTATION_XML,u.ANNOTATION_XML],[$.APPLET,u.APPLET],[$.AREA,u.AREA],[$.ARTICLE,u.ARTICLE],[$.ASIDE,u.ASIDE],[$.B,u.B],[$.BASE,u.BASE],[$.BASEFONT,u.BASEFONT],[$.BGSOUND,u.BGSOUND],[$.BIG,u.BIG],[$.BLOCKQUOTE,u.BLOCKQUOTE],[$.BODY,u.BODY],[$.BR,u.BR],[$.BUTTON,u.BUTTON],[$.CAPTION,u.CAPTION],[$.CENTER,u.CENTER],[$.CODE,u.CODE],[$.COL,u.COL],[$.COLGROUP,u.COLGROUP],[$.DD,u.DD],[$.DESC,u.DESC],[$.DETAILS,u.DETAILS],[$.DIALOG,u.DIALOG],[$.DIR,u.DIR],[$.DIV,u.DIV],[$.DL,u.DL],[$.DT,u.DT],[$.EM,u.EM],[$.EMBED,u.EMBED],[$.FIELDSET,u.FIELDSET],[$.FIGCAPTION,u.FIGCAPTION],[$.FIGURE,u.FIGURE],[$.FONT,u.FONT],[$.FOOTER,u.FOOTER],[$.FOREIGN_OBJECT,u.FOREIGN_OBJECT],[$.FORM,u.FORM],[$.FRAME,u.FRAME],[$.FRAMESET,u.FRAMESET],[$.H1,u.H1],[$.H2,u.H2],[$.H3,u.H3],[$.H4,u.H4],[$.H5,u.H5],[$.H6,u.H6],[$.HEAD,u.HEAD],[$.HEADER,u.HEADER],[$.HGROUP,u.HGROUP],[$.HR,u.HR],[$.HTML,u.HTML],[$.I,u.I],[$.IMG,u.IMG],[$.IMAGE,u.IMAGE],[$.INPUT,u.INPUT],[$.IFRAME,u.IFRAME],[$.KEYGEN,u.KEYGEN],[$.LABEL,u.LABEL],[$.LI,u.LI],[$.LINK,u.LINK],[$.LISTING,u.LISTING],[$.MAIN,u.MAIN],[$.MALIGNMARK,u.MALIGNMARK],[$.MARQUEE,u.MARQUEE],[$.MATH,u.MATH],[$.MENU,u.MENU],[$.META,u.META],[$.MGLYPH,u.MGLYPH],[$.MI,u.MI],[$.MO,u.MO],[$.MN,u.MN],[$.MS,u.MS],[$.MTEXT,u.MTEXT],[$.NAV,u.NAV],[$.NOBR,u.NOBR],[$.NOFRAMES,u.NOFRAMES],[$.NOEMBED,u.NOEMBED],[$.NOSCRIPT,u.NOSCRIPT],[$.OBJECT,u.OBJECT],[$.OL,u.OL],[$.OPTGROUP,u.OPTGROUP],[$.OPTION,u.OPTION],[$.P,u.P],[$.PARAM,u.PARAM],[$.PLAINTEXT,u.PLAINTEXT],[$.PRE,u.PRE],[$.RB,u.RB],[$.RP,u.RP],[$.RT,u.RT],[$.RTC,u.RTC],[$.RUBY,u.RUBY],[$.S,u.S],[$.SCRIPT,u.SCRIPT],[$.SECTION,u.SECTION],[$.SELECT,u.SELECT],[$.SOURCE,u.SOURCE],[$.SMALL,u.SMALL],[$.SPAN,u.SPAN],[$.STRIKE,u.STRIKE],[$.STRONG,u.STRONG],[$.STYLE,u.STYLE],[$.SUB,u.SUB],[$.SUMMARY,u.SUMMARY],[$.SUP,u.SUP],[$.TABLE,u.TABLE],[$.TBODY,u.TBODY],[$.TEMPLATE,u.TEMPLATE],[$.TEXTAREA,u.TEXTAREA],[$.TFOOT,u.TFOOT],[$.TD,u.TD],[$.TH,u.TH],[$.THEAD,u.THEAD],[$.TITLE,u.TITLE],[$.TR,u.TR],[$.TRACK,u.TRACK],[$.TT,u.TT],[$.U,u.U],[$.UL,u.UL],[$.SVG,u.SVG],[$.VAR,u.VAR],[$.WBR,u.WBR],[$.XMP,u.XMP]]);function Rn(r){var t;return(t=yA.get(r))!==null&&t!==void 0?t:u.UNKNOWN}o(Rn,"getTagID");var oe=u,Xf={[Z.HTML]:new Set([oe.ADDRESS,oe.APPLET,oe.AREA,oe.ARTICLE,oe.ASIDE,oe.BASE,oe.BASEFONT,oe.BGSOUND,oe.BLOCKQUOTE,oe.BODY,oe.BR,oe.BUTTON,oe.CAPTION,oe.CENTER,oe.COL,oe.COLGROUP,oe.DD,oe.DETAILS,oe.DIR,oe.DIV,oe.DL,oe.DT,oe.EMBED,oe.FIELDSET,oe.FIGCAPTION,oe.FIGURE,oe.FOOTER,oe.FORM,oe.FRAME,oe.FRAMESET,oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6,oe.HEAD,oe.HEADER,oe.HGROUP,oe.HR,oe.HTML,oe.IFRAME,oe.IMG,oe.INPUT,oe.LI,oe.LINK,oe.LISTING,oe.MAIN,oe.MARQUEE,oe.MENU,oe.META,oe.NAV,oe.NOEMBED,oe.NOFRAMES,oe.NOSCRIPT,oe.OBJECT,oe.OL,oe.P,oe.PARAM,oe.PLAINTEXT,oe.PRE,oe.SCRIPT,oe.SECTION,oe.SELECT,oe.SOURCE,oe.STYLE,oe.SUMMARY,oe.TABLE,oe.TBODY,oe.TD,oe.TEMPLATE,oe.TEXTAREA,oe.TFOOT,oe.TH,oe.THEAD,oe.TITLE,oe.TR,oe.TRACK,oe.UL,oe.WBR,oe.XMP]),[Z.MATHML]:new Set([oe.MI,oe.MO,oe.MN,oe.MS,oe.MTEXT,oe.ANNOTATION_XML]),[Z.SVG]:new Set([oe.TITLE,oe.FOREIGN_OBJECT,oe.DESC]),[Z.XLINK]:new Set,[Z.XML]:new Set,[Z.XMLNS]:new Set};function Uh(r){return r===oe.H1||r===oe.H2||r===oe.H3||r===oe.H4||r===oe.H5||r===oe.H6}o(Uh,"isNumberedHeader");var _A=new Set([$.STYLE,$.SCRIPT,$.XMP,$.IFRAME,$.NOEMBED,$.NOFRAMES,$.PLAINTEXT]);function Jf(r,t){return _A.has(r)||t&&r===$.NOSCRIPT}o(Jf,"hasUnescapedText");var AA=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),k;(function(r){r[r.DATA=0]="DATA",r[r.RCDATA=1]="RCDATA",r[r.RAWTEXT=2]="RAWTEXT",r[r.SCRIPT_DATA=3]="SCRIPT_DATA",r[r.PLAINTEXT=4]="PLAINTEXT",r[r.TAG_OPEN=5]="TAG_OPEN",r[r.END_TAG_OPEN=6]="END_TAG_OPEN",r[r.TAG_NAME=7]="TAG_NAME",r[r.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",r[r.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",r[r.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",r[r.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",r[r.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",r[r.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",r[r.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",r[r.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",r[r.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",r[r.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",r[r.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",r[r.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",r[r.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",r[r.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",r[r.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",r[r.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",r[r.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",r[r.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",r[r.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",r[r.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",r[r.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",r[r.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",r[r.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",r[r.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",r[r.BOGUS_COMMENT=40]="BOGUS_COMMENT",r[r.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",r[r.COMMENT_START=42]="COMMENT_START",r[r.COMMENT_START_DASH=43]="COMMENT_START_DASH",r[r.COMMENT=44]="COMMENT",r[r.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",r[r.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",r[r.COMMENT_END_DASH=49]="COMMENT_END_DASH",r[r.COMMENT_END=50]="COMMENT_END",r[r.COMMENT_END_BANG=51]="COMMENT_END_BANG",r[r.DOCTYPE=52]="DOCTYPE",r[r.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",r[r.DOCTYPE_NAME=54]="DOCTYPE_NAME",r[r.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",r[r.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",r[r.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",r[r.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",r[r.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",r[r.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",r[r.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",r[r.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",r[r.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",r[r.CDATA_SECTION=68]="CDATA_SECTION",r[r.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",r[r.CDATA_SECTION_END=70]="CDATA_SECTION_END",r[r.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",r[r.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",r[r.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",r[r.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",r[r.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",r[r.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",r[r.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",r[r.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(k||(k={}));var Ir={DATA:k.DATA,RCDATA:k.RCDATA,RAWTEXT:k.RAWTEXT,SCRIPT_DATA:k.SCRIPT_DATA,PLAINTEXT:k.PLAINTEXT,CDATA_SECTION:k.CDATA_SECTION};function On(r){return r>=v.DIGIT_0&&r<=v.DIGIT_9}o(On,"isAsciiDigit");function Mn(r){return r>=v.LATIN_CAPITAL_A&&r<=v.LATIN_CAPITAL_Z}o(Mn,"isAsciiUpper");function eg(r){return r>=v.LATIN_SMALL_A&&r<=v.LATIN_SMALL_Z}o(eg,"isAsciiLower");function ks(r){return eg(r)||Mn(r)}o(ks,"isAsciiLetter");function Fh(r){return ks(r)||On(r)}o(Fh,"isAsciiAlphaNumeric2");function Md(r){return r>=v.LATIN_CAPITAL_A&&r<=v.LATIN_CAPITAL_F}o(Md,"isAsciiUpperHexDigit");function Dd(r){return r>=v.LATIN_SMALL_A&&r<=v.LATIN_SMALL_F}o(Dd,"isAsciiLowerHexDigit");function tg(r){return On(r)||Md(r)||Dd(r)}o(tg,"isAsciiHexDigit");function bc(r){return r+32}o(bc,"toAsciiLower");function Pd(r){return r===v.SPACE||r===v.LINE_FEED||r===v.TABULATION||r===v.FORM_FEED}o(Pd,"isWhitespace");function rg(r){return r===v.EQUALS_SIGN||Fh(r)}o(rg,"isEntityInAttributeInvalidEnd2");function $d(r){return Pd(r)||r===v.SOLIDUS||r===v.GREATER_THAN_SIGN}o($d,"isScriptDataDoubleEscapeSequenceEnd");var vA=(hi=class{constructor(t,i){this.options=t,this.handler=i,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=k.DATA,this.returnState=k.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new dA(i),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var i,d;(d=(i=this.handler).onParseError)===null||d===void 0||d.call(i,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,i,d){this.active=!0,this.preprocessor.write(t,i),this._runParsingLoop(),this.paused||d?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,i){this.state=t,this._callState(i)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let i=0;i<t;i++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,i){return this.preprocessor.startsWith(t,i)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ct.START_TAG,tagName:"",tagID:u.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ct.END_TAG,tagName:"",tagID:u.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ct.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ct.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,i){this.currentCharacterToken={type:t,chars:i,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,i;let d=this.currentToken;if(Hh(d,this.currentAttr.name)===null){if(d.attrs.push(this.currentAttr),d.location&&this.currentLocation){let E=(t=(i=d.location).attrs)!==null&&t!==void 0?t:i.attrs=Object.create(null);E[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(F.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=Rn(t.tagName),t.type===ct.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(F.endTagWithAttributes),t.selfClosing&&this._err(F.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ct.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ct.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ct.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ct.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,i){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=i;return}this._createCharacterToken(t,i)}_emitCodePoint(t){let i=Pd(t)?ct.WHITESPACE_CHARACTER:t===v.NULL?ct.NULL_CHARACTER:ct.CHARACTER;this._appendCharToCurrentCharacterToken(i,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ct.CHARACTER,t)}_matchNamedCharacterReference(t){let i=null,d=0,E=!1;for(let y=0,O=la[0];y>=0&&(y=Od(la,O,y+1,t),!(y<0));t=this._consume()){d+=1,O=la[y];let Y=O&cs.VALUE_LENGTH;if(Y){let be=(Y>>14)-1;if(t!==v.SEMICOLON&&this._isCharacterReferenceInAttribute()&&rg(this.preprocessor.peek(1))?(i=[v.AMPERSAND],y+=be):(i=be===0?[la[y]&~cs.VALUE_LENGTH]:be===1?[la[++y]]:[la[++y],la[++y]],d=0,E=t!==v.SEMICOLON),be===0){this._consume();break}}}return this._unconsume(d),E&&!this.preprocessor.endOfChunkHit&&this._err(F.missingSemicolonAfterCharacterReference),this._unconsume(1),i}_isCharacterReferenceInAttribute(){return this.returnState===k.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===k.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===k.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case k.DATA:{this._stateData(t);break}case k.RCDATA:{this._stateRcdata(t);break}case k.RAWTEXT:{this._stateRawtext(t);break}case k.SCRIPT_DATA:{this._stateScriptData(t);break}case k.PLAINTEXT:{this._statePlaintext(t);break}case k.TAG_OPEN:{this._stateTagOpen(t);break}case k.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case k.TAG_NAME:{this._stateTagName(t);break}case k.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case k.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case k.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case k.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case k.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case k.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case k.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case k.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case k.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case k.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case k.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case k.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case k.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case k.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case k.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case k.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case k.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case k.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case k.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case k.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case k.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case k.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case k.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case k.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case k.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case k.BOGUS_COMMENT:{this._stateBogusComment(t);break}case k.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case k.COMMENT_START:{this._stateCommentStart(t);break}case k.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case k.COMMENT:{this._stateComment(t);break}case k.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case k.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case k.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case k.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case k.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case k.COMMENT_END:{this._stateCommentEnd(t);break}case k.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case k.DOCTYPE:{this._stateDoctype(t);break}case k.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case k.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case k.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case k.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case k.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case k.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case k.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case k.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case k.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case k.CDATA_SECTION:{this._stateCdataSection(t);break}case k.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case k.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case k.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case k.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case k.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case k.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case k.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case k.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case k.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case k.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=k.TAG_OPEN;break}case v.AMPERSAND:{this.returnState=k.DATA,this.state=k.CHARACTER_REFERENCE;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitCodePoint(t);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case v.AMPERSAND:{this.returnState=k.RCDATA,this.state=k.CHARACTER_REFERENCE;break}case v.LESS_THAN_SIGN:{this.state=k.RCDATA_LESS_THAN_SIGN;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Dt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case v.LESS_THAN_SIGN:{this.state=k.RAWTEXT_LESS_THAN_SIGN;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Dt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_LESS_THAN_SIGN;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Dt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Dt);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ks(t))this._createStartTagToken(),this.state=k.TAG_NAME,this._stateTagName(t);else switch(t){case v.EXCLAMATION_MARK:{this.state=k.MARKUP_DECLARATION_OPEN;break}case v.SOLIDUS:{this.state=k.END_TAG_OPEN;break}case v.QUESTION_MARK:{this._err(F.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=k.BOGUS_COMMENT,this._stateBogusComment(t);break}case v.EOF:{this._err(F.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(F.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=k.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ks(t))this._createEndTagToken(),this.state=k.TAG_NAME,this._stateTagName(t);else switch(t){case v.GREATER_THAN_SIGN:{this._err(F.missingEndTagName),this.state=k.DATA;break}case v.EOF:{this._err(F.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(F.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=k.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=k.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this.state=k.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.tagName+=Dt;break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:i.tagName+=String.fromCodePoint(Mn(t)?bc(t):t)}}_stateRcdataLessThanSign(t){t===v.SOLIDUS?this.state=k.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=k.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ks(t)?(this.state=k.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=k.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let i=this.currentToken;switch(i.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=k.BEFORE_ATTRIBUTE_NAME,!1;case v.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=k.SELF_CLOSING_START_TAG,!1;case v.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=k.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===v.SOLIDUS?this.state=k.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=k.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ks(t)?(this.state=k.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=k.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case v.SOLIDUS:{this.state=k.SCRIPT_DATA_END_TAG_OPEN;break}case v.EXCLAMATION_MARK:{this.state=k.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=k.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ks(t)?(this.state=k.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===v.HYPHEN_MINUS?(this.state=k.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===v.HYPHEN_MINUS?(this.state=k.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Dt);break}case v.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case v.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.GREATER_THAN_SIGN:{this.state=k.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case v.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===v.SOLIDUS?this.state=k.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ks(t)?(this._emitChars("<"),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ks(t)?(this.state=k.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(kr.SCRIPT,!1)&&$d(this.preprocessor.peek(kr.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<kr.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err(F.unexpectedNullCharacter),this._emitChars(Dt);break}case v.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case v.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.GREATER_THAN_SIGN:{this.state=k.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case v.EOF:{this._err(F.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===v.SOLIDUS?(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(kr.SCRIPT,!1)&&$d(this.preprocessor.peek(kr.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<kr.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=k.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this.state=k.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._err(F.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=k.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=k.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this._leaveAttrName(),this.state=k.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._leaveAttrName(),this.state=k.BEFORE_ATTRIBUTE_VALUE;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:{this._err(F.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.name+=Dt;break}default:this.currentAttr.name+=String.fromCodePoint(Mn(t)?bc(t):t)}}_stateAfterAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:{this.state=k.SELF_CLOSING_START_TAG;break}case v.EQUALS_SIGN:{this.state=k.BEFORE_ATTRIBUTE_VALUE;break}case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=k.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{this.state=k.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this.state=k.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(F.missingAttributeValue),this.state=k.DATA,this.emitCurrentTagToken();break}default:this.state=k.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case v.QUOTATION_MARK:{this.state=k.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this.returnState=k.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=k.CHARACTER_REFERENCE;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case v.APOSTROPHE:{this.state=k.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this.returnState=k.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=k.CHARACTER_REFERENCE;break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=k.BEFORE_ATTRIBUTE_NAME;break}case v.AMPERSAND:{this.returnState=k.ATTRIBUTE_VALUE_UNQUOTED,this.state=k.CHARACTER_REFERENCE;break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=k.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err(F.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:case v.EQUALS_SIGN:case v.GRAVE_ACCENT:{this._err(F.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=k.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this._leaveAttrValue(),this.state=k.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=k.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this._err(F.missingWhitespaceBetweenAttributes),this.state=k.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case v.GREATER_THAN_SIGN:{let i=this.currentToken;i.selfClosing=!0,this.state=k.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(F.eofInTag),this._emitEOFToken();break}default:this._err(F.unexpectedSolidusInTag),this.state=k.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){let i=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentComment(i);break}case v.EOF:{this.emitCurrentComment(i),this._emitEOFToken();break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.data+=Dt;break}default:i.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(kr.DASH_DASH,!0)?(this._createCommentToken(kr.DASH_DASH.length+1),this.state=k.COMMENT_START):this._consumeSequenceIfMatch(kr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(kr.DOCTYPE.length+1),this.state=k.DOCTYPE):this._consumeSequenceIfMatch(kr.CDATA_START,!0)?this.inForeignNode?this.state=k.CDATA_SECTION:(this._err(F.cdataInHtmlContent),this._createCommentToken(kr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=k.BOGUS_COMMENT):this._ensureHibernation()||(this._err(F.incorrectlyOpenedComment),this._createCommentToken(2),this.state=k.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case v.HYPHEN_MINUS:{this.state=k.COMMENT_START_DASH;break}case v.GREATER_THAN_SIGN:{this._err(F.abruptClosingOfEmptyComment),this.state=k.DATA;let i=this.currentToken;this.emitCurrentComment(i);break}default:this.state=k.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){let i=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=k.COMMENT_END;break}case v.GREATER_THAN_SIGN:{this._err(F.abruptClosingOfEmptyComment),this.state=k.DATA,this.emitCurrentComment(i);break}case v.EOF:{this._err(F.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=k.COMMENT,this._stateComment(t)}}_stateComment(t){let i=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=k.COMMENT_END_DASH;break}case v.LESS_THAN_SIGN:{i.data+="<",this.state=k.COMMENT_LESS_THAN_SIGN;break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.data+=Dt;break}case v.EOF:{this._err(F.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){let i=this.currentToken;switch(t){case v.EXCLAMATION_MARK:{i.data+="!",this.state=k.COMMENT_LESS_THAN_SIGN_BANG;break}case v.LESS_THAN_SIGN:{i.data+="<";break}default:this.state=k.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===v.HYPHEN_MINUS?this.state=k.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=k.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===v.HYPHEN_MINUS?this.state=k.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=k.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==v.GREATER_THAN_SIGN&&t!==v.EOF&&this._err(F.nestedComment),this.state=k.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){let i=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=k.COMMENT_END;break}case v.EOF:{this._err(F.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=k.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){let i=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentComment(i);break}case v.EXCLAMATION_MARK:{this.state=k.COMMENT_END_BANG;break}case v.HYPHEN_MINUS:{i.data+="-";break}case v.EOF:{this._err(F.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--",this.state=k.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){let i=this.currentToken;switch(t){case v.HYPHEN_MINUS:{i.data+="--!",this.state=k.COMMENT_END_DASH;break}case v.GREATER_THAN_SIGN:{this._err(F.incorrectlyClosedComment),this.state=k.DATA,this.emitCurrentComment(i);break}case v.EOF:{this._err(F.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--!",this.state=k.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=k.BEFORE_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=k.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case v.EOF:{this._err(F.eofInDoctype),this._createDoctypeToken(null);let i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingWhitespaceBeforeDoctypeName),this.state=k.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Mn(t))this._createDoctypeToken(String.fromCharCode(bc(t))),this.state=k.DOCTYPE_NAME;else switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.NULL:{this._err(F.unexpectedNullCharacter),this._createDoctypeToken(Dt),this.state=k.DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this._err(F.missingDoctypeName),this._createDoctypeToken(null);let i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.EOF:{this._err(F.eofInDoctype),this._createDoctypeToken(null);let i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=k.DOCTYPE_NAME}}_stateDoctypeName(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=k.AFTER_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.name+=Dt;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.name+=String.fromCodePoint(Mn(t)?bc(t):t)}}_stateAfterDoctypeName(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(kr.PUBLIC,!1)?this.state=k.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(kr.SYSTEM,!1)?this.state=k.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(F.invalidCharacterSequenceAfterDoctypeName),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=k.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err(F.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(F.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(F.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{i.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{i.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(F.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){let i=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.publicId+=Dt;break}case v.GREATER_THAN_SIGN:{this._err(F.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){let i=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.publicId+=Dt;break}case v.GREATER_THAN_SIGN:{this._err(F.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=k.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case v.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.QUOTATION_MARK:{this._err(F.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(F.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.QUOTATION_MARK:{i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=k.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err(F.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(F.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(F.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{i.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(F.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(i);break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let i=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.systemId+=Dt;break}case v.GREATER_THAN_SIGN:{this._err(F.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){let i=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err(F.unexpectedNullCharacter),i.systemId+=Dt;break}case v.GREATER_THAN_SIGN:{this._err(F.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){let i=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.EOF:{this._err(F.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(F.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){let i=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=k.DATA;break}case v.NULL:{this._err(F.unexpectedNullCharacter);break}case v.EOF:{this.emitCurrentDoctype(i),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case v.RIGHT_SQUARE_BRACKET:{this.state=k.CDATA_SECTION_BRACKET;break}case v.EOF:{this._err(F.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===v.RIGHT_SQUARE_BRACKET?this.state=k.CDATA_SECTION_END:(this._emitChars("]"),this.state=k.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case v.GREATER_THAN_SIGN:{this.state=k.DATA;break}case v.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=k.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===v.NUMBER_SIGN?this.state=k.NUMERIC_CHARACTER_REFERENCE:Fh(t)?(this.state=k.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){let i=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(i){for(let d=0;d<i.length;d++)this._flushCodePointConsumedAsCharacterReference(i[d]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this.state=k.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){Fh(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===v.SEMICOLON&&this._err(F.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===v.LATIN_SMALL_X||t===v.LATIN_CAPITAL_X?this.state=k.HEXADEMICAL_CHARACTER_REFERENCE_START:On(t)?(this.state=k.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(F.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(v.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){tg(t)?(this.state=k.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(F.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(v.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Md(t)?this.charRefCode=this.charRefCode*16+t-55:Dd(t)?this.charRefCode=this.charRefCode*16+t-87:On(t)?this.charRefCode=this.charRefCode*16+t-48:t===v.SEMICOLON?this.state=k.NUMERIC_CHARACTER_REFERENCE_END:(this._err(F.missingSemicolonAfterCharacterReference),this.state=k.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){On(t)?this.charRefCode=this.charRefCode*10+t-48:t===v.SEMICOLON?this.state=k.NUMERIC_CHARACTER_REFERENCE_END:(this._err(F.missingSemicolonAfterCharacterReference),this.state=k.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===v.NULL)this._err(F.nullCharacterReference),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(F.characterReferenceOutsideUnicodeRange),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(Id(this.charRefCode))this._err(F.surrogateCharacterReference),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(Ld(this.charRefCode))this._err(F.noncharacterCharacterReference);else if(Nd(this.charRefCode)||this.charRefCode===v.CARRIAGE_RETURN){this._err(F.controlCharacterReference);let i=AA.get(this.charRefCode);i!==void 0&&(this.charRefCode=i)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}},o(hi,"Tokenizer"),hi),sg=new Set([u.DD,u.DT,u.LI,u.OPTGROUP,u.OPTION,u.P,u.RB,u.RP,u.RT,u.RTC]),ag=new Set([...sg,u.CAPTION,u.COLGROUP,u.TBODY,u.TD,u.TFOOT,u.TH,u.THEAD,u.TR]),zh=new Map([[u.APPLET,Z.HTML],[u.CAPTION,Z.HTML],[u.HTML,Z.HTML],[u.MARQUEE,Z.HTML],[u.OBJECT,Z.HTML],[u.TABLE,Z.HTML],[u.TD,Z.HTML],[u.TEMPLATE,Z.HTML],[u.TH,Z.HTML],[u.ANNOTATION_XML,Z.MATHML],[u.MI,Z.MATHML],[u.MN,Z.MATHML],[u.MO,Z.MATHML],[u.MS,Z.MATHML],[u.MTEXT,Z.MATHML],[u.DESC,Z.SVG],[u.FOREIGN_OBJECT,Z.SVG],[u.TITLE,Z.SVG]]),SA=[u.H1,u.H2,u.H3,u.H4,u.H5,u.H6],CA=[u.TR,u.TEMPLATE,u.HTML],kA=[u.TBODY,u.TFOOT,u.THEAD,u.TEMPLATE,u.HTML],wA=[u.TABLE,u.TEMPLATE,u.HTML],IA=[u.TD,u.TH],NA=(ui=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,i,d){this.treeAdapter=i,this.handler=d,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=u.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===u.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Z.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,i){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=i,this.currentTagId=i,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,i,!0)}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,i){let d=this._indexOf(t);this.items[d]=i,d===this.stackTop&&(this.current=i)}insertAfter(t,i,d){let E=this._indexOf(t)+1;this.items.splice(E,0,i),this.tagIDs.splice(E,0,d),this.stackTop++,E===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,E===this.stackTop)}popUntilTagNamePopped(t){let i=this.stackTop+1;do i=this.tagIDs.lastIndexOf(t,i-1);while(i>0&&this.treeAdapter.getNamespaceURI(this.items[i])!==Z.HTML);this.shortenToLength(i<0?0:i)}shortenToLength(t){for(;this.stackTop>=t;){let i=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(i,this.stackTop<t)}}popUntilElementPopped(t){let i=this._indexOf(t);this.shortenToLength(i<0?0:i)}popUntilPopped(t,i){let d=this._indexOfTagNames(t,i);this.shortenToLength(d<0?0:d)}popUntilNumberedHeaderPopped(){this.popUntilPopped(SA,Z.HTML)}popUntilTableCellPopped(){this.popUntilPopped(IA,Z.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,i){for(let d=this.stackTop;d>=0;d--)if(t.includes(this.tagIDs[d])&&this.treeAdapter.getNamespaceURI(this.items[d])===i)return d;return-1}clearBackTo(t,i){let d=this._indexOfTagNames(t,i);this.shortenToLength(d+1)}clearBackToTableContext(){this.clearBackTo(wA,Z.HTML)}clearBackToTableBodyContext(){this.clearBackTo(kA,Z.HTML)}clearBackToTableRowContext(){this.clearBackTo(CA,Z.HTML)}remove(t){let i=this._indexOf(t);i>=0&&(i===this.stackTop?this.pop():(this.items.splice(i,1),this.tagIDs.splice(i,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===u.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){let i=this._indexOf(t)-1;return i>=0?this.items[i]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===u.HTML}hasInScope(t){for(let i=this.stackTop;i>=0;i--){let d=this.tagIDs[i],E=this.treeAdapter.getNamespaceURI(this.items[i]);if(d===t&&E===Z.HTML)return!0;if(zh.get(d)===E)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let i=this.tagIDs[t],d=this.treeAdapter.getNamespaceURI(this.items[t]);if(Uh(i)&&d===Z.HTML)return!0;if(zh.get(i)===d)return!1}return!0}hasInListItemScope(t){for(let i=this.stackTop;i>=0;i--){let d=this.tagIDs[i],E=this.treeAdapter.getNamespaceURI(this.items[i]);if(d===t&&E===Z.HTML)return!0;if((d===u.UL||d===u.OL)&&E===Z.HTML||zh.get(d)===E)return!1}return!0}hasInButtonScope(t){for(let i=this.stackTop;i>=0;i--){let d=this.tagIDs[i],E=this.treeAdapter.getNamespaceURI(this.items[i]);if(d===t&&E===Z.HTML)return!0;if(d===u.BUTTON&&E===Z.HTML||zh.get(d)===E)return!1}return!0}hasInTableScope(t){for(let i=this.stackTop;i>=0;i--){let d=this.tagIDs[i];if(this.treeAdapter.getNamespaceURI(this.items[i])===Z.HTML){if(d===t)return!0;if(d===u.TABLE||d===u.TEMPLATE||d===u.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){let i=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Z.HTML){if(i===u.TBODY||i===u.THEAD||i===u.TFOOT)return!0;if(i===u.TABLE||i===u.HTML)return!1}}return!0}hasInSelectScope(t){for(let i=this.stackTop;i>=0;i--){let d=this.tagIDs[i];if(this.treeAdapter.getNamespaceURI(this.items[i])===Z.HTML){if(d===t)return!0;if(d!==u.OPTION&&d!==u.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;sg.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;ag.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&ag.has(this.currentTagId);)this.pop()}},o(ui,"OpenElementStack"),ui),Hd=3,qr;(function(r){r[r.Marker=0]="Marker",r[r.Element=1]="Element"})(qr=qr||(qr={}));var ng={type:qr.Marker},LA=(di=class{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,i){let d=[],E=i.length,y=this.treeAdapter.getTagName(t),O=this.treeAdapter.getNamespaceURI(t);for(let Y=0;Y<this.entries.length;Y++){let be=this.entries[Y];if(be.type===qr.Marker)break;let{element:He}=be;if(this.treeAdapter.getTagName(He)===y&&this.treeAdapter.getNamespaceURI(He)===O){let Be=this.treeAdapter.getAttrList(He);Be.length===E&&d.push({idx:Y,attrs:Be})}}return d}_ensureNoahArkCondition(t){if(this.entries.length<Hd)return;let i=this.treeAdapter.getAttrList(t),d=this._getNoahArkConditionCandidates(t,i);if(d.length<Hd)return;let E=new Map(i.map(O=>[O.name,O.value])),y=0;for(let O=0;O<d.length;O++){let Y=d[O];Y.attrs.every(be=>E.get(be.name)===be.value)&&(y+=1,y>=Hd&&this.entries.splice(Y.idx,1))}}insertMarker(){this.entries.unshift(ng)}pushElement(t,i){this._ensureNoahArkCondition(t),this.entries.unshift({type:qr.Element,element:t,token:i})}insertElementAfterBookmark(t,i){let d=this.entries.indexOf(this.bookmark);this.entries.splice(d,0,{type:qr.Element,element:t,token:i})}removeEntry(t){let i=this.entries.indexOf(t);i>=0&&this.entries.splice(i,1)}clearToLastMarker(){let t=this.entries.indexOf(ng);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){let i=this.entries.find(d=>d.type===qr.Marker||this.treeAdapter.getTagName(d.element)===t);return i&&i.type===qr.Element?i:null}getElementEntry(t){return this.entries.find(i=>i.type===qr.Element&&i.element===t)}},o(di,"FormattingElementList"),di);function Bd(r){return{nodeName:"#text",value:r,parentNode:null}}o(Bd,"createTextNode");var Dn={createDocument(){return{nodeName:"#document",mode:wr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(r,t,i){return{nodeName:r,tagName:r,attrs:i,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(r){return{nodeName:"#comment",data:r,parentNode:null}},appendChild(r,t){r.childNodes.push(t),t.parentNode=r},insertBefore(r,t,i){let d=r.childNodes.indexOf(i);r.childNodes.splice(d,0,t),t.parentNode=r},setTemplateContent(r,t){r.content=t},getTemplateContent(r){return r.content},setDocumentType(r,t,i,d){let E=r.childNodes.find(y=>y.nodeName==="#documentType");if(E)E.name=t,E.publicId=i,E.systemId=d;else{let y={nodeName:"#documentType",name:t,publicId:i,systemId:d,parentNode:null};Dn.appendChild(r,y)}},setDocumentMode(r,t){r.mode=t},getDocumentMode(r){return r.mode},detachNode(r){if(r.parentNode){let t=r.parentNode.childNodes.indexOf(r);r.parentNode.childNodes.splice(t,1),r.parentNode=null}},insertText(r,t){if(r.childNodes.length>0){let i=r.childNodes[r.childNodes.length-1];if(Dn.isTextNode(i)){i.value+=t;return}}Dn.appendChild(r,Bd(t))},insertTextBefore(r,t,i){let d=r.childNodes[r.childNodes.indexOf(i)-1];d&&Dn.isTextNode(d)?d.value+=t:Dn.insertBefore(r,Bd(t),i)},adoptAttributes(r,t){let i=new Set(r.attrs.map(d=>d.name));for(let d=0;d<t.length;d++)i.has(t[d].name)||r.attrs.push(t[d])},getFirstChild(r){return r.childNodes[0]},getChildNodes(r){return r.childNodes},getParentNode(r){return r.parentNode},getAttrList(r){return r.attrs},getTagName(r){return r.tagName},getNamespaceURI(r){return r.namespaceURI},getTextNodeContent(r){return r.value},getCommentNodeContent(r){return r.data},getDocumentTypeNodeName(r){return r.name},getDocumentTypeNodePublicId(r){return r.publicId},getDocumentTypeNodeSystemId(r){return r.systemId},isTextNode(r){return r.nodeName==="#text"},isCommentNode(r){return r.nodeName==="#comment"},isDocumentTypeNode(r){return r.nodeName==="#documentType"},isElementNode(r){return Object.prototype.hasOwnProperty.call(r,"tagName")},setNodeSourceCodeLocation(r,t){r.sourceCodeLocation=t},getNodeSourceCodeLocation(r){return r.sourceCodeLocation},updateNodeSourceCodeLocation(r,t){r.sourceCodeLocation={...r.sourceCodeLocation,...t}}},ig="html",xA="about:legacy-compat",RA="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",og=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],OA=[...og,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],MA=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),lg=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],DA=[...lg,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ud(r,t){return t.some(i=>r.startsWith(i))}o(Ud,"hasPrefix");function cg(r){return r.name===ig&&r.publicId===null&&(r.systemId===null||r.systemId===xA)}o(cg,"isConforming");function hg(r){if(r.name!==ig)return wr.QUIRKS;let{systemId:t}=r;if(t&&t.toLowerCase()===RA)return wr.QUIRKS;let{publicId:i}=r;if(i!==null){if(i=i.toLowerCase(),MA.has(i))return wr.QUIRKS;let d=t===null?OA:og;if(Ud(i,d))return wr.QUIRKS;if(d=t===null?lg:DA,Ud(i,d))return wr.LIMITED_QUIRKS}return wr.NO_QUIRKS}o(hg,"getDocumentMode");var PA={};Mh(PA,{SVG_TAG_NAMES_ADJUSTMENT_MAP:o(()=>dg,"SVG_TAG_NAMES_ADJUSTMENT_MAP"),adjustTokenMathMLAttrs:o(()=>Gh,"adjustTokenMathMLAttrs"),adjustTokenSVGAttrs:o(()=>jh,"adjustTokenSVGAttrs"),adjustTokenSVGTagName:o(()=>zd,"adjustTokenSVGTagName"),adjustTokenXMLAttrs:o(()=>yc,"adjustTokenXMLAttrs"),causesExit:o(()=>Fd,"causesExit"),isIntegrationPoint:o(()=>Gd,"isIntegrationPoint")});var ug={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},$A="definitionurl",HA="definitionURL",BA=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(r=>[r.toLowerCase(),r])),UA=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Z.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Z.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Z.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Z.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Z.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Z.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Z.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Z.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Z.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Z.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Z.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Z.XMLNS}]]),dg=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(r=>[r.toLowerCase(),r])),FA=new Set([u.B,u.BIG,u.BLOCKQUOTE,u.BODY,u.BR,u.CENTER,u.CODE,u.DD,u.DIV,u.DL,u.DT,u.EM,u.EMBED,u.H1,u.H2,u.H3,u.H4,u.H5,u.H6,u.HEAD,u.HR,u.I,u.IMG,u.LI,u.LISTING,u.MENU,u.META,u.NOBR,u.OL,u.P,u.PRE,u.RUBY,u.S,u.SMALL,u.SPAN,u.STRONG,u.STRIKE,u.SUB,u.SUP,u.TABLE,u.TT,u.U,u.UL,u.VAR]);function Fd(r){let t=r.tagID;return t===u.FONT&&r.attrs.some(({name:i})=>i===Cs.COLOR||i===Cs.SIZE||i===Cs.FACE)||FA.has(t)}o(Fd,"causesExit");function Gh(r){for(let t=0;t<r.attrs.length;t++)if(r.attrs[t].name===$A){r.attrs[t].name=HA;break}}o(Gh,"adjustTokenMathMLAttrs");function jh(r){for(let t=0;t<r.attrs.length;t++){let i=BA.get(r.attrs[t].name);i!=null&&(r.attrs[t].name=i)}}o(jh,"adjustTokenSVGAttrs");function yc(r){for(let t=0;t<r.attrs.length;t++){let i=UA.get(r.attrs[t].name);i&&(r.attrs[t].prefix=i.prefix,r.attrs[t].name=i.name,r.attrs[t].namespace=i.namespace)}}o(yc,"adjustTokenXMLAttrs");function zd(r){let t=dg.get(r.tagName);t!=null&&(r.tagName=t,r.tagID=Rn(r.tagName))}o(zd,"adjustTokenSVGTagName");function pg(r,t){return t===Z.MATHML&&(r===u.MI||r===u.MO||r===u.MN||r===u.MS||r===u.MTEXT)}o(pg,"isMathMLTextIntegrationPoint");function mg(r,t,i){if(t===Z.MATHML&&r===u.ANNOTATION_XML){for(let d=0;d<i.length;d++)if(i[d].name===Cs.ENCODING){let E=i[d].value.toLowerCase();return E===ug.TEXT_HTML||E===ug.APPLICATION_XML}}return t===Z.SVG&&(r===u.FOREIGN_OBJECT||r===u.DESC||r===u.TITLE)}o(mg,"isHtmlIntegrationPoint");function Gd(r,t,i,d){return(!d||d===Z.HTML)&&mg(r,t,i)||(!d||d===Z.MATHML)&&pg(r,t)}o(Gd,"isIntegrationPoint");var zA="hidden",GA=8,jA=3,L;(function(r){r[r.INITIAL=0]="INITIAL",r[r.BEFORE_HTML=1]="BEFORE_HTML",r[r.BEFORE_HEAD=2]="BEFORE_HEAD",r[r.IN_HEAD=3]="IN_HEAD",r[r.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",r[r.AFTER_HEAD=5]="AFTER_HEAD",r[r.IN_BODY=6]="IN_BODY",r[r.TEXT=7]="TEXT",r[r.IN_TABLE=8]="IN_TABLE",r[r.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",r[r.IN_CAPTION=10]="IN_CAPTION",r[r.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",r[r.IN_TABLE_BODY=12]="IN_TABLE_BODY",r[r.IN_ROW=13]="IN_ROW",r[r.IN_CELL=14]="IN_CELL",r[r.IN_SELECT=15]="IN_SELECT",r[r.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",r[r.IN_TEMPLATE=17]="IN_TEMPLATE",r[r.AFTER_BODY=18]="AFTER_BODY",r[r.IN_FRAMESET=19]="IN_FRAMESET",r[r.AFTER_FRAMESET=20]="AFTER_FRAMESET",r[r.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",r[r.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(L||(L={}));var VA={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},fg=new Set([u.TABLE,u.TBODY,u.TFOOT,u.THEAD,u.TR]),gg={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Dn,onParseError:null},Eg=(pi=class{constructor(t,i,d=null,E=null){this.fragmentContext=d,this.scriptHandler=E,this.currentToken=null,this.stopped=!1,this.insertionMode=L.INITIAL,this.originalInsertionMode=L.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...gg,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=i??this.treeAdapter.createDocument(),this.tokenizer=new vA(this.options,this),this.activeFormattingElements=new LA(this.treeAdapter),this.fragmentContextID=d?Rn(this.treeAdapter.getTagName(d)):u.UNKNOWN,this._setContextModes(d??this.document,this.fragmentContextID),this.openElements=new NA(this.document,this.treeAdapter,this)}static parse(t,i){let d=new this(i);return d.tokenizer.write(t,!0),d.document}static getFragmentParser(t,i){let d={...gg,...i};t??(t=d.treeAdapter.createElement($.TEMPLATE,Z.HTML,[]));let E=d.treeAdapter.createElement("documentmock",Z.HTML,[]),y=new this(d,E,t);return y.fragmentContextID===u.TEMPLATE&&y.tmplInsertionModeStack.unshift(L.IN_TEMPLATE),y._initTokenizerForFragmentParsing(),y._insertFakeRootElement(),y._resetInsertionMode(),y._findFormInFragmentContext(),y}getFragment(){let t=this.treeAdapter.getFirstChild(this.document),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,i),i}_err(t,i,d){var E;if(!this.onParseError)return;let y=(E=t.location)!==null&&E!==void 0?E:VA,O={code:i,startLine:y.startLine,startCol:y.startCol,startOffset:y.startOffset,endLine:d?y.startLine:y.endLine,endCol:d?y.startCol:y.endCol,endOffset:d?y.startOffset:y.endOffset};this.onParseError(O)}onItemPush(t,i,d){var E,y;(y=(E=this.treeAdapter).onItemPush)===null||y===void 0||y.call(E,t),d&&this.openElements.stackTop>0&&this._setContextModes(t,i)}onItemPop(t,i){var d,E;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(E=(d=this.treeAdapter).onItemPop)===null||E===void 0||E.call(d,t,this.openElements.current),i){let y,O;this.openElements.stackTop===0&&this.fragmentContext?(y=this.fragmentContext,O=this.fragmentContextID):{current:y,currentTagId:O}=this.openElements,this._setContextModes(y,O)}}_setContextModes(t,i){let d=t===this.document||this.treeAdapter.getNamespaceURI(t)===Z.HTML;this.currentNotInHTML=!d,this.tokenizer.inForeignNode=!d&&!this._isIntegrationPoint(i,t)}_switchToTextParsing(t,i){this._insertElement(t,Z.HTML),this.tokenizer.state=i,this.originalInsertionMode=this.insertionMode,this.insertionMode=L.TEXT}switchToPlaintextParsing(){this.insertionMode=L.TEXT,this.originalInsertionMode=L.IN_BODY,this.tokenizer.state=Ir.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===$.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Z.HTML))switch(this.fragmentContextID){case u.TITLE:case u.TEXTAREA:{this.tokenizer.state=Ir.RCDATA;break}case u.STYLE:case u.XMP:case u.IFRAME:case u.NOEMBED:case u.NOFRAMES:case u.NOSCRIPT:{this.tokenizer.state=Ir.RAWTEXT;break}case u.SCRIPT:{this.tokenizer.state=Ir.SCRIPT_DATA;break}case u.PLAINTEXT:{this.tokenizer.state=Ir.PLAINTEXT;break}}}_setDocumentType(t){let i=t.name||"",d=t.publicId||"",E=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,i,d,E),t.location){let y=this.treeAdapter.getChildNodes(this.document).find(O=>this.treeAdapter.isDocumentTypeNode(O));y&&this.treeAdapter.setNodeSourceCodeLocation(y,t.location)}}_attachElementToTree(t,i){if(this.options.sourceCodeLocationInfo){let d=i&&{...i,startTag:i};this.treeAdapter.setNodeSourceCodeLocation(t,d)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{let d=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(d,t)}}_appendElement(t,i){let d=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(d,t.location)}_insertElement(t,i){let d=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(d,t.location),this.openElements.push(d,t.tagID)}_insertFakeElement(t,i){let d=this.treeAdapter.createElement(t,Z.HTML,[]);this._attachElementToTree(d,null),this.openElements.push(d,i)}_insertTemplate(t){let i=this.treeAdapter.createElement(t.tagName,Z.HTML,t.attrs),d=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(i,d),this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(d,null)}_insertFakeRootElement(){let t=this.treeAdapter.createElement($.HTML,Z.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,u.HTML)}_appendCommentNode(t,i){let d=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(i,d),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(d,t.location)}_insertCharacters(t){let i,d;if(this._shouldFosterParentOnInsertion()?({parent:i,beforeElement:d}=this._findFosterParentingLocation(),d?this.treeAdapter.insertTextBefore(i,t.chars,d):this.treeAdapter.insertText(i,t.chars)):(i=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(i,t.chars)),!t.location)return;let E=this.treeAdapter.getChildNodes(i),y=d?E.lastIndexOf(d):E.length,O=E[y-1];if(this.treeAdapter.getNodeSourceCodeLocation(O)){let{endLine:Y,endCol:be,endOffset:He}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(O,{endLine:Y,endCol:be,endOffset:He})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(O,t.location)}_adoptNodes(t,i){for(let d=this.treeAdapter.getFirstChild(t);d;d=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(d),this.treeAdapter.appendChild(i,d)}_setEndLocation(t,i){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&i.location){let d=i.location,E=this.treeAdapter.getTagName(t),y=i.type===ct.END_TAG&&E===i.tagName?{endTag:{...d},endLine:d.endLine,endCol:d.endCol,endOffset:d.endOffset}:{endLine:d.startLine,endCol:d.startCol,endOffset:d.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,y)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let i,d;return this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,d=this.fragmentContextID):{current:i,currentTagId:d}=this.openElements,t.tagID===u.SVG&&this.treeAdapter.getTagName(i)===$.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(i)===Z.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===u.MGLYPH||t.tagID===u.MALIGNMARK)&&!this._isIntegrationPoint(d,i,Z.HTML)}_processToken(t){switch(t.type){case ct.CHARACTER:{this.onCharacter(t);break}case ct.NULL_CHARACTER:{this.onNullCharacter(t);break}case ct.COMMENT:{this.onComment(t);break}case ct.DOCTYPE:{this.onDoctype(t);break}case ct.START_TAG:{this._processStartTag(t);break}case ct.END_TAG:{this.onEndTag(t);break}case ct.EOF:{this.onEof(t);break}case ct.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,i,d){let E=this.treeAdapter.getNamespaceURI(i),y=this.treeAdapter.getAttrList(i);return Gd(t,E,y,d)}_reconstructActiveFormattingElements(){let t=this.activeFormattingElements.entries.length;if(t){let i=this.activeFormattingElements.entries.findIndex(E=>E.type===qr.Marker||this.openElements.contains(E.element)),d=i<0?t-1:i-1;for(let E=d;E>=0;E--){let y=this.activeFormattingElements.entries[E];this._insertElement(y.token,this.treeAdapter.getNamespaceURI(y.element)),y.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=L.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(u.P),this.openElements.popUntilTagNamePopped(u.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case u.TR:{this.insertionMode=L.IN_ROW;return}case u.TBODY:case u.THEAD:case u.TFOOT:{this.insertionMode=L.IN_TABLE_BODY;return}case u.CAPTION:{this.insertionMode=L.IN_CAPTION;return}case u.COLGROUP:{this.insertionMode=L.IN_COLUMN_GROUP;return}case u.TABLE:{this.insertionMode=L.IN_TABLE;return}case u.BODY:{this.insertionMode=L.IN_BODY;return}case u.FRAMESET:{this.insertionMode=L.IN_FRAMESET;return}case u.SELECT:{this._resetInsertionModeForSelect(t);return}case u.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case u.HTML:{this.insertionMode=this.headElement?L.AFTER_HEAD:L.BEFORE_HEAD;return}case u.TD:case u.TH:{if(t>0){this.insertionMode=L.IN_CELL;return}break}case u.HEAD:{if(t>0){this.insertionMode=L.IN_HEAD;return}break}}this.insertionMode=L.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let i=t-1;i>0;i--){let d=this.openElements.tagIDs[i];if(d===u.TEMPLATE)break;if(d===u.TABLE){this.insertionMode=L.IN_SELECT_IN_TABLE;return}}this.insertionMode=L.IN_SELECT}_isElementCausesFosterParenting(t){return fg.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){let i=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case u.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(i)===Z.HTML)return{parent:this.treeAdapter.getTemplateContent(i),beforeElement:null};break}case u.TABLE:{let d=this.treeAdapter.getParentNode(i);return d?{parent:d,beforeElement:i}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){let i=this._findFosterParentingLocation();i.beforeElement?this.treeAdapter.insertBefore(i.parent,t,i.beforeElement):this.treeAdapter.appendChild(i.parent,t)}_isSpecialElement(t,i){let d=this.treeAdapter.getNamespaceURI(t);return Xf[d].has(i)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Y0(this,t);return}switch(this.insertionMode){case L.INITIAL:{Pn(this,t);break}case L.BEFORE_HTML:{$n(this,t);break}case L.BEFORE_HEAD:{Hn(this,t);break}case L.IN_HEAD:{Bn(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Un(this,t);break}case L.AFTER_HEAD:{Fn(this,t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:{Vd(this,t);break}case L.TEXT:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Yh(this,t);break}case L.IN_TABLE_TEXT:{Jd(this,t);break}case L.IN_COLUMN_GROUP:{vc(this,t);break}case L.AFTER_BODY:{kc(this,t);break}case L.AFTER_AFTER_BODY:{wc(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){W0(this,t);return}switch(this.insertionMode){case L.INITIAL:{Pn(this,t);break}case L.BEFORE_HTML:{$n(this,t);break}case L.BEFORE_HEAD:{Hn(this,t);break}case L.IN_HEAD:{Bn(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Un(this,t);break}case L.AFTER_HEAD:{Fn(this,t);break}case L.TEXT:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Yh(this,t);break}case L.IN_COLUMN_GROUP:{vc(this,t);break}case L.AFTER_BODY:{kc(this,t);break}case L.AFTER_AFTER_BODY:{wc(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Zh(this,t);return}switch(this.insertionMode){case L.INITIAL:case L.BEFORE_HTML:case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_TEMPLATE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{Zh(this,t);break}case L.IN_TABLE_TEXT:{jn(this,t);break}case L.AFTER_BODY:{Sg(this,t);break}case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{Cg(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case L.INITIAL:{kg(this,t);break}case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:{this._err(t,F.misplacedDoctype);break}case L.IN_TABLE_TEXT:{jn(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,F.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?q0(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{Pn(this,t);break}case L.BEFORE_HTML:{wg(this,t);break}case L.BEFORE_HEAD:{Ng(this,t);break}case L.IN_HEAD:{Fr(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Rg(this,t);break}case L.AFTER_HEAD:{Mg(this,t);break}case L.IN_BODY:{hr(this,t);break}case L.IN_TABLE:{Ga(this,t);break}case L.IN_TABLE_TEXT:{jn(this,t);break}case L.IN_CAPTION:{x0(this,t);break}case L.IN_COLUMN_GROUP:{qh(this,t);break}case L.IN_TABLE_BODY:{Sc(this,t);break}case L.IN_ROW:{Cc(this,t);break}case L.IN_CELL:{M0(this,t);break}case L.IN_SELECT:{tp(this,t);break}case L.IN_SELECT_IN_TABLE:{P0(this,t);break}case L.IN_TEMPLATE:{H0(this,t);break}case L.AFTER_BODY:{U0(this,t);break}case L.IN_FRAMESET:{F0(this,t);break}case L.AFTER_FRAMESET:{G0(this,t);break}case L.AFTER_AFTER_BODY:{V0(this,t);break}case L.AFTER_AFTER_FRAMESET:{Z0(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?K0(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{Pn(this,t);break}case L.BEFORE_HTML:{Ig(this,t);break}case L.BEFORE_HEAD:{Lg(this,t);break}case L.IN_HEAD:{xg(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Og(this,t);break}case L.AFTER_HEAD:{Dg(this,t);break}case L.IN_BODY:{Ac(this,t);break}case L.TEXT:{y0(this,t);break}case L.IN_TABLE:{zn(this,t);break}case L.IN_TABLE_TEXT:{jn(this,t);break}case L.IN_CAPTION:{R0(this,t);break}case L.IN_COLUMN_GROUP:{O0(this,t);break}case L.IN_TABLE_BODY:{Kh(this,t);break}case L.IN_ROW:{ep(this,t);break}case L.IN_CELL:{D0(this,t);break}case L.IN_SELECT:{rp(this,t);break}case L.IN_SELECT_IN_TABLE:{$0(this,t);break}case L.IN_TEMPLATE:{B0(this,t);break}case L.AFTER_BODY:{ap(this,t);break}case L.IN_FRAMESET:{z0(this,t);break}case L.AFTER_FRAMESET:{j0(this,t);break}case L.AFTER_AFTER_BODY:{wc(this,t);break}}}onEof(t){switch(this.insertionMode){case L.INITIAL:{Pn(this,t);break}case L.BEFORE_HTML:{$n(this,t);break}case L.BEFORE_HEAD:{Hn(this,t);break}case L.IN_HEAD:{Bn(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Un(this,t);break}case L.AFTER_HEAD:{Fn(this,t);break}case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{Qd(this,t);break}case L.TEXT:{_0(this,t);break}case L.IN_TABLE_TEXT:{jn(this,t);break}case L.IN_TEMPLATE:{sp(this,t);break}case L.AFTER_BODY:case L.IN_FRAMESET:case L.AFTER_FRAMESET:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{Wh(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===v.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.TEXT:case L.IN_COLUMN_GROUP:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{this._insertCharacters(t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:case L.AFTER_BODY:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{jd(this,t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Yh(this,t);break}case L.IN_TABLE_TEXT:{Xd(this,t);break}}}},o(pi,"Parser"),pi);function Tg(r,t){let i=r.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return i?r.openElements.contains(i.element)?r.openElements.hasInScope(t.tagID)||(i=null):(r.activeFormattingElements.removeEntry(i),i=null):Kd(r,t),i}o(Tg,"aaObtainFormattingElementEntry");function bg(r,t){let i=null,d=r.openElements.stackTop;for(;d>=0;d--){let E=r.openElements.items[d];if(E===t.element)break;r._isSpecialElement(E,r.openElements.tagIDs[d])&&(i=E)}return i||(r.openElements.shortenToLength(d<0?0:d),r.activeFormattingElements.removeEntry(t)),i}o(bg,"aaObtainFurthestBlock");function yg(r,t,i){let d=t,E=r.openElements.getCommonAncestor(t);for(let y=0,O=E;O!==i;y++,O=E){E=r.openElements.getCommonAncestor(O);let Y=r.activeFormattingElements.getElementEntry(O),be=Y&&y>=jA;!Y||be?(be&&r.activeFormattingElements.removeEntry(Y),r.openElements.remove(O)):(O=_g(r,Y),d===t&&(r.activeFormattingElements.bookmark=Y),r.treeAdapter.detachNode(d),r.treeAdapter.appendChild(O,d),d=O)}return d}o(yg,"aaInnerLoop");function _g(r,t){let i=r.treeAdapter.getNamespaceURI(t.element),d=r.treeAdapter.createElement(t.token.tagName,i,t.token.attrs);return r.openElements.replace(t.element,d),t.element=d,d}o(_g,"aaRecreateElementFromEntry");function Ag(r,t,i){let d=r.treeAdapter.getTagName(t),E=Rn(d);if(r._isElementCausesFosterParenting(E))r._fosterParentElement(i);else{let y=r.treeAdapter.getNamespaceURI(t);E===u.TEMPLATE&&y===Z.HTML&&(t=r.treeAdapter.getTemplateContent(t)),r.treeAdapter.appendChild(t,i)}}o(Ag,"aaInsertLastNodeInCommonAncestor");function vg(r,t,i){let d=r.treeAdapter.getNamespaceURI(i.element),{token:E}=i,y=r.treeAdapter.createElement(E.tagName,d,E.attrs);r._adoptNodes(t,y),r.treeAdapter.appendChild(t,y),r.activeFormattingElements.insertElementAfterBookmark(y,E),r.activeFormattingElements.removeEntry(i),r.openElements.remove(i.element),r.openElements.insertAfter(t,y,E.tagID)}o(vg,"aaReplaceFormattingElement");function Vh(r,t){for(let i=0;i<GA;i++){let d=Tg(r,t);if(!d)break;let E=bg(r,d);if(!E)break;r.activeFormattingElements.bookmark=d;let y=yg(r,E,d.element),O=r.openElements.getCommonAncestor(d.element);r.treeAdapter.detachNode(y),O&&Ag(r,O,y),vg(r,E,d)}}o(Vh,"callAdoptionAgency");function Zh(r,t){r._appendCommentNode(t,r.openElements.currentTmplContentOrNode)}o(Zh,"appendComment");function Sg(r,t){r._appendCommentNode(t,r.openElements.items[0])}o(Sg,"appendCommentToRootHtmlElement");function Cg(r,t){r._appendCommentNode(t,r.document)}o(Cg,"appendCommentToDocument");function Wh(r,t){if(r.stopped=!0,t.location){let i=r.fragmentContext?0:2;for(let d=r.openElements.stackTop;d>=i;d--)r._setEndLocation(r.openElements.items[d],t);if(!r.fragmentContext&&r.openElements.stackTop>=0){let d=r.openElements.items[0],E=r.treeAdapter.getNodeSourceCodeLocation(d);if(E&&!E.endTag&&(r._setEndLocation(d,t),r.openElements.stackTop>=1)){let y=r.openElements.items[1],O=r.treeAdapter.getNodeSourceCodeLocation(y);O&&!O.endTag&&r._setEndLocation(y,t)}}}}o(Wh,"stopParsing");function kg(r,t){r._setDocumentType(t);let i=t.forceQuirks?wr.QUIRKS:hg(t);cg(t)||r._err(t,F.nonConformingDoctype),r.treeAdapter.setDocumentMode(r.document,i),r.insertionMode=L.BEFORE_HTML}o(kg,"doctypeInInitialMode");function Pn(r,t){r._err(t,F.missingDoctype,!0),r.treeAdapter.setDocumentMode(r.document,wr.QUIRKS),r.insertionMode=L.BEFORE_HTML,r._processToken(t)}o(Pn,"tokenInInitialMode");function wg(r,t){t.tagID===u.HTML?(r._insertElement(t,Z.HTML),r.insertionMode=L.BEFORE_HEAD):$n(r,t)}o(wg,"startTagBeforeHtml");function Ig(r,t){let i=t.tagID;(i===u.HTML||i===u.HEAD||i===u.BODY||i===u.BR)&&$n(r,t)}o(Ig,"endTagBeforeHtml");function $n(r,t){r._insertFakeRootElement(),r.insertionMode=L.BEFORE_HEAD,r._processToken(t)}o($n,"tokenBeforeHtml");function Ng(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.HEAD:{r._insertElement(t,Z.HTML),r.headElement=r.openElements.current,r.insertionMode=L.IN_HEAD;break}default:Hn(r,t)}}o(Ng,"startTagBeforeHead");function Lg(r,t){let i=t.tagID;i===u.HEAD||i===u.BODY||i===u.HTML||i===u.BR?Hn(r,t):r._err(t,F.endTagWithoutMatchingOpenElement)}o(Lg,"endTagBeforeHead");function Hn(r,t){r._insertFakeElement($.HEAD,u.HEAD),r.headElement=r.openElements.current,r.insertionMode=L.IN_HEAD,r._processToken(t)}o(Hn,"tokenBeforeHead");function Fr(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.BASE:case u.BASEFONT:case u.BGSOUND:case u.LINK:case u.META:{r._appendElement(t,Z.HTML),t.ackSelfClosing=!0;break}case u.TITLE:{r._switchToTextParsing(t,Ir.RCDATA);break}case u.NOSCRIPT:{r.options.scriptingEnabled?r._switchToTextParsing(t,Ir.RAWTEXT):(r._insertElement(t,Z.HTML),r.insertionMode=L.IN_HEAD_NO_SCRIPT);break}case u.NOFRAMES:case u.STYLE:{r._switchToTextParsing(t,Ir.RAWTEXT);break}case u.SCRIPT:{r._switchToTextParsing(t,Ir.SCRIPT_DATA);break}case u.TEMPLATE:{r._insertTemplate(t),r.activeFormattingElements.insertMarker(),r.framesetOk=!1,r.insertionMode=L.IN_TEMPLATE,r.tmplInsertionModeStack.unshift(L.IN_TEMPLATE);break}case u.HEAD:{r._err(t,F.misplacedStartTagForHeadElement);break}default:Bn(r,t)}}o(Fr,"startTagInHead");function xg(r,t){switch(t.tagID){case u.HEAD:{r.openElements.pop(),r.insertionMode=L.AFTER_HEAD;break}case u.BODY:case u.BR:case u.HTML:{Bn(r,t);break}case u.TEMPLATE:{ca(r,t);break}default:r._err(t,F.endTagWithoutMatchingOpenElement)}}o(xg,"endTagInHead");function ca(r,t){r.openElements.tmplCount>0?(r.openElements.generateImpliedEndTagsThoroughly(),r.openElements.currentTagId!==u.TEMPLATE&&r._err(t,F.closingOfElementWithOpenChildElements),r.openElements.popUntilTagNamePopped(u.TEMPLATE),r.activeFormattingElements.clearToLastMarker(),r.tmplInsertionModeStack.shift(),r._resetInsertionMode()):r._err(t,F.endTagWithoutMatchingOpenElement)}o(ca,"templateEndTagInHead");function Bn(r,t){r.openElements.pop(),r.insertionMode=L.AFTER_HEAD,r._processToken(t)}o(Bn,"tokenInHead");function Rg(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.BASEFONT:case u.BGSOUND:case u.HEAD:case u.LINK:case u.META:case u.NOFRAMES:case u.STYLE:{Fr(r,t);break}case u.NOSCRIPT:{r._err(t,F.nestedNoscriptInHead);break}default:Un(r,t)}}o(Rg,"startTagInHeadNoScript");function Og(r,t){switch(t.tagID){case u.NOSCRIPT:{r.openElements.pop(),r.insertionMode=L.IN_HEAD;break}case u.BR:{Un(r,t);break}default:r._err(t,F.endTagWithoutMatchingOpenElement)}}o(Og,"endTagInHeadNoScript");function Un(r,t){let i=t.type===ct.EOF?F.openElementsLeftAfterEof:F.disallowedContentInNoscriptInHead;r._err(t,i),r.openElements.pop(),r.insertionMode=L.IN_HEAD,r._processToken(t)}o(Un,"tokenInHeadNoScript");function Mg(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.BODY:{r._insertElement(t,Z.HTML),r.framesetOk=!1,r.insertionMode=L.IN_BODY;break}case u.FRAMESET:{r._insertElement(t,Z.HTML),r.insertionMode=L.IN_FRAMESET;break}case u.BASE:case u.BASEFONT:case u.BGSOUND:case u.LINK:case u.META:case u.NOFRAMES:case u.SCRIPT:case u.STYLE:case u.TEMPLATE:case u.TITLE:{r._err(t,F.abandonedHeadElementChild),r.openElements.push(r.headElement,u.HEAD),Fr(r,t),r.openElements.remove(r.headElement);break}case u.HEAD:{r._err(t,F.misplacedStartTagForHeadElement);break}default:Fn(r,t)}}o(Mg,"startTagAfterHead");function Dg(r,t){switch(t.tagID){case u.BODY:case u.HTML:case u.BR:{Fn(r,t);break}case u.TEMPLATE:{ca(r,t);break}default:r._err(t,F.endTagWithoutMatchingOpenElement)}}o(Dg,"endTagAfterHead");function Fn(r,t){r._insertFakeElement($.BODY,u.BODY),r.insertionMode=L.IN_BODY,_c(r,t)}o(Fn,"tokenAfterHead");function _c(r,t){switch(t.type){case ct.CHARACTER:{Vd(r,t);break}case ct.WHITESPACE_CHARACTER:{jd(r,t);break}case ct.COMMENT:{Zh(r,t);break}case ct.START_TAG:{hr(r,t);break}case ct.END_TAG:{Ac(r,t);break}case ct.EOF:{Qd(r,t);break}}}o(_c,"modeInBody");function jd(r,t){r._reconstructActiveFormattingElements(),r._insertCharacters(t)}o(jd,"whitespaceCharacterInBody");function Vd(r,t){r._reconstructActiveFormattingElements(),r._insertCharacters(t),r.framesetOk=!1}o(Vd,"characterInBody");function Pg(r,t){r.openElements.tmplCount===0&&r.treeAdapter.adoptAttributes(r.openElements.items[0],t.attrs)}o(Pg,"htmlStartTagInBody");function $g(r,t){let i=r.openElements.tryPeekProperlyNestedBodyElement();i&&r.openElements.tmplCount===0&&(r.framesetOk=!1,r.treeAdapter.adoptAttributes(i,t.attrs))}o($g,"bodyStartTagInBody");function Hg(r,t){let i=r.openElements.tryPeekProperlyNestedBodyElement();r.framesetOk&&i&&(r.treeAdapter.detachNode(i),r.openElements.popAllUpToHtmlElement(),r._insertElement(t,Z.HTML),r.insertionMode=L.IN_FRAMESET)}o(Hg,"framesetStartTagInBody");function Bg(r,t){r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._insertElement(t,Z.HTML)}o(Bg,"addressStartTagInBody");function Ug(r,t){r.openElements.hasInButtonScope(u.P)&&r._closePElement(),Uh(r.openElements.currentTagId)&&r.openElements.pop(),r._insertElement(t,Z.HTML)}o(Ug,"numberedHeaderStartTagInBody");function Fg(r,t){r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._insertElement(t,Z.HTML),r.skipNextNewLine=!0,r.framesetOk=!1}o(Fg,"preStartTagInBody");function zg(r,t){let i=r.openElements.tmplCount>0;(!r.formElement||i)&&(r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._insertElement(t,Z.HTML),i||(r.formElement=r.openElements.current))}o(zg,"formStartTagInBody");function Gg(r,t){r.framesetOk=!1;let i=t.tagID;for(let d=r.openElements.stackTop;d>=0;d--){let E=r.openElements.tagIDs[d];if(i===u.LI&&E===u.LI||(i===u.DD||i===u.DT)&&(E===u.DD||E===u.DT)){r.openElements.generateImpliedEndTagsWithExclusion(E),r.openElements.popUntilTagNamePopped(E);break}if(E!==u.ADDRESS&&E!==u.DIV&&E!==u.P&&r._isSpecialElement(r.openElements.items[d],E))break}r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._insertElement(t,Z.HTML)}o(Gg,"listItemStartTagInBody");function jg(r,t){r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._insertElement(t,Z.HTML),r.tokenizer.state=Ir.PLAINTEXT}o(jg,"plaintextStartTagInBody");function Vg(r,t){r.openElements.hasInScope(u.BUTTON)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(u.BUTTON)),r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML),r.framesetOk=!1}o(Vg,"buttonStartTagInBody");function Zg(r,t){let i=r.activeFormattingElements.getElementEntryInScopeWithTagName($.A);i&&(Vh(r,t),r.openElements.remove(i.element),r.activeFormattingElements.removeEntry(i)),r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML),r.activeFormattingElements.pushElement(r.openElements.current,t)}o(Zg,"aStartTagInBody");function Wg(r,t){r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML),r.activeFormattingElements.pushElement(r.openElements.current,t)}o(Wg,"bStartTagInBody");function Yg(r,t){r._reconstructActiveFormattingElements(),r.openElements.hasInScope(u.NOBR)&&(Vh(r,t),r._reconstructActiveFormattingElements()),r._insertElement(t,Z.HTML),r.activeFormattingElements.pushElement(r.openElements.current,t)}o(Yg,"nobrStartTagInBody");function qg(r,t){r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML),r.activeFormattingElements.insertMarker(),r.framesetOk=!1}o(qg,"appletStartTagInBody");function Kg(r,t){r.treeAdapter.getDocumentMode(r.document)!==wr.QUIRKS&&r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._insertElement(t,Z.HTML),r.framesetOk=!1,r.insertionMode=L.IN_TABLE}o(Kg,"tableStartTagInBody");function Zd(r,t){r._reconstructActiveFormattingElements(),r._appendElement(t,Z.HTML),r.framesetOk=!1,t.ackSelfClosing=!0}o(Zd,"areaStartTagInBody");function Wd(r){let t=Hh(r,Cs.TYPE);return t!=null&&t.toLowerCase()===zA}o(Wd,"isHiddenInput");function Qg(r,t){r._reconstructActiveFormattingElements(),r._appendElement(t,Z.HTML),Wd(t)||(r.framesetOk=!1),t.ackSelfClosing=!0}o(Qg,"inputStartTagInBody");function Xg(r,t){r._appendElement(t,Z.HTML),t.ackSelfClosing=!0}o(Xg,"paramStartTagInBody");function Jg(r,t){r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._appendElement(t,Z.HTML),r.framesetOk=!1,t.ackSelfClosing=!0}o(Jg,"hrStartTagInBody");function e0(r,t){t.tagName=$.IMG,t.tagID=u.IMG,Zd(r,t)}o(e0,"imageStartTagInBody");function t0(r,t){r._insertElement(t,Z.HTML),r.skipNextNewLine=!0,r.tokenizer.state=Ir.RCDATA,r.originalInsertionMode=r.insertionMode,r.framesetOk=!1,r.insertionMode=L.TEXT}o(t0,"textareaStartTagInBody");function r0(r,t){r.openElements.hasInButtonScope(u.P)&&r._closePElement(),r._reconstructActiveFormattingElements(),r.framesetOk=!1,r._switchToTextParsing(t,Ir.RAWTEXT)}o(r0,"xmpStartTagInBody");function s0(r,t){r.framesetOk=!1,r._switchToTextParsing(t,Ir.RAWTEXT)}o(s0,"iframeStartTagInBody");function Yd(r,t){r._switchToTextParsing(t,Ir.RAWTEXT)}o(Yd,"noembedStartTagInBody");function a0(r,t){r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML),r.framesetOk=!1,r.insertionMode=r.insertionMode===L.IN_TABLE||r.insertionMode===L.IN_CAPTION||r.insertionMode===L.IN_TABLE_BODY||r.insertionMode===L.IN_ROW||r.insertionMode===L.IN_CELL?L.IN_SELECT_IN_TABLE:L.IN_SELECT}o(a0,"selectStartTagInBody");function n0(r,t){r.openElements.currentTagId===u.OPTION&&r.openElements.pop(),r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML)}o(n0,"optgroupStartTagInBody");function i0(r,t){r.openElements.hasInScope(u.RUBY)&&r.openElements.generateImpliedEndTags(),r._insertElement(t,Z.HTML)}o(i0,"rbStartTagInBody");function o0(r,t){r.openElements.hasInScope(u.RUBY)&&r.openElements.generateImpliedEndTagsWithExclusion(u.RTC),r._insertElement(t,Z.HTML)}o(o0,"rtStartTagInBody");function l0(r,t){r._reconstructActiveFormattingElements(),Gh(t),yc(t),t.selfClosing?r._appendElement(t,Z.MATHML):r._insertElement(t,Z.MATHML),t.ackSelfClosing=!0}o(l0,"mathStartTagInBody");function c0(r,t){r._reconstructActiveFormattingElements(),jh(t),yc(t),t.selfClosing?r._appendElement(t,Z.SVG):r._insertElement(t,Z.SVG),t.ackSelfClosing=!0}o(c0,"svgStartTagInBody");function qd(r,t){r._reconstructActiveFormattingElements(),r._insertElement(t,Z.HTML)}o(qd,"genericStartTagInBody");function hr(r,t){switch(t.tagID){case u.I:case u.S:case u.B:case u.U:case u.EM:case u.TT:case u.BIG:case u.CODE:case u.FONT:case u.SMALL:case u.STRIKE:case u.STRONG:{Wg(r,t);break}case u.A:{Zg(r,t);break}case u.H1:case u.H2:case u.H3:case u.H4:case u.H5:case u.H6:{Ug(r,t);break}case u.P:case u.DL:case u.OL:case u.UL:case u.DIV:case u.DIR:case u.NAV:case u.MAIN:case u.MENU:case u.ASIDE:case u.CENTER:case u.FIGURE:case u.FOOTER:case u.HEADER:case u.HGROUP:case u.DIALOG:case u.DETAILS:case u.ADDRESS:case u.ARTICLE:case u.SECTION:case u.SUMMARY:case u.FIELDSET:case u.BLOCKQUOTE:case u.FIGCAPTION:{Bg(r,t);break}case u.LI:case u.DD:case u.DT:{Gg(r,t);break}case u.BR:case u.IMG:case u.WBR:case u.AREA:case u.EMBED:case u.KEYGEN:{Zd(r,t);break}case u.HR:{Jg(r,t);break}case u.RB:case u.RTC:{i0(r,t);break}case u.RT:case u.RP:{o0(r,t);break}case u.PRE:case u.LISTING:{Fg(r,t);break}case u.XMP:{r0(r,t);break}case u.SVG:{c0(r,t);break}case u.HTML:{Pg(r,t);break}case u.BASE:case u.LINK:case u.META:case u.STYLE:case u.TITLE:case u.SCRIPT:case u.BGSOUND:case u.BASEFONT:case u.TEMPLATE:{Fr(r,t);break}case u.BODY:{$g(r,t);break}case u.FORM:{zg(r,t);break}case u.NOBR:{Yg(r,t);break}case u.MATH:{l0(r,t);break}case u.TABLE:{Kg(r,t);break}case u.INPUT:{Qg(r,t);break}case u.PARAM:case u.TRACK:case u.SOURCE:{Xg(r,t);break}case u.IMAGE:{e0(r,t);break}case u.BUTTON:{Vg(r,t);break}case u.APPLET:case u.OBJECT:case u.MARQUEE:{qg(r,t);break}case u.IFRAME:{s0(r,t);break}case u.SELECT:{a0(r,t);break}case u.OPTION:case u.OPTGROUP:{n0(r,t);break}case u.NOEMBED:{Yd(r,t);break}case u.FRAMESET:{Hg(r,t);break}case u.TEXTAREA:{t0(r,t);break}case u.NOSCRIPT:{r.options.scriptingEnabled?Yd(r,t):qd(r,t);break}case u.PLAINTEXT:{jg(r,t);break}case u.COL:case u.TH:case u.TD:case u.TR:case u.HEAD:case u.FRAME:case u.TBODY:case u.TFOOT:case u.THEAD:case u.CAPTION:case u.COLGROUP:break;default:qd(r,t)}}o(hr,"startTagInBody");function h0(r,t){if(r.openElements.hasInScope(u.BODY)&&(r.insertionMode=L.AFTER_BODY,r.options.sourceCodeLocationInfo)){let i=r.openElements.tryPeekProperlyNestedBodyElement();i&&r._setEndLocation(i,t)}}o(h0,"bodyEndTagInBody");function u0(r,t){r.openElements.hasInScope(u.BODY)&&(r.insertionMode=L.AFTER_BODY,ap(r,t))}o(u0,"htmlEndTagInBody");function d0(r,t){let i=t.tagID;r.openElements.hasInScope(i)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(i))}o(d0,"addressEndTagInBody");function p0(r){let t=r.openElements.tmplCount>0,{formElement:i}=r;t||(r.formElement=null),(i||t)&&r.openElements.hasInScope(u.FORM)&&(r.openElements.generateImpliedEndTags(),t?r.openElements.popUntilTagNamePopped(u.FORM):i&&r.openElements.remove(i))}o(p0,"formEndTagInBody");function m0(r){r.openElements.hasInButtonScope(u.P)||r._insertFakeElement($.P,u.P),r._closePElement()}o(m0,"pEndTagInBody");function f0(r){r.openElements.hasInListItemScope(u.LI)&&(r.openElements.generateImpliedEndTagsWithExclusion(u.LI),r.openElements.popUntilTagNamePopped(u.LI))}o(f0,"liEndTagInBody");function g0(r,t){let i=t.tagID;r.openElements.hasInScope(i)&&(r.openElements.generateImpliedEndTagsWithExclusion(i),r.openElements.popUntilTagNamePopped(i))}o(g0,"ddEndTagInBody");function E0(r){r.openElements.hasNumberedHeaderInScope()&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilNumberedHeaderPopped())}o(E0,"numberedHeaderEndTagInBody");function T0(r,t){let i=t.tagID;r.openElements.hasInScope(i)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(i),r.activeFormattingElements.clearToLastMarker())}o(T0,"appletEndTagInBody");function b0(r){r._reconstructActiveFormattingElements(),r._insertFakeElement($.BR,u.BR),r.openElements.pop(),r.framesetOk=!1}o(b0,"brEndTagInBody");function Kd(r,t){let i=t.tagName,d=t.tagID;for(let E=r.openElements.stackTop;E>0;E--){let y=r.openElements.items[E],O=r.openElements.tagIDs[E];if(d===O&&(d!==u.UNKNOWN||r.treeAdapter.getTagName(y)===i)){r.openElements.generateImpliedEndTagsWithExclusion(d),r.openElements.stackTop>=E&&r.openElements.shortenToLength(E);break}if(r._isSpecialElement(y,O))break}}o(Kd,"genericEndTagInBody");function Ac(r,t){switch(t.tagID){case u.A:case u.B:case u.I:case u.S:case u.U:case u.EM:case u.TT:case u.BIG:case u.CODE:case u.FONT:case u.NOBR:case u.SMALL:case u.STRIKE:case u.STRONG:{Vh(r,t);break}case u.P:{m0(r);break}case u.DL:case u.UL:case u.OL:case u.DIR:case u.DIV:case u.NAV:case u.PRE:case u.MAIN:case u.MENU:case u.ASIDE:case u.BUTTON:case u.CENTER:case u.FIGURE:case u.FOOTER:case u.HEADER:case u.HGROUP:case u.DIALOG:case u.ADDRESS:case u.ARTICLE:case u.DETAILS:case u.SECTION:case u.SUMMARY:case u.LISTING:case u.FIELDSET:case u.BLOCKQUOTE:case u.FIGCAPTION:{d0(r,t);break}case u.LI:{f0(r);break}case u.DD:case u.DT:{g0(r,t);break}case u.H1:case u.H2:case u.H3:case u.H4:case u.H5:case u.H6:{E0(r);break}case u.BR:{b0(r);break}case u.BODY:{h0(r,t);break}case u.HTML:{u0(r,t);break}case u.FORM:{p0(r);break}case u.APPLET:case u.OBJECT:case u.MARQUEE:{T0(r,t);break}case u.TEMPLATE:{ca(r,t);break}default:Kd(r,t)}}o(Ac,"endTagInBody");function Qd(r,t){r.tmplInsertionModeStack.length>0?sp(r,t):Wh(r,t)}o(Qd,"eofInBody");function y0(r,t){var i;t.tagID===u.SCRIPT&&((i=r.scriptHandler)===null||i===void 0||i.call(r,r.openElements.current)),r.openElements.pop(),r.insertionMode=r.originalInsertionMode}o(y0,"endTagInText");function _0(r,t){r._err(t,F.eofInElementThatCanContainOnlyText),r.openElements.pop(),r.insertionMode=r.originalInsertionMode,r.onEof(t)}o(_0,"eofInText");function Yh(r,t){if(fg.has(r.openElements.currentTagId))switch(r.pendingCharacterTokens.length=0,r.hasNonWhitespacePendingCharacterToken=!1,r.originalInsertionMode=r.insertionMode,r.insertionMode=L.IN_TABLE_TEXT,t.type){case ct.CHARACTER:{Jd(r,t);break}case ct.WHITESPACE_CHARACTER:{Xd(r,t);break}}else Gn(r,t)}o(Yh,"characterInTable");function A0(r,t){r.openElements.clearBackToTableContext(),r.activeFormattingElements.insertMarker(),r._insertElement(t,Z.HTML),r.insertionMode=L.IN_CAPTION}o(A0,"captionStartTagInTable");function v0(r,t){r.openElements.clearBackToTableContext(),r._insertElement(t,Z.HTML),r.insertionMode=L.IN_COLUMN_GROUP}o(v0,"colgroupStartTagInTable");function S0(r,t){r.openElements.clearBackToTableContext(),r._insertFakeElement($.COLGROUP,u.COLGROUP),r.insertionMode=L.IN_COLUMN_GROUP,qh(r,t)}o(S0,"colStartTagInTable");function C0(r,t){r.openElements.clearBackToTableContext(),r._insertElement(t,Z.HTML),r.insertionMode=L.IN_TABLE_BODY}o(C0,"tbodyStartTagInTable");function k0(r,t){r.openElements.clearBackToTableContext(),r._insertFakeElement($.TBODY,u.TBODY),r.insertionMode=L.IN_TABLE_BODY,Sc(r,t)}o(k0,"tdStartTagInTable");function w0(r,t){r.openElements.hasInTableScope(u.TABLE)&&(r.openElements.popUntilTagNamePopped(u.TABLE),r._resetInsertionMode(),r._processStartTag(t))}o(w0,"tableStartTagInTable");function I0(r,t){Wd(t)?r._appendElement(t,Z.HTML):Gn(r,t),t.ackSelfClosing=!0}o(I0,"inputStartTagInTable");function N0(r,t){!r.formElement&&r.openElements.tmplCount===0&&(r._insertElement(t,Z.HTML),r.formElement=r.openElements.current,r.openElements.pop())}o(N0,"formStartTagInTable");function Ga(r,t){switch(t.tagID){case u.TD:case u.TH:case u.TR:{k0(r,t);break}case u.STYLE:case u.SCRIPT:case u.TEMPLATE:{Fr(r,t);break}case u.COL:{S0(r,t);break}case u.FORM:{N0(r,t);break}case u.TABLE:{w0(r,t);break}case u.TBODY:case u.TFOOT:case u.THEAD:{C0(r,t);break}case u.INPUT:{I0(r,t);break}case u.CAPTION:{A0(r,t);break}case u.COLGROUP:{v0(r,t);break}default:Gn(r,t)}}o(Ga,"startTagInTable");function zn(r,t){switch(t.tagID){case u.TABLE:{r.openElements.hasInTableScope(u.TABLE)&&(r.openElements.popUntilTagNamePopped(u.TABLE),r._resetInsertionMode());break}case u.TEMPLATE:{ca(r,t);break}case u.BODY:case u.CAPTION:case u.COL:case u.COLGROUP:case u.HTML:case u.TBODY:case u.TD:case u.TFOOT:case u.TH:case u.THEAD:case u.TR:break;default:Gn(r,t)}}o(zn,"endTagInTable");function Gn(r,t){let i=r.fosterParentingEnabled;r.fosterParentingEnabled=!0,_c(r,t),r.fosterParentingEnabled=i}o(Gn,"tokenInTable");function Xd(r,t){r.pendingCharacterTokens.push(t)}o(Xd,"whitespaceCharacterInTableText");function Jd(r,t){r.pendingCharacterTokens.push(t),r.hasNonWhitespacePendingCharacterToken=!0}o(Jd,"characterInTableText");function jn(r,t){let i=0;if(r.hasNonWhitespacePendingCharacterToken)for(;i<r.pendingCharacterTokens.length;i++)Gn(r,r.pendingCharacterTokens[i]);else for(;i<r.pendingCharacterTokens.length;i++)r._insertCharacters(r.pendingCharacterTokens[i]);r.insertionMode=r.originalInsertionMode,r._processToken(t)}o(jn,"tokenInTableText");var L0=new Set([u.CAPTION,u.COL,u.COLGROUP,u.TBODY,u.TD,u.TFOOT,u.TH,u.THEAD,u.TR]);function x0(r,t){let i=t.tagID;L0.has(i)?r.openElements.hasInTableScope(u.CAPTION)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(u.CAPTION),r.activeFormattingElements.clearToLastMarker(),r.insertionMode=L.IN_TABLE,Ga(r,t)):hr(r,t)}o(x0,"startTagInCaption");function R0(r,t){let i=t.tagID;switch(i){case u.CAPTION:case u.TABLE:{r.openElements.hasInTableScope(u.CAPTION)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(u.CAPTION),r.activeFormattingElements.clearToLastMarker(),r.insertionMode=L.IN_TABLE,i===u.TABLE&&zn(r,t));break}case u.BODY:case u.COL:case u.COLGROUP:case u.HTML:case u.TBODY:case u.TD:case u.TFOOT:case u.TH:case u.THEAD:case u.TR:break;default:Ac(r,t)}}o(R0,"endTagInCaption");function qh(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.COL:{r._appendElement(t,Z.HTML),t.ackSelfClosing=!0;break}case u.TEMPLATE:{Fr(r,t);break}default:vc(r,t)}}o(qh,"startTagInColumnGroup");function O0(r,t){switch(t.tagID){case u.COLGROUP:{r.openElements.currentTagId===u.COLGROUP&&(r.openElements.pop(),r.insertionMode=L.IN_TABLE);break}case u.TEMPLATE:{ca(r,t);break}case u.COL:break;default:vc(r,t)}}o(O0,"endTagInColumnGroup");function vc(r,t){r.openElements.currentTagId===u.COLGROUP&&(r.openElements.pop(),r.insertionMode=L.IN_TABLE,r._processToken(t))}o(vc,"tokenInColumnGroup");function Sc(r,t){switch(t.tagID){case u.TR:{r.openElements.clearBackToTableBodyContext(),r._insertElement(t,Z.HTML),r.insertionMode=L.IN_ROW;break}case u.TH:case u.TD:{r.openElements.clearBackToTableBodyContext(),r._insertFakeElement($.TR,u.TR),r.insertionMode=L.IN_ROW,Cc(r,t);break}case u.CAPTION:case u.COL:case u.COLGROUP:case u.TBODY:case u.TFOOT:case u.THEAD:{r.openElements.hasTableBodyContextInTableScope()&&(r.openElements.clearBackToTableBodyContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE,Ga(r,t));break}default:Ga(r,t)}}o(Sc,"startTagInTableBody");function Kh(r,t){let i=t.tagID;switch(t.tagID){case u.TBODY:case u.TFOOT:case u.THEAD:{r.openElements.hasInTableScope(i)&&(r.openElements.clearBackToTableBodyContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE);break}case u.TABLE:{r.openElements.hasTableBodyContextInTableScope()&&(r.openElements.clearBackToTableBodyContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE,zn(r,t));break}case u.BODY:case u.CAPTION:case u.COL:case u.COLGROUP:case u.HTML:case u.TD:case u.TH:case u.TR:break;default:zn(r,t)}}o(Kh,"endTagInTableBody");function Cc(r,t){switch(t.tagID){case u.TH:case u.TD:{r.openElements.clearBackToTableRowContext(),r._insertElement(t,Z.HTML),r.insertionMode=L.IN_CELL,r.activeFormattingElements.insertMarker();break}case u.CAPTION:case u.COL:case u.COLGROUP:case u.TBODY:case u.TFOOT:case u.THEAD:case u.TR:{r.openElements.hasInTableScope(u.TR)&&(r.openElements.clearBackToTableRowContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE_BODY,Sc(r,t));break}default:Ga(r,t)}}o(Cc,"startTagInRow");function ep(r,t){switch(t.tagID){case u.TR:{r.openElements.hasInTableScope(u.TR)&&(r.openElements.clearBackToTableRowContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE_BODY);break}case u.TABLE:{r.openElements.hasInTableScope(u.TR)&&(r.openElements.clearBackToTableRowContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE_BODY,Kh(r,t));break}case u.TBODY:case u.TFOOT:case u.THEAD:{(r.openElements.hasInTableScope(t.tagID)||r.openElements.hasInTableScope(u.TR))&&(r.openElements.clearBackToTableRowContext(),r.openElements.pop(),r.insertionMode=L.IN_TABLE_BODY,Kh(r,t));break}case u.BODY:case u.CAPTION:case u.COL:case u.COLGROUP:case u.HTML:case u.TD:case u.TH:break;default:zn(r,t)}}o(ep,"endTagInRow");function M0(r,t){let i=t.tagID;L0.has(i)?(r.openElements.hasInTableScope(u.TD)||r.openElements.hasInTableScope(u.TH))&&(r._closeTableCell(),Cc(r,t)):hr(r,t)}o(M0,"startTagInCell");function D0(r,t){let i=t.tagID;switch(i){case u.TD:case u.TH:{r.openElements.hasInTableScope(i)&&(r.openElements.generateImpliedEndTags(),r.openElements.popUntilTagNamePopped(i),r.activeFormattingElements.clearToLastMarker(),r.insertionMode=L.IN_ROW);break}case u.TABLE:case u.TBODY:case u.TFOOT:case u.THEAD:case u.TR:{r.openElements.hasInTableScope(i)&&(r._closeTableCell(),ep(r,t));break}case u.BODY:case u.CAPTION:case u.COL:case u.COLGROUP:case u.HTML:break;default:Ac(r,t)}}o(D0,"endTagInCell");function tp(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.OPTION:{r.openElements.currentTagId===u.OPTION&&r.openElements.pop(),r._insertElement(t,Z.HTML);break}case u.OPTGROUP:{r.openElements.currentTagId===u.OPTION&&r.openElements.pop(),r.openElements.currentTagId===u.OPTGROUP&&r.openElements.pop(),r._insertElement(t,Z.HTML);break}case u.INPUT:case u.KEYGEN:case u.TEXTAREA:case u.SELECT:{r.openElements.hasInSelectScope(u.SELECT)&&(r.openElements.popUntilTagNamePopped(u.SELECT),r._resetInsertionMode(),t.tagID!==u.SELECT&&r._processStartTag(t));break}case u.SCRIPT:case u.TEMPLATE:{Fr(r,t);break}}}o(tp,"startTagInSelect");function rp(r,t){switch(t.tagID){case u.OPTGROUP:{r.openElements.stackTop>0&&r.openElements.currentTagId===u.OPTION&&r.openElements.tagIDs[r.openElements.stackTop-1]===u.OPTGROUP&&r.openElements.pop(),r.openElements.currentTagId===u.OPTGROUP&&r.openElements.pop();break}case u.OPTION:{r.openElements.currentTagId===u.OPTION&&r.openElements.pop();break}case u.SELECT:{r.openElements.hasInSelectScope(u.SELECT)&&(r.openElements.popUntilTagNamePopped(u.SELECT),r._resetInsertionMode());break}case u.TEMPLATE:{ca(r,t);break}}}o(rp,"endTagInSelect");function P0(r,t){let i=t.tagID;i===u.CAPTION||i===u.TABLE||i===u.TBODY||i===u.TFOOT||i===u.THEAD||i===u.TR||i===u.TD||i===u.TH?(r.openElements.popUntilTagNamePopped(u.SELECT),r._resetInsertionMode(),r._processStartTag(t)):tp(r,t)}o(P0,"startTagInSelectInTable");function $0(r,t){let i=t.tagID;i===u.CAPTION||i===u.TABLE||i===u.TBODY||i===u.TFOOT||i===u.THEAD||i===u.TR||i===u.TD||i===u.TH?r.openElements.hasInTableScope(i)&&(r.openElements.popUntilTagNamePopped(u.SELECT),r._resetInsertionMode(),r.onEndTag(t)):rp(r,t)}o($0,"endTagInSelectInTable");function H0(r,t){switch(t.tagID){case u.BASE:case u.BASEFONT:case u.BGSOUND:case u.LINK:case u.META:case u.NOFRAMES:case u.SCRIPT:case u.STYLE:case u.TEMPLATE:case u.TITLE:{Fr(r,t);break}case u.CAPTION:case u.COLGROUP:case u.TBODY:case u.TFOOT:case u.THEAD:{r.tmplInsertionModeStack[0]=L.IN_TABLE,r.insertionMode=L.IN_TABLE,Ga(r,t);break}case u.COL:{r.tmplInsertionModeStack[0]=L.IN_COLUMN_GROUP,r.insertionMode=L.IN_COLUMN_GROUP,qh(r,t);break}case u.TR:{r.tmplInsertionModeStack[0]=L.IN_TABLE_BODY,r.insertionMode=L.IN_TABLE_BODY,Sc(r,t);break}case u.TD:case u.TH:{r.tmplInsertionModeStack[0]=L.IN_ROW,r.insertionMode=L.IN_ROW,Cc(r,t);break}default:r.tmplInsertionModeStack[0]=L.IN_BODY,r.insertionMode=L.IN_BODY,hr(r,t)}}o(H0,"startTagInTemplate");function B0(r,t){t.tagID===u.TEMPLATE&&ca(r,t)}o(B0,"endTagInTemplate");function sp(r,t){r.openElements.tmplCount>0?(r.openElements.popUntilTagNamePopped(u.TEMPLATE),r.activeFormattingElements.clearToLastMarker(),r.tmplInsertionModeStack.shift(),r._resetInsertionMode(),r.onEof(t)):Wh(r,t)}o(sp,"eofInTemplate");function U0(r,t){t.tagID===u.HTML?hr(r,t):kc(r,t)}o(U0,"startTagAfterBody");function ap(r,t){var i;if(t.tagID===u.HTML){if(r.fragmentContext||(r.insertionMode=L.AFTER_AFTER_BODY),r.options.sourceCodeLocationInfo&&r.openElements.tagIDs[0]===u.HTML){r._setEndLocation(r.openElements.items[0],t);let d=r.openElements.items[1];d&&!(!((i=r.treeAdapter.getNodeSourceCodeLocation(d))===null||i===void 0)&&i.endTag)&&r._setEndLocation(d,t)}}else kc(r,t)}o(ap,"endTagAfterBody");function kc(r,t){r.insertionMode=L.IN_BODY,_c(r,t)}o(kc,"tokenAfterBody");function F0(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.FRAMESET:{r._insertElement(t,Z.HTML);break}case u.FRAME:{r._appendElement(t,Z.HTML),t.ackSelfClosing=!0;break}case u.NOFRAMES:{Fr(r,t);break}}}o(F0,"startTagInFrameset");function z0(r,t){t.tagID===u.FRAMESET&&!r.openElements.isRootHtmlElementCurrent()&&(r.openElements.pop(),!r.fragmentContext&&r.openElements.currentTagId!==u.FRAMESET&&(r.insertionMode=L.AFTER_FRAMESET))}o(z0,"endTagInFrameset");function G0(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.NOFRAMES:{Fr(r,t);break}}}o(G0,"startTagAfterFrameset");function j0(r,t){t.tagID===u.HTML&&(r.insertionMode=L.AFTER_AFTER_FRAMESET)}o(j0,"endTagAfterFrameset");function V0(r,t){t.tagID===u.HTML?hr(r,t):wc(r,t)}o(V0,"startTagAfterAfterBody");function wc(r,t){r.insertionMode=L.IN_BODY,_c(r,t)}o(wc,"tokenAfterAfterBody");function Z0(r,t){switch(t.tagID){case u.HTML:{hr(r,t);break}case u.NOFRAMES:{Fr(r,t);break}}}o(Z0,"startTagAfterAfterFrameset");function W0(r,t){t.chars=Dt,r._insertCharacters(t)}o(W0,"nullCharacterInForeignContent");function Y0(r,t){r._insertCharacters(t),r.framesetOk=!1}o(Y0,"characterInForeignContent");function np(r){for(;r.treeAdapter.getNamespaceURI(r.openElements.current)!==Z.HTML&&!r._isIntegrationPoint(r.openElements.currentTagId,r.openElements.current);)r.openElements.pop()}o(np,"popUntilHtmlOrIntegrationPoint");function q0(r,t){if(Fd(t))np(r),r._startTagOutsideForeignContent(t);else{let i=r._getAdjustedCurrentElement(),d=r.treeAdapter.getNamespaceURI(i);d===Z.MATHML?Gh(t):d===Z.SVG&&(zd(t),jh(t)),yc(t),t.selfClosing?r._appendElement(t,d):r._insertElement(t,d),t.ackSelfClosing=!0}}o(q0,"startTagInForeignContent");function K0(r,t){if(t.tagID===u.P||t.tagID===u.BR){np(r),r._endTagOutsideForeignContent(t);return}for(let i=r.openElements.stackTop;i>0;i--){let d=r.openElements.items[i];if(r.treeAdapter.getNamespaceURI(d)===Z.HTML){r._endTagOutsideForeignContent(t);break}let E=r.treeAdapter.getTagName(d);if(E.toLowerCase()===t.tagName){t.tagName=E,r.openElements.shortenToLength(i);break}}}o(K0,"endTagInForeignContent");var ZA=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function Qh(r,t){return o(function(i){let d,E=0,y="";for(;d=r.exec(i);)E!==d.index&&(y+=i.substring(E,d.index)),y+=t.get(d[0].charCodeAt(0)),E=d.index+1;return y+i.substring(E)},"escape")}o(Qh,"getEscaper"),Qh(/[&<>'"]/g,ZA),Qh(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Qh(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),$.AREA,$.BASE,$.BASEFONT,$.BGSOUND,$.BR,$.COL,$.EMBED,$.FRAME,$.HR,$.IMG,$.INPUT,$.KEYGEN,$.LINK,$.META,$.PARAM,$.SOURCE,$.TRACK,$.WBR;function Q0(r,t){return Eg.parse(r,t)}o(Q0,"parse");function X0(r,t,i){typeof r=="string"&&(i=t,t=r,r=null);let d=Eg.getFragmentParser(r,i);return d.tokenizer.write(t,!0),d.getFragment()}o(X0,"parseFragment");var J0=new WeakMap;function ip(r,t){let i=Q0(t.trim(),lp(r));return i.documentElement=i.firstElementChild,i.head=i.documentElement.firstElementChild,i.body=i.head.nextElementSibling,i}o(ip,"parseDocumentUtil");function op(r,t){return typeof t=="string"?t=t.trim():t="",X0(t,lp(r))}o(op,"parseFragmentUtil");function lp(r){let t=J0.get(r);return t!=null||(t={treeAdapter:{createDocument(){let i=r.createElement("#document");return i["x-mode"]="no-quirks",i},setNodeSourceCodeLocation(i,d){i.sourceCodeLocation=d},getNodeSourceCodeLocation(i){return i.sourceCodeLocation},createDocumentFragment(){return r.createDocumentFragment()},createElement(i,d,E){let y=r.createElementNS(d,i);for(let O=0;O<E.length;O++){let Y=E[O];Y.namespace==null||Y.namespace==="http://www.w3.org/1999/xhtml"?y.setAttribute(Y.name,Y.value):y.setAttributeNS(Y.namespace,Y.name,Y.value)}return y},createCommentNode(i){return r.createComment(i)},appendChild(i,d){i.appendChild(d)},insertBefore(i,d,E){i.insertBefore(d,E)},setTemplateContent(i,d){i.content=d},getTemplateContent(i){return i.content},setDocumentType(i,d,E,y){let O=i.childNodes.find(Y=>Y.nodeType===10);O==null&&(O=r.createDocumentTypeNode(),i.insertBefore(O,i.firstChild)),O.nodeValue="!DOCTYPE",O["x-name"]=d,O["x-publicId"]=E,O["x-systemId"]=y},setDocumentMode(i,d){i["x-mode"]=d},getDocumentMode(i){return i["x-mode"]},detachNode(i){i.remove()},insertText(i,d){let E=i.lastChild;E!=null&&E.nodeType===3?E.nodeValue+=d:i.appendChild(r.createTextNode(d))},insertTextBefore(i,d,E){let y=i.childNodes[i.childNodes.indexOf(E)-1];y!=null&&y.nodeType===3?y.nodeValue+=d:i.insertBefore(r.createTextNode(d),E)},adoptAttributes(i,d){for(let E=0;E<d.length;E++){let y=d[E];i.hasAttributeNS(y.namespace,y.name)===!1&&i.setAttributeNS(y.namespace,y.name,y.value)}},getFirstChild(i){return i.childNodes[0]},getChildNodes(i){return i.childNodes},getParentNode(i){return i.parentNode},getAttrList(i){return i.attributes.__items.map(d=>({name:d.name,value:d.value,namespace:d.namespaceURI,prefix:null}))},getTagName(i){return i.namespaceURI==="http://www.w3.org/1999/xhtml"?i.nodeName.toLowerCase():i.nodeName},getNamespaceURI(i){return i.namespaceURI},getTextNodeContent(i){return i.nodeValue},getCommentNodeContent(i){return i.nodeValue},getDocumentTypeNodeName(i){return i["x-name"]},getDocumentTypeNodePublicId(i){return i["x-publicId"]},getDocumentTypeNodeSystemId(i){return i["x-systemId"]},isTextNode(i){return i.nodeType===3},isCommentNode(i){return i.nodeType===8},isDocumentTypeNode(i){return i.nodeType===10},isElementNode(i){return i.nodeType===1}}},J0.set(r,t)),t}o(lp,"getParser");var cp=function(r,t){return t(r,!0)}({document:{createElement(){return{}},nodeType:9,documentElement:{nodeType:1,nodeName:"HTML"}}},function(r,t){if(!r.document)throw new Error("jQuery requires a window with a document");var i=[],d=Object.getPrototypeOf,E=i.slice,y=i.flat?function(T){return i.flat.call(T)}:function(T){return i.concat.apply([],T)},O=i.push,Y=i.indexOf,be={},He=be.toString,Be=be.hasOwnProperty,Fe=Be.toString,pt=Fe.call(Object),$t={};function Bt(T){return T==null?T+"":typeof T=="object"?be[He.call(T)]||"object":typeof T}o(Bt,"toType");function xs(T){return T!=null&&T===T.window}o(xs,"isWindow");function yr(T){var I=!!T&&T.length,M=Bt(T);return typeof T=="function"||xs(T)?!1:M==="array"||I===0||typeof I=="number"&&I>0&&I-1 in T}o(yr,"isArrayLike");var yt=r.document,je={type:!0,src:!0,nonce:!0,noModule:!0};function Kr(T,I,M){M=M||yt;var V,X=M.createElement("script");if(X.text=T,I)for(V in je)I[V]&&(X[V]=I[V]);M.head.appendChild(X).parentNode.removeChild(X)}o(Kr,"DOMEval");let K={};var Jt="4.0.0-pre+9352011a7.dirty +selector",Ct=/HTML$/i;o(function(T,I){return new K.fn.init(T,I)},"jQueryOrig"),K.fn=K.prototype={jquery:Jt,constructor:K,length:0,toArray:o(function(){return E.call(this)},"toArray"),get:o(function(T){return T==null?E.call(this):T<0?this[T+this.length]:this[T]},"get"),pushStack:o(function(T){var I=K.merge(this.constructor(),T);return I.prevObject=this,I},"pushStack"),each:o(function(T){return K.each(this,T)},"each"),map:o(function(T){return this.pushStack(K.map(this,function(I,M){return T.call(I,M,I)}))},"map"),slice:o(function(){return this.pushStack(E.apply(this,arguments))},"slice"),first:o(function(){return this.eq(0)},"first"),last:o(function(){return this.eq(-1)},"last"),even:o(function(){return this.pushStack(K.grep(this,function(T,I){return(I+1)%2}))},"even"),odd:o(function(){return this.pushStack(K.grep(this,function(T,I){return I%2}))},"odd"),eq:o(function(T){var I=this.length,M=+T+(T<0?I:0);return this.pushStack(M>=0&&M<I?[this[M]]:[])},"eq"),end:o(function(){return this.prevObject||this.constructor()},"end")},K.extend=K.fn.extend=function(){var T,I,M,V,X,ye,fe=arguments[0]||{},Oe=1,Le=arguments.length,lt=!1;for(typeof fe=="boolean"&&(lt=fe,fe=arguments[Oe]||{},Oe++),typeof fe!="object"&&typeof fe!="function"&&(fe={}),Oe===Le&&(fe=this,Oe--);Oe<Le;Oe++)if((T=arguments[Oe])!=null)for(I in T)V=T[I],!(I==="__proto__"||fe===V)&&(lt&&V&&(K.isPlainObject(V)||(X=Array.isArray(V)))?(M=fe[I],X&&!Array.isArray(M)?ye=[]:!X&&!K.isPlainObject(M)?ye={}:ye=M,X=!1,fe[I]=K.extend(lt,ye,V)):V!==void 0&&(fe[I]=V));return fe},K.extend({expando:"jQuery"+(Jt+Math.random()).replace(/\D/g,""),isReady:!0,error:o(function(T){throw new Error(T)},"error"),noop:o(function(){},"noop"),isPlainObject:o(function(T){var I,M;return!T||He.call(T)!=="[object Object]"?!1:(I=d(T),I?(M=Be.call(I,"constructor")&&I.constructor,typeof M=="function"&&Fe.call(M)===pt):!0)},"isPlainObject"),isEmptyObject:o(function(T){var I;for(I in T)return!1;return!0},"isEmptyObject"),globalEval:o(function(T,I,M){Kr(T,{nonce:I&&I.nonce},M)},"globalEval"),each:o(function(T,I){var M,V=0;if(yr(T))for(M=T.length;V<M&&I.call(T[V],V,T[V])!==!1;V++);else for(V in T)if(I.call(T[V],V,T[V])===!1)break;return T},"each"),text:o(function(T){var I,M="",V=0,X=T.nodeType;if(!X)for(;I=T[V++];)M+=K.text(I);return X===1||X===11?T.textContent:X===9?T.documentElement.textContent:X===3||X===4?T.nodeValue:M},"text"),makeArray:o(function(T,I){var M=I||[];return T!=null&&(yr(Object(T))?K.merge(M,typeof T=="string"?[T]:T):O.call(M,T)),M},"makeArray"),inArray:o(function(T,I,M){return I==null?-1:Y.call(I,T,M)},"inArray"),isXMLDoc:o(function(T){var I=T&&T.namespaceURI,M=T&&(T.ownerDocument||T).documentElement;return!Ct.test(I||M&&M.nodeName||"HTML")},"isXMLDoc"),contains:o(function(T,I){var M=I&&I.parentNode;return T===M||!!(M&&M.nodeType===1&&(T.contains?T.contains(M):T.compareDocumentPosition&&T.compareDocumentPosition(M)&16))},"contains"),merge:o(function(T,I){for(var M=+I.length,V=0,X=T.length;V<M;V++)T[X++]=I[V];return T.length=X,T},"merge"),grep:o(function(T,I,M){for(var V,X=[],ye=0,fe=T.length,Oe=!M;ye<fe;ye++)V=!I(T[ye],ye),V!==Oe&&X.push(T[ye]);return X},"grep"),map:o(function(T,I,M){var V,X,ye=0,fe=[];if(yr(T))for(V=T.length;ye<V;ye++)X=I(T[ye],ye,M),X!=null&&fe.push(X);else for(ye in T)X=I(T[ye],ye,M),X!=null&&fe.push(X);return y(fe)},"map"),guid:1,support:$t}),typeof Symbol=="function"&&(K.fn[Symbol.iterator]=i[Symbol.iterator]),K.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,I){be["[object "+I+"]"]=I.toLowerCase()});function We(T,I){return T.nodeName&&T.nodeName.toLowerCase()===I.toLowerCase()}o(We,"nodeName");var mt=i.pop,rt="[\\x20\\t\\r\\n\\f]",kt=yt.documentMode;try{yt.querySelector(":has(*,:jqfake)"),$t.cssHas=!1}catch{$t.cssHas=!0}var At=[];kt&&At.push(":enabled",":disabled","\\["+rt+"*name"+rt+"*="+rt+`*(?:''|"")`),$t.cssHas||At.push(":has"),At=At.length&&new RegExp(At.join("|"));var at=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),It="(?:\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ur="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ua=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),Rt=/[+~]/,Nt=yt.documentElement,Xi=Nt.matches||Nt.msMatchesSelector;function er(){var T=[];function I(M,V){return T.push(M+" ")>K.expr.cacheLength&&delete I[T.shift()],I[M+" "]=V}return o(I,"cache"),I}o(er,"createCache");function ke(T){return T&&typeof T.getElementsByTagName<"u"&&T}o(ke,"testContext");var he="\\["+rt+"*("+It+")(?:"+rt+"*([*^$|!~]?=)"+rt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+It+"))|)"+rt+"*\\]",Je=":("+It+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+he+")*)|.*)\\)|)",Ht={ID:new RegExp("^#("+It+")"),CLASS:new RegExp("^\\.("+It+")"),TAG:new RegExp("^("+It+"|[*])"),ATTR:new RegExp("^"+he),PSEUDO:new RegExp("^"+Je),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i")},Qr=new RegExp(Je),Dr=new RegExp("\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\([^\\r\\n\\f])","g"),pu=o(function(T,I){var M="0x"+T.slice(1)-65536;return I||(M<0?String.fromCharCode(M+65536):String.fromCharCode(M>>10|55296,M&1023|56320))},"funescape");function Xr(T){return T.replace(Dr,pu)}o(Xr,"unescapeSelector");function da(T){K.error("Syntax error, unrecognized expression: "+T)}o(da,"selectorError");var Oc=new RegExp("^"+rt+"*,"+rt+"*"),Mc=er();function pa(T,I){var M,V,X,ye,fe,Oe,Le,lt=Mc[T+" "];if(lt)return I?0:lt.slice(0);for(fe=T,Oe=[],Le=K.expr.preFilter;fe;){(!M||(V=Oc.exec(fe)))&&(V&&(fe=fe.slice(V[0].length)||fe),Oe.push(X=[])),M=!1,(V=ua.exec(fe))&&(M=V.shift(),X.push({value:M,type:V[0].replace(at," ")}),fe=fe.slice(M.length));for(ye in Ht)(V=K.expr.match[ye].exec(fe))&&(!Le[ye]||(V=Le[ye](V)))&&(M=V.shift(),X.push({value:M,type:ye,matches:V}),fe=fe.slice(M.length));if(!M)break}return I?fe.length:fe?da(T):Mc(T,Oe).slice(0)}o(pa,"tokenize");var Fp={ATTR:o(function(T){return T[1]=Xr(T[1]),T[3]=Xr(T[3]||T[4]||T[5]||""),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},"ATTR"),CHILD:o(function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||da(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&da(T[0]),T},"CHILD"),PSEUDO:o(function(T){var I,M=!T[6]&&T[2];return Ht.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":M&&Qr.test(M)&&(I=pa(M,!0))&&(I=M.indexOf(")",M.length-I)-M.length)&&(T[0]=T[0].slice(0,I),T[2]=M.slice(0,I)),T.slice(0,3))},"PSEUDO")};function Ji(T){for(var I=0,M=T.length,V="";I<M;I++)V+=T[I].value;return V}o(Ji,"toSelector");var mu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Dc(T,I){return I?T==="\0"?"�":T.slice(0,-1)+"\\"+T.charCodeAt(T.length-1).toString(16)+" ":"\\"+T}o(Dc,"fcssescape"),K.escapeSelector=function(T){return(T+"").replace(mu,Dc)};var fu=i.sort,Pc=i.splice,eo;function Rs(T,I){if(T===I)return eo=!0,0;var M=!T.compareDocumentPosition-!I.compareDocumentPosition;return M||(M=(T.ownerDocument||T)==(I.ownerDocument||I)?T.compareDocumentPosition(I):1,M&1?T==yt||T.ownerDocument==yt&&K.contains(yt,T)?-1:I==yt||I.ownerDocument==yt&&K.contains(yt,I)?1:0:M&4?-1:1)}o(Rs,"sortOrder"),K.uniqueSort=function(T){var I,M=[],V=0,X=0;if(eo=!1,fu.call(T,Rs),eo){for(;I=T[X++];)I===T[X]&&(V=M.push(X));for(;V--;)Pc.call(T,M[V],1)}return T},K.fn.uniqueSort=function(){return this.pushStack(K.uniqueSort(E.apply(this)))};var us,Jr,_r,gu,ds,Gr=0,Eu=0,Tu=er(),to=er(),bu=er(),yu=new RegExp(rt+"+","g"),zp=new RegExp("^"+It+"$"),Xa=K.extend({bool:new RegExp("^(?:"+ur+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},Ht),$c=/^(?:input|select|textarea|button)$/i,ma=/^h\d$/i,es=o(function(){fa()},"unloadHandler"),Gp=Os(function(T){return T.disabled===!0&&We(T,"fieldset")},{dir:"parentNode",next:"legend"});function Yt(T,I,M,V){I&&I.ownerDocument;var X=I?I.nodeType:9;return M=M||[],typeof T!="string"||!T||X!==1&&X!==9&&X!==11?M:Ds(T.replace(at,"$1"),I,M,V)}o(Yt,"find");function tr(T){return T[K.expando]=!0,T}o(tr,"markFunction");function qt(T){return function(I){return We(I,"input")&&I.type===T}}o(qt,"createInputPseudo");function _u(T){return function(I){return(We(I,"input")||We(I,"button"))&&I.type===T}}o(_u,"createButtonPseudo");function Hc(T){return function(I){return"form"in I?I.parentNode&&I.disabled===!1?"label"in I?"label"in I.parentNode?I.parentNode.disabled===T:I.disabled===T:I.isDisabled===T||I.isDisabled!==!T&&Gp(I)===T:I.disabled===T:"label"in I?I.disabled===T:!1}}o(Hc,"createDisabledPseudo");function ts(T){return tr(function(I){return I=+I,tr(function(M,V){for(var X,ye=T([],M.length,I),fe=ye.length;fe--;)M[X=ye[fe]]&&(M[X]=!(V[X]=M[X]))})})}o(ts,"createPositionalPseudo");function fa(T){var I,M=T?T.ownerDocument||T:yt;M==_r||M.nodeType!==9||(_r=M,gu=_r.documentElement,ds=!K.isXMLDoc(_r),kt&&yt!=_r&&(I=_r.defaultView)&&I.top!==I&&I.addEventListener("unload",es))}o(fa,"setDocument"),Yt.matches=function(T,I){return Yt(T,null,null,I)},Yt.matchesSelector=function(T,I){if(fa(T),ds&&!bu[I+" "]&&(!At||!At.test(I)))try{return Xi.call(T,I)}catch{bu(I,!0)}return Yt(I,_r,null,[T]).length>0},K.expr={cacheLength:50,createPseudo:tr,match:Xa,find:{ID:o(function(T,I){if(typeof I.getElementById<"u"&&ds){var M=I.getElementById(T);return M?[M]:[]}},"ID"),TAG:o(function(T,I){return typeof I.getElementsByTagName<"u"?I.getElementsByTagName(T):I.querySelectorAll(T)},"TAG"),CLASS:o(function(T,I){if(typeof I.getElementsByClassName<"u"&&ds)return I.getElementsByClassName(T)},"CLASS")},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:Fp,filter:{ID:o(function(T){var I=Xr(T);return function(M){return M.getAttribute("id")===I}},"ID"),TAG:o(function(T){var I=Xr(T).toLowerCase();return T==="*"?function(){return!0}:function(M){return We(M,I)}},"TAG"),CLASS:o(function(T){var I=Tu[T+" "];return I||(I=new RegExp("(^|"+rt+")"+T+"("+rt+"|$)"))&&Tu(T,function(M){return I.test(typeof M.className=="string"&&M.className||typeof M.getAttribute<"u"&&M.getAttribute("class")||"")})},"CLASS"),ATTR:o(function(T,I,M){return function(V){var X=V.getAttribute(T);return X==null?I==="!=":I?(X+="",I==="="?X===M:I==="!="?X!==M:I==="^="?M&&X.indexOf(M)===0:I==="*="?M&&X.indexOf(M)>-1:I==="$="?M&&X.slice(-M.length)===M:I==="~="?(" "+X.replace(yu," ")+" ").indexOf(M)>-1:I==="|="?X===M||X.slice(0,M.length+1)===M+"-":!1):!0}},"ATTR"),CHILD:o(function(T,I,M,V,X){var ye=T.slice(0,3)!=="nth",fe=T.slice(-4)!=="last",Oe=I==="of-type";return V===1&&X===0?function(Le){return!!Le.parentNode}:function(Le,lt,ze){var Qe,ft,De,wt,mr,rr=ye!==fe?"nextSibling":"previousSibling",Nr=Le.parentNode,rs=Oe&&Le.nodeName.toLowerCase(),Ea=!ze&&!Oe,Ar=!1;if(Nr){if(ye){for(;rr;){for(De=Le;De=De[rr];)if(Oe?We(De,rs):De.nodeType===1)return!1;mr=rr=T==="only"&&!mr&&"nextSibling"}return!0}if(mr=[fe?Nr.firstChild:Nr.lastChild],fe&&Ea){for(ft=Nr[K.expando]||(Nr[K.expando]={}),Qe=ft[T]||[],wt=Qe[0]===Gr&&Qe[1],Ar=wt&&Qe[2],De=wt&&Nr.childNodes[wt];De=++wt&&De&&De[rr]||(Ar=wt=0)||mr.pop();)if(De.nodeType===1&&++Ar&&De===Le){ft[T]=[Gr,wt,Ar];break}}else if(Ea&&(ft=Le[K.expando]||(Le[K.expando]={}),Qe=ft[T]||[],wt=Qe[0]===Gr&&Qe[1],Ar=wt),Ar===!1)for(;(De=++wt&&De&&De[rr]||(Ar=wt=0)||mr.pop())&&!((Oe?We(De,rs):De.nodeType===1)&&++Ar&&(Ea&&(ft=De[K.expando]||(De[K.expando]={}),ft[T]=[Gr,Ar]),De===Le)););return Ar-=X,Ar===V||Ar%V===0&&Ar/V>=0}}},"CHILD"),PSEUDO:o(function(T,I){var M=K.expr.pseudos[T]||K.expr.setFilters[T.toLowerCase()]||da("unsupported pseudo: "+T);return M[K.expando]?M(I):M},"PSEUDO")},pseudos:{not:tr(function(T){var I=[],M=[],V=ro(T.replace(at,"$1"));return V[K.expando]?tr(function(X,ye,fe,Oe){for(var Le,lt=V(X,null,Oe,[]),ze=X.length;ze--;)(Le=lt[ze])&&(X[ze]=!(ye[ze]=Le))}):function(X,ye,fe){return I[0]=X,V(I,null,fe,M),I[0]=null,!M.pop()}}),has:tr(function(T){return function(I){return Yt(T,I).length>0}}),contains:tr(function(T){return T=Xr(T),function(I){return(I.textContent||K.text(I)).indexOf(T)>-1}}),lang:tr(function(T){return zp.test(T||"")||da("unsupported lang: "+T),T=Xr(T).toLowerCase(),function(I){var M;do if(M=ds?I.lang:I.getAttribute("xml:lang")||I.getAttribute("lang"))return M=M.toLowerCase(),M===T||M.indexOf(T+"-")===0;while((I=I.parentNode)&&I.nodeType===1);return!1}}),target:o(function(T){var I=r.location&&r.location.hash;return I&&I.slice(1)===T.id},"target"),root:o(function(T){return T===gu},"root"),focus:o(function(T){return T===_r.activeElement&&_r.hasFocus()&&!!(T.type||T.href||~T.tabIndex)},"focus"),enabled:Hc(!1),disabled:Hc(!0),checked:o(function(T){return We(T,"input")&&!!T.checked||We(T,"option")&&!!T.selected},"checked"),selected:o(function(T){return kt&&T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},"selected"),empty:o(function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},"empty"),parent:o(function(T){return!K.expr.pseudos.empty(T)},"parent"),header:o(function(T){return ma.test(T.nodeName)},"header"),input:o(function(T){return $c.test(T.nodeName)},"input"),button:o(function(T){return We(T,"input")&&T.type==="button"||We(T,"button")},"button"),text:o(function(T){return We(T,"input")&&T.type==="text"},"text"),first:ts(function(){return[0]}),last:ts(function(T,I){return[I-1]}),eq:ts(function(T,I,M){return[M<0?M+I:M]}),even:ts(function(T,I){for(var M=0;M<I;M+=2)T.push(M);return T}),odd:ts(function(T,I){for(var M=1;M<I;M+=2)T.push(M);return T}),lt:ts(function(T,I,M){var V;for(M<0?V=M+I:M>I?V=I:V=M;--V>=0;)T.push(V);return T}),gt:ts(function(T,I,M){for(var V=M<0?M+I:M;++V<I;)T.push(V);return T})}},K.expr.pseudos.nth=K.expr.pseudos.eq;for(us in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})K.expr.pseudos[us]=qt(us);for(us in{submit:!0,reset:!0})K.expr.pseudos[us]=_u(us);function Bc(){}o(Bc,"setFilters"),Bc.prototype=K.expr.filters=K.expr.pseudos,K.expr.setFilters=new Bc;function Os(T,I,M){var V=I.dir,X=I.next,ye=X||V,fe=M&&ye==="parentNode",Oe=Eu++;return I.first?function(Le,lt,ze){for(;Le=Le[V];)if(Le.nodeType===1||fe)return T(Le,lt,ze);return!1}:function(Le,lt,ze){var Qe,ft,De=[Gr,Oe];if(ze){for(;Le=Le[V];)if((Le.nodeType===1||fe)&&T(Le,lt,ze))return!0}else for(;Le=Le[V];)if(Le.nodeType===1||fe)if(ft=Le[K.expando]||(Le[K.expando]={}),X&&We(Le,X))Le=Le[V]||Le;else{if((Qe=ft[ye])&&Qe[0]===Gr&&Qe[1]===Oe)return De[2]=Qe[2];if(ft[ye]=De,De[2]=T(Le,lt,ze))return!0}return!1}}o(Os,"addCombinator");function ga(T){return T.length>1?function(I,M,V){for(var X=T.length;X--;)if(!T[X](I,M,V))return!1;return!0}:T[0]}o(ga,"elementMatcher");function Uc(T,I,M){for(var V=0,X=I.length;V<X;V++)Yt(T,I[V],M);return M}o(Uc,"multipleContexts");function Ms(T,I,M,V,X){for(var ye,fe=[],Oe=0,Le=T.length,lt=I!=null;Oe<Le;Oe++)(ye=T[Oe])&&(!M||M(ye,V,X))&&(fe.push(ye),lt&&I.push(Oe));return fe}o(Ms,"condense");function Ja(T,I,M,V,X,ye){return V&&!V[K.expando]&&(V=Ja(V)),X&&!X[K.expando]&&(X=Ja(X,ye)),tr(function(fe,Oe,Le,lt){var ze,Qe,ft,De,wt=[],mr=[],rr=Oe.length,Nr=fe||Uc(I||"*",Le.nodeType?[Le]:Le,[]),rs=T&&(fe||!I)?Ms(Nr,wt,T,Le,lt):Nr;if(M?(De=X||(fe?T:rr||V)?[]:Oe,M(rs,De,Le,lt)):De=rs,V)for(ze=Ms(De,mr),V(ze,[],Le,lt),Qe=ze.length;Qe--;)(ft=ze[Qe])&&(De[mr[Qe]]=!(rs[mr[Qe]]=ft));if(fe){if(X||T){if(X){for(ze=[],Qe=De.length;Qe--;)(ft=De[Qe])&&ze.push(rs[Qe]=ft);X(null,De=[],ze,lt)}for(Qe=De.length;Qe--;)(ft=De[Qe])&&(ze=X?Y.call(fe,ft):wt[Qe])>-1&&(fe[ze]=!(Oe[ze]=ft))}}else De=Ms(De===Oe?De.splice(rr,De.length):De),X?X(null,Oe,De,lt):O.apply(Oe,De)})}o(Ja,"setMatcher");function en(T){for(var I,M,V,X=T.length,ye=K.expr.relative[T[0].type],fe=ye||K.expr.relative[" "],Oe=ye?1:0,Le=Os(function(Qe){return Qe===I},fe,!0),lt=Os(function(Qe){return Y.call(I,Qe)>-1},fe,!0),ze=[function(Qe,ft,De){var wt=!ye&&(De||ft!=Jr)||((I=ft).nodeType?Le(Qe,ft,De):lt(Qe,ft,De));return I=null,wt}];Oe<X;Oe++)if(M=K.expr.relative[T[Oe].type])ze=[Os(ga(ze),M)];else{if(M=K.expr.filter[T[Oe].type].apply(null,T[Oe].matches),M[K.expando]){for(V=++Oe;V<X&&!K.expr.relative[T[V].type];V++);return Ja(Oe>1&&ga(ze),Oe>1&&Ji(T.slice(0,Oe-1).concat({value:T[Oe-2].type===" "?"*":""})).replace(at,"$1"),M,Oe<V&&en(T.slice(Oe,V)),V<X&&en(T=T.slice(V)),V<X&&Ji(T))}ze.push(M)}return ga(ze)}o(en,"matcherFromTokens");function Au(T,I){var M=I.length>0,V=T.length>0,X=o(function(ye,fe,Oe,Le,lt){var ze,Qe,ft,De=0,wt="0",mr=ye&&[],rr=[],Nr=Jr,rs=ye||V&&K.expr.find.TAG("*",lt),Ea=Gr+=Nr==null?1:Math.random()||.1;for(lt&&(Jr=fe==_r||fe||lt);(ze=rs[wt])!=null;wt++){if(V&&ze){for(Qe=0,!fe&&ze.ownerDocument!=_r&&(fa(ze),Oe=!ds);ft=T[Qe++];)if(ft(ze,fe||_r,Oe)){O.call(Le,ze);break}lt&&(Gr=Ea)}M&&((ze=!ft&&ze)&&De--,ye&&mr.push(ze))}if(De+=wt,M&&wt!==De){for(Qe=0;ft=I[Qe++];)ft(mr,rr,fe,Oe);if(ye){if(De>0)for(;wt--;)mr[wt]||rr[wt]||(rr[wt]=mt.call(Le));rr=Ms(rr)}O.apply(Le,rr),lt&&!ye&&rr.length>0&&De+I.length>1&&K.uniqueSort(Le)}return lt&&(Gr=Ea,Jr=Nr),mr},"superMatcher");return M?tr(X):X}o(Au,"matcherFromGroupMatchers");function ro(T,I){var M,V=[],X=[],ye=to[T+" "];if(!ye){for(I||(I=pa(T)),M=I.length;M--;)ye=en(I[M]),ye[K.expando]?V.push(ye):X.push(ye);ye=to(T,Au(X,V)),ye.selector=T}return ye}o(ro,"compile");function Ds(T,I,M,V){var X,ye,fe,Oe,Le,lt=typeof T=="function"&&T,ze=!V&&pa(T=lt.selector||T);if(M=M||[],ze.length===1){if(ye=ze[0]=ze[0].slice(0),ye.length>2&&(fe=ye[0]).type==="ID"&&I.nodeType===9&&ds&&K.expr.relative[ye[1].type]){if(I=(K.expr.find.ID(Xr(fe.matches[0]),I)||[])[0],I)lt&&(I=I.parentNode);else return M;T=T.slice(ye.shift().value.length)}for(X=Xa.needsContext.test(T)?0:ye.length;X--&&(fe=ye[X],!K.expr.relative[Oe=fe.type]);)if((Le=K.expr.find[Oe])&&(V=Le(Xr(fe.matches[0]),Rt.test(ye[0].type)&&ke(I.parentNode)||I))){if(ye.splice(X,1),T=V.length&&Ji(ye),!T)return O.apply(M,V),M;break}}return(lt||ro(T,ze))(V,I,!ds,M,!I||Rt.test(T)&&ke(I.parentNode)||I),M}return o(Ds,"select"),fa(),K.find=Yt,Yt.compile=ro,Yt.select=Ds,Yt.setDocument=fa,Yt.tokenize=pa,K});function e1(r,t){try{return cp.find(r,void 0,void 0,[t]).length>0}catch(i){throw Xh(r,i),i}}o(e1,"matches");function t1(r,t){try{return cp.find(r,t,void 0,void 0)[0]||null}catch(i){throw Xh(r,i),i}}o(t1,"selectOne");function r1(r,t){try{return cp.find(r,t,void 0,void 0)}catch(i){throw Xh(r,i),i}}o(r1,"selectAll");var WA=[":scope",":where",":is"];function Xh(r,t){let i=WA.filter(d=>r.includes(d));i.length>0&&t.message&&(t.message=`At present jQuery does not support the ${s1(i)} ${i.length===1?"selector":"selectors"}.
If you need this in your test, consider writing an end-to-end test instead.
`+t.message)}o(Xh,"updateSelectorError");function s1(r){return r.length<=1?r.join(""):`${r.slice(0,r.length-1).join(", ")} and ${r[r.length-1]}`}o(s1,"humanReadableList");function a1(r={}){return{...r,outerHtml:typeof r.outerHtml!="boolean"?!1:r.outerHtml,...r.prettyHtml?{indentSpaces:typeof r.indentSpaces!="number"?2:r.indentSpaces,newLines:typeof r.newLines!="boolean"?!0:r.newLines}:{prettyHtml:!1,indentSpaces:typeof r.indentSpaces!="number"?0:r.indentSpaces,newLines:typeof r.newLines!="boolean"?!1:r.newLines},approximateLineWidth:typeof r.approximateLineWidth!="number"?-1:r.approximateLineWidth,removeEmptyAttributes:typeof r.removeEmptyAttributes!="boolean"?!0:r.removeEmptyAttributes,removeAttributeQuotes:typeof r.removeAttributeQuotes!="boolean"?!1:r.removeAttributeQuotes,removeBooleanAttributeQuotes:typeof r.removeBooleanAttributeQuotes!="boolean"?!1:r.removeBooleanAttributeQuotes,removeHtmlComments:typeof r.removeHtmlComments!="boolean"?!1:r.removeHtmlComments,serializeShadowRoot:typeof r.serializeShadowRoot>"u"?"declarative-shadow-dom":r.serializeShadowRoot,fullDocument:typeof r.fullDocument!="boolean"?!0:r.fullDocument}}o(a1,"normalizeSerializationOptions");function Ic(r,t={}){let i=a1(t),d={currentLineWidth:0,indent:0,isWithinBody:!1},E="",y=!i.fullDocument&&r.body?Array.from(r.body.childNodes):i.outerHtml?[r]:Array.from(tu(r));for(let O=0,Y=y.length;O<Y;O++){let be=y[O],He=Array.from(eu(be,i,d));E+=He.join("")}return E.trim()}o(Ic,"serializeNodeToHtml");var Jh="mock:shadow-root";function*eu(r,t,i){var d,E,y,O,Y,be,He,Be,Fe,pt,$t,Bt,xs,yr,yt,je;let Kr=r.nodeType===11;if(r.nodeType===1||Kr){let K=Kr?Jh:n1(r);K==="body"&&(i.isWithinBody=!0);let Jt=t.excludeTags!=null&&t.excludeTags.includes(K);if(Jt===!1){let Ct=t.newLines||((d=t.indentSpaces)!=null?d:0)>0?ha(r):!1;if(t.newLines&&!Ct&&(yield`
`,i.currentLineWidth=0),((E=t.indentSpaces)!=null?E:0)>0&&!Ct){for(let kt=0;kt<i.indent;kt++)yield" ";i.currentLineWidth+=i.indent}let We=K===Jh?"template":K;if(yield"<"+We,i.currentLineWidth+=We.length+1,We==="template"&&(!r.getAttribute||!r.getAttribute("shadowrootmode"))&&("host"in r||r.nodeName.toLocaleLowerCase()===Jh)){let kt=' shadowrootmode="open"';yield kt,i.currentLineWidth+=kt.length}let mt=r.attributes.length,rt=t.prettyHtml&&mt>1?Dh(r.attributes,!0):r.attributes;for(let kt=0;kt<mt;kt++){let At=rt.item(kt),at=At.name;if(at==="style")continue;let It=At.value;if(t.removeEmptyAttributes&&It===""&&r2.has(at))continue;let ur=At.namespaceURI;ur==null?(i.currentLineWidth+=at.length+1,t.approximateLineWidth&&t.approximateLineWidth>0&&i.currentLineWidth>t.approximateLineWidth?(yield`
`+at,i.currentLineWidth=0):yield" "+at):ur==="http://www.w3.org/XML/1998/namespace"?(yield" xml:"+at,i.currentLineWidth+=at.length+5):ur==="http://www.w3.org/2000/xmlns/"?at!=="xmlns"?(yield" xmlns:"+at,i.currentLineWidth+=at.length+7):(yield" "+at,i.currentLineWidth+=at.length+1):ur===$f?(yield" xlink:"+at,i.currentLineWidth+=at.length+7):(yield" "+ur+":"+at,i.currentLineWidth+=ur.length+at.length+2),t.prettyHtml&&at==="class"&&(It=At.value=It.split(" ").filter(ua=>ua!=="").sort().join(" ").trim()),!(It===""&&(t.removeBooleanAttributeQuotes&&s2.has(at)||t.removeEmptyAttributes&&at.startsWith("data-")))&&(t.removeAttributeQuotes&&JA.test(It)?(yield"="+Nc(It,!0),i.currentLineWidth+=It.length+1):(yield'="'+Nc(It,!0)+'"',i.currentLineWidth+=It.length+3))}if(r.hasAttribute("style")){let kt=r.style.cssText;t.approximateLineWidth&&t.approximateLineWidth>0&&i.currentLineWidth+kt.length+10>t.approximateLineWidth?(yield`
style="${kt}">`,i.currentLineWidth=0):(yield` style="${kt}">`,i.currentLineWidth+=kt.length+10)}else yield">",i.currentLineWidth+=1}if(t2.has(K)===!1){let Ct=r.shadowRoot;if(Ct!=null&&t.serializeShadowRoot!==!1){i.indent=i.indent+((y=t.indentSpaces)!=null?y:0),yield*eu(Ct,t,i),i.indent=i.indent-((O=t.indentSpaces)!=null?O:0);let We=tu(r);if(t.newLines&&(We.length===0||We.length===1&&We[0].nodeType===3&&((Y=We[0].nodeValue)==null?void 0:Y.trim())==="")){yield`
`,i.currentLineWidth=0;for(let mt=0;mt<i.indent;mt++)yield" ";i.currentLineWidth+=i.indent}}if(t.excludeTagContent==null||t.excludeTagContent.includes(K)===!1){let We=K===Jh?"template":K,mt=K==="template"?r.content.childNodes:tu(r),rt=mt.length;if(rt>0&&!(rt===1&&mt[0].nodeType===3&&(typeof mt[0].nodeValue!="string"||mt[0].nodeValue.trim()===""))){let kt=t.newLines||((be=t.indentSpaces)!=null?be:0)>0?ha(r):!1;!kt&&((He=t.indentSpaces)!=null?He:0)>0&&Jt===!1&&(i.indent=i.indent+((Be=t.indentSpaces)!=null?Be:0));for(let At=0;At<rt;At++){let at=r.attributes.getNamedItem(X_);if(mt[At].nodeName.toLowerCase()==="template"&&at){yield`
${" ".repeat(i.indent)}<!--r.${at.value}-->`;continue}yield*eu(mt[At],t,i)}if(Jt===!1&&(t.newLines&&!kt&&(yield`
`,i.currentLineWidth=0),((Fe=t.indentSpaces)!=null?Fe:0)>0&&!kt)){i.indent=i.indent-((pt=t.indentSpaces)!=null?pt:0);for(let At=0;At<i.indent;At++)yield" ";i.currentLineWidth+=i.indent}}Jt===!1&&(yield"</"+We+">",i.currentLineWidth+=We.length+3)}}(($t=t.approximateLineWidth)!=null?$t:0)>0&&a2.has(K)&&(yield`
`,i.currentLineWidth=0),K==="body"&&(i.isWithinBody=!1)}else if(r.nodeType===3){let K=r.nodeValue;if(typeof K=="string"){let Jt=K.trim();if(Jt==="")ha(r)?(yield K,i.currentLineWidth+=K.length):((Bt=t.approximateLineWidth)!=null?Bt:0)>0&&!i.isWithinBody||t.prettyHtml||(i.currentLineWidth+=1,t.approximateLineWidth&&t.approximateLineWidth>0&&i.currentLineWidth>t.approximateLineWidth?(yield`
`,i.currentLineWidth=0):yield" ");else{let Ct=t.newLines||((xs=t.indentSpaces)!=null?xs:0)>0||t.prettyHtml?ha(r):!1;if(t.newLines&&!Ct&&(yield`
`,i.currentLineWidth=0),((yr=t.indentSpaces)!=null?yr:0)>0&&!Ct){for(let mt=0;mt<i.indent;mt++)yield" ";i.currentLineWidth+=i.indent}let We=K.length;if(We>0){let mt=r.parentNode!=null&&r.parentNode.nodeType===1?r.parentNode.nodeName:null;typeof mt=="string"&&i1.has(mt)?(ha(r)?yield K:(yield Jt,We=Jt.length),i.currentLineWidth+=We):t.prettyHtml&&!Ct?(yield Nc(K.replace(/\s\s+/g," ").trim(),!1),i.currentLineWidth+=We):(ha(r)||(/\s/.test(K.charAt(0))&&(K=" "+K.trimLeft()),We=K.length,We>1&&/\s/.test(K.charAt(We-1))&&(t.approximateLineWidth&&t.approximateLineWidth>0&&i.currentLineWidth+We>t.approximateLineWidth?(K=K.trimRight()+`
`,i.currentLineWidth=0):K=K.trimRight()+" ")),i.currentLineWidth+=We,yield Nc(K,!1))}}}}else if(r.nodeType===8){let K=r.nodeValue,Jt=K?.startsWith(Y_+".")||K?.startsWith(q_+".")||K?.startsWith(K_+".")||K?.startsWith(Q_+".");if(t.removeHtmlComments&&!Jt)return;let Ct=t.newLines||((yt=t.indentSpaces)!=null?yt:0)>0?ha(r):!1;if(t.newLines&&!Ct&&(yield`
`,i.currentLineWidth=0),((je=t.indentSpaces)!=null?je:0)>0&&!Ct){for(let We=0;We<i.indent;We++)yield" ";i.currentLineWidth+=i.indent}yield"<!--"+K+"-->",K&&(i.currentLineWidth+=K.length+7)}else r.nodeType===10&&(yield"<!doctype html>")}o(eu,"streamToHtml");var YA=/&/g,qA=/\u00a0/g,KA=/"/g,QA=/</g,XA=/>/g,JA=/^[^ \t\n\f\r"'`=<>\/\\-]+$/;function n1(r){return r.namespaceURI==="http://www.w3.org/1999/xhtml"?r.nodeName.toLowerCase():r.nodeName}o(n1,"getTagName");function Nc(r,t){return r=r.replace(YA,"&amp;").replace(qA,"&nbsp;"),t?r.replace(KA,"&quot;"):r.replace(QA,"&lt;").replace(XA,"&gt;")}o(Nc,"escapeString");function ha(r){let t=r;for(;t?.nodeName;){if(e2.has(t.nodeName))return!0;t=t.parentNode}return!1}o(ha,"isWithinWhitespaceSensitive");function tu(r){return r.__childNodes||r.childNodes}o(tu,"getChildNodes");var i1=new Set(["STYLE","SCRIPT","IFRAME","NOSCRIPT","XMP","NOEMBED","NOFRAMES","PLAINTEXT"]),e2=new Set(["CODE","OUTPUT","PLAINTEXT","PRE","SCRIPT","TEMPLATE","TEXTAREA"]),t2=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","meta","param","source","trace","track","wbr"]),r2=new Set(["class","dir","id","lang","name","title"]),s2=new Set(["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","nomodule","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"]),a2=new Set(["html","body","head","iframe","meta","link","base","title","script","style"]),Or=(mi=class{constructor(t,i,d,E){this.ownerDocument=t,this.nodeType=i,this.nodeName=d,this._nodeValue=E,this.parentNode=null,this.childNodes=[]}appendChild(t){if(t.nodeType===11){let i=t.childNodes.slice();for(let d of i)this.appendChild(d)}else t.remove(),t.parentNode=this,this.childNodes.push(t),gc(this.ownerDocument,t);return t}append(...t){t.forEach(i=>{let d=typeof i=="object"&&i!==null&&"nodeType"in i;this.appendChild(d?i:this.ownerDocument.createTextNode(String(i)))})}prepend(...t){let i=this.firstChild;t.forEach(d=>{let E=typeof d=="object"&&d!==null&&"nodeType"in d;i&&this.insertBefore(E?d:this.ownerDocument.createTextNode(String(d)),i)})}cloneNode(t){throw new Error(`invalid node type to clone: ${this.nodeType}, deep: ${t}`)}compareDocumentPosition(t){return-1}get firstChild(){return this.childNodes[0]||null}insertBefore(t,i){if(t.nodeType===11)for(let d=0,E=t.childNodes.length;d<E;d++)ws(this,t.childNodes[d],i);else ws(this,t,i);return t}get isConnected(){let t=this;for(;t!=null;){if(t.nodeType===9)return!0;t=t.parentNode,t!=null&&t.nodeType===11&&(t=t.host)}return!1}isSameNode(t){return this===t}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get nextSibling(){if(this.parentNode!=null){let t=this.parentNode.childNodes.indexOf(this)+1;return this.parentNode.childNodes[t]||null}return null}get nodeValue(){var t;return(t=this._nodeValue)!=null?t:""}set nodeValue(t){this._nodeValue=t}get parentElement(){return this.parentNode||null}set parentElement(t){this.parentNode=t}get previousSibling(){if(this.parentNode!=null){let t=this.parentNode.childNodes.indexOf(this)-1;return this.parentNode.childNodes[t]||null}return null}contains(t){if(t===this)return!0;let i=Array.from(this.childNodes);return i.includes(t)?!0:i.some(d=>this.contains.bind(d)(t))}removeChild(t){let i=this.childNodes.indexOf(t);if(i>-1)if(this.childNodes.splice(i,1),this.nodeType===1){let d=this.isConnected;t.parentNode=null,d===!0&&Sd(t)}else t.parentNode=null;else throw new Error("node not found within childNodes during removeChild");return t}remove(){this.parentNode!=null&&(this.__parentNode?this.__parentNode.removeChild(this):this.parentNode.removeChild(this))}replaceChild(t,i){return i.parentNode===this?(this.insertBefore(t,i),i.remove(),t):null}get textContent(){var t;return(t=this._nodeValue)!=null?t:""}set textContent(t){this._nodeValue=String(t)}},o(mi,"MockNode2"),mi);Or.ELEMENT_NODE=1,Or.TEXT_NODE=3,Or.PROCESSING_INSTRUCTION_NODE=7,Or.COMMENT_NODE=8,Or.DOCUMENT_NODE=9,Or.DOCUMENT_TYPE_NODE=10,Or.DOCUMENT_FRAGMENT_NODE=11;var n2=(fi=class{constructor(t,i,d){this.ownerDocument=t,this.childNodes=i,this.length=d}},o(fi,"MockNodeList"),fi),Lc=(gi=class extends Or{attachInternals(){return new Proxy({},{get:o(function(t,i,d){"process"in globalThis&&K8.__STENCIL_SPEC_TESTS__&&console.error(`NOTE: Property ${String(i)} was accessed on ElementInternals, but this property is not implemented.
  Testing components with ElementInternals is fully supported in e2e tests.`)},"get")})}constructor(t,i,d=null){super(t,1,typeof i=="string"?i:null,null),this.__namespaceURI=d,this.__shadowRoot=null,this.__attributeMap=null}addEventListener(t,i){kd(this,t,i)}attachShadow(t){let i=this.ownerDocument.createDocumentFragment();return this.shadowRoot=i,i}blur(){xn(this,new Cd("blur",{relatedTarget:null,bubbles:!0,cancelable:!0,composed:!0}))}get localName(){if(!this.nodeName)throw new Error("Can't compute elements localName without nodeName");return this.nodeName.toLocaleLowerCase()}get namespaceURI(){return this.__namespaceURI}get shadowRoot(){return this.__shadowRoot||null}set shadowRoot(t){t!=null?(t.host=this,this.__shadowRoot=t):delete this.__shadowRoot}get attributes(){if(this.__attributeMap==null){let t=Hf(!1);return this.__attributeMap=t,t}return this.__attributeMap}set attributes(t){this.__attributeMap=t}get children(){return this.childNodes.filter(t=>t.nodeType===1)}get childElementCount(){return this.childNodes.filter(t=>t.nodeType===1).length}get className(){return this.getAttributeNS(null,"class")||""}set className(t){this.setAttributeNS(null,"class",t)}get classList(){return new tA(this)}click(){xn(this,new Ln("click",{bubbles:!0,cancelable:!0,composed:!0}))}cloneNode(t){return null}closest(t){let i=this;for(;i!=null;){if(i.matches(t))return i;i=i.parentNode}return null}get dataset(){return Gf(this)}get dir(){return this.getAttributeNS(null,"dir")||""}set dir(t){this.setAttributeNS(null,"dir",t)}dispatchEvent(t){return xn(this,t)}get firstElementChild(){return this.children[0]||null}focus(t){xn(this,new Cd("focus",{relatedTarget:null,bubbles:!0,cancelable:!0,composed:!0}))}getAttribute(t){if(t==="style")return this.__style!=null&&this.__style.length>0?this.style.cssText:null;let i=this.attributes.getNamedItem(t);return i!=null?i.value:null}getAttributeNS(t,i){let d=this.attributes.getNamedItemNS(t,i);return d!=null?d.value:null}getAttributeNode(t){return this.hasAttribute(t)?new Ba(t,this.getAttribute(t)):null}getBoundingClientRect(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}getRootNode(t){let i=t!=null&&t.composed===!0,d=this;for(;d.parentNode!=null;)d=d.parentNode,i===!0&&d.parentNode==null&&d.host!=null&&(d=d.host);return d}get draggable(){return this.getAttributeNS(null,"draggable")==="true"}set draggable(t){this.setAttributeNS(null,"draggable",t)}hasChildNodes(){return this.childNodes.length>0}get id(){return this.getAttributeNS(null,"id")||""}set id(t){this.setAttributeNS(null,"id",t)}get innerHTML(){return this.childNodes.length===0?"":Ic(this,{newLines:!1,indentSpaces:0})}set innerHTML(t){var i;if(i1.has((i=this.nodeName)!=null?i:"")===!0)su(this,t);else{for(let d=this.childNodes.length-1;d>=0;d--)this.removeChild(this.childNodes[d]);if(typeof t=="string"){let d=op(this.ownerDocument,t);for(;d.childNodes.length>0;)this.appendChild(d.childNodes[0])}}}get innerText(){let t=[];return ru(this.childNodes,t),t.join("")}set innerText(t){su(this,t)}insertAdjacentElement(t,i){return t==="beforebegin"&&this.parentNode?ws(this.parentNode,i,this):t==="afterbegin"?this.prepend(i):t==="beforeend"?this.appendChild(i):t==="afterend"&&this.parentNode&&ws(this.parentNode,i,this.nextSibling),i}insertAdjacentHTML(t,i){let d=op(this.ownerDocument,i);if(t==="beforebegin")for(;d.childNodes.length>0;)this.parentNode&&ws(this.parentNode,d.childNodes[0],this);else if(t==="afterbegin")for(;d.childNodes.length>0;)this.prepend(d.childNodes[d.childNodes.length-1]);else if(t==="beforeend")for(;d.childNodes.length>0;)this.appendChild(d.childNodes[0]);else if(t==="afterend")for(;d.childNodes.length>0;)this.parentNode&&ws(this.parentNode,d.childNodes[d.childNodes.length-1],this.nextSibling)}insertAdjacentText(t,i){let d=this.ownerDocument.createTextNode(i);t==="beforebegin"&&this.parentNode?ws(this.parentNode,d,this):t==="afterbegin"?this.prepend(d):t==="beforeend"?this.appendChild(d):t==="afterend"&&this.parentNode&&ws(this.parentNode,d,this.nextSibling)}hasAttribute(t){return t==="style"?this.__style!=null&&this.__style.length>0:this.getAttribute(t)!==null}hasAttributeNS(t,i){return this.getAttributeNS(t,i)!==null}get hidden(){return this.hasAttributeNS(null,"hidden")}set hidden(t){t===!0?this.setAttributeNS(null,"hidden",""):this.removeAttributeNS(null,"hidden")}get lang(){return this.getAttributeNS(null,"lang")||""}set lang(t){this.setAttributeNS(null,"lang",t)}get lastElementChild(){let t=this.children;return t[t.length-1]||null}matches(t){return e1(t,this)}get nextElementSibling(){let t=this.parentElement;if(t!=null&&(t.nodeType===1||t.nodeType===11||t.nodeType===9)){let i=t.children.indexOf(this)+1;return t.children[i]||null}return null}get outerHTML(){return Ic(this,{newLines:!1,outerHtml:!0,indentSpaces:0})}get previousElementSibling(){let t=this.parentElement;if(t!=null&&(t.nodeType===1||t.nodeType===11||t.nodeType===9)){let i=t.children.indexOf(this)-1;return t.children[i]||null}return null}getElementsByClassName(t){let i=t.trim().split(" ").filter(E=>E.length>0),d=[];return hp(this,i,d),d}getElementsByTagName(t){let i=[];return up(this,t.toLowerCase(),i),i}querySelector(t){return t1(t,this)}querySelectorAll(t){return r1(t,this)}removeAttribute(t){if(t==="style")delete this.__style;else{let i=this.attributes.getNamedItem(t);i!=null&&(this.attributes.removeNamedItemNS(i),Ec(this)===!0&&Fa(this,t,i.value,null))}}removeAttributeNS(t,i){let d=this.attributes.getNamedItemNS(t,i);d!=null&&(this.attributes.removeNamedItemNS(d),Ec(this)===!0&&Fa(this,i,d.value,null))}removeEventListener(t,i){wd(this,t,i)}setAttribute(t,i){if(t==="style")this.style=i;else{let d=this.attributes,E=d.getNamedItem(t),y=Ec(this);if(E!=null)if(y===!0){let O=E.value;E.value=i,O!==E.value&&Fa(this,E.name,O,E.value)}else E.value=i;else d.caseInsensitive&&(t=t.toLowerCase()),E=new Ba(t,i),d.__items.push(E),y===!0&&Fa(this,t,null,E.value)}}setAttributeNS(t,i,d){let E=this.attributes,y=E.getNamedItemNS(t,i),O=Ec(this);if(y!=null)if(O===!0){let Y=y.value;y.value=d,Y!==y.value&&Fa(this,y.name,Y,y.value)}else y.value=d;else y=new Ba(i,d,t),E.__items.push(y),O===!0&&Fa(this,i,null,y.value)}get style(){return this.__style==null&&(this.__style=_d()),this.__style}set style(t){typeof t=="string"?(this.__style==null&&(this.__style=_d()),this.__style.cssText=t):this.__style=t}get tabIndex(){return parseInt(this.getAttributeNS(null,"tabindex")||"-1",10)}set tabIndex(t){this.setAttributeNS(null,"tabindex",t)}get tagName(){var t;return(t=this.nodeName)!=null?t:""}set tagName(t){this.nodeName=t}get textContent(){let t=[];return ru(this.childNodes,t),t.join("")}set textContent(t){su(this,t)}get title(){return this.getAttributeNS(null,"title")||""}set title(t){this.setAttributeNS(null,"title",t)}animate(){}onanimationstart(){}onanimationend(){}onanimationiteration(){}onabort(){}onauxclick(){}onbeforecopy(){}onbeforecut(){}onbeforepaste(){}onblur(){}oncancel(){}oncanplay(){}oncanplaythrough(){}onchange(){}onclick(){}onclose(){}oncontextmenu(){}oncopy(){}oncuechange(){}oncut(){}ondblclick(){}ondrag(){}ondragend(){}ondragenter(){}ondragleave(){}ondragover(){}ondragstart(){}ondrop(){}ondurationchange(){}onemptied(){}onended(){}onerror(){}onfocus(){}onfocusin(){}onfocusout(){}onformdata(){}onfullscreenchange(){}onfullscreenerror(){}ongotpointercapture(){}oninput(){}oninvalid(){}onkeydown(){}onkeypress(){}onkeyup(){}onload(){}onloadeddata(){}onloadedmetadata(){}onloadstart(){}onlostpointercapture(){}onmousedown(){}onmouseenter(){}onmouseleave(){}onmousemove(){}onmouseout(){}onmouseover(){}onmouseup(){}onmousewheel(){}onpaste(){}onpause(){}onplay(){}onplaying(){}onpointercancel(){}onpointerdown(){}onpointerenter(){}onpointerleave(){}onpointermove(){}onpointerout(){}onpointerover(){}onpointerup(){}onprogress(){}onratechange(){}onreset(){}onresize(){}onscroll(){}onsearch(){}onseeked(){}onseeking(){}onselect(){}onselectstart(){}onstalled(){}onsubmit(){}onsuspend(){}ontimeupdate(){}ontoggle(){}onvolumechange(){}onwaiting(){}onwebkitfullscreenchange(){}onwebkitfullscreenerror(){}onwheel(){}requestFullscreen(){}scrollBy(){}scrollTo(){}scrollIntoView(){}toString(t){return Ic(this,t)}},o(gi,"MockElement"),gi);function hp(r,t,i){let d=r.children;for(let E=0,y=d.length;E<y;E++){let O=d[E];for(let Y=0,be=t.length;Y<be;Y++)O.classList.contains(t[Y])&&i.push(O);hp(O,t,i)}}o(hp,"getElementsByClassName");function up(r,t,i){var d;let E=r.children;for(let y=0,O=E.length;y<O;y++){let Y=E[y];(t==="*"||((d=Y.nodeName)!=null?d:"").toLowerCase()===t)&&i.push(Y),up(Y,t,i)}}o(up,"getElementsByTagName");function dp(r){$h(r),delete r.__attributeMap,delete r.__shadowRoot,delete r.__style}o(dp,"resetElement");function ws(r,t,i){if(t!==i){if(t.remove(),t.parentNode=r,t.ownerDocument=r.ownerDocument,i!=null){let d=r.childNodes.indexOf(i);if(d>-1)r.childNodes.splice(d,0,t);else throw new Error("referenceNode not found in parentNode.childNodes")}else r.childNodes.push(t);gc(r.ownerDocument,t)}return t}o(ws,"insertBefore");var St=(Ei=class extends Lc{constructor(t,i){super(t,typeof i=="string"?i.toUpperCase():null),this.__namespaceURI="http://www.w3.org/1999/xhtml"}get tagName(){var t;return(t=this.nodeName)!=null?t:""}set tagName(t){this.nodeName=t}get parentElement(){return this.nodeName==="HTML"?null:super.parentElement}get attributes(){if(this.__attributeMap==null){let t=Hf(!0);return this.__attributeMap=t,t}return this.__attributeMap}set attributes(t){this.__attributeMap=t}},o(Ei,"MockHTMLElement"),Ei),o1=(Va=class extends Or{constructor(t,i){super(t,3,"#text",i)}cloneNode(t){return new Va(null,this.nodeValue)}get textContent(){return this.nodeValue}set textContent(t){this.nodeValue=t}get data(){return this.nodeValue}set data(t){this.nodeValue=t}get wholeText(){if(this.parentNode!=null){let t=[];for(let i=0,d=this.parentNode.childNodes.length;i<d;i++){let E=this.parentNode.childNodes[i];E.nodeType===3&&t.push(E.nodeValue)}return t.join("")}return this.nodeValue}},o(Va,"_MockTextNode"),Va);function ru(r,t){for(let i=0,d=r.length;i<d;i++){let E=r[i];E.nodeType===3?t.push(E.nodeValue):E.nodeType===1&&ru(E.childNodes,t)}}o(ru,"getTextContent");function su(r,t){for(let d=r.childNodes.length-1;d>=0;d--)r.removeChild(r.childNodes[d]);let i=new o1(r.ownerDocument,t);r.appendChild(i)}o(su,"setTextContent");var i2=(Za=class extends Or{constructor(t,i){super(t,8,"#comment",i)}cloneNode(t){return new Za(null,this.nodeValue)}get textContent(){return this.nodeValue}set textContent(t){this.nodeValue=t}},o(Za,"_MockComment"),Za),Vn=(Wa=class extends St{constructor(t){super(t,null),this.nodeName="#document-fragment",this.nodeType=11}getElementById(t){return cu(this,t)}cloneNode(t){let i=new Wa(null);if(t)for(let d=0,E=this.childNodes.length;d<E;d++){let y=this.childNodes[d];if(y.nodeType===1||y.nodeType===3||y.nodeType===8){let O=this.childNodes[d].cloneNode(!0);i.appendChild(O)}}return i}},o(Wa,"_MockDocumentFragment"),Wa),o2=(Ti=class extends St{constructor(t){super(t,"!DOCTYPE"),this.nodeType=10,this.setAttribute("html","")}},o(Ti,"MockDocumentTypeNode"),Ti),l2=(bi=class{constructor(t){this.parentStyleSheet=t,this.cssText="",this.type=0}},o(bi,"MockCSSRule"),bi),c2=(yi=class{constructor(t){this.type="text/css",this.parentStyleSheet=null,this.cssRules=[],this.ownerNode=t}get rules(){return this.cssRules}set rules(t){this.cssRules=t}deleteRule(t){t>=0&&t<this.cssRules.length&&(this.cssRules.splice(t,1),iu(this.ownerNode))}insertRule(t,i=0){typeof i!="number"&&(i=0),i<0&&(i=0),i>this.cssRules.length&&(i=this.cssRules.length);let d=new l2(this);return d.cssText=t,this.cssRules.splice(i,0,d),iu(this.ownerNode),i}},o(yi,"MockCSSStyleSheet"),yi);function au(r){let t=[];for(let i=0;i<r.childNodes.length;i++)t.push(r.childNodes[i].nodeValue);return t.join("")}o(au,"getStyleElementText");function nu(r,t){let i=r.sheet;i.cssRules.length=0,i.insertRule(t),iu(r)}o(nu,"setStyleElementText");function iu(r){let t=r.childNodes.length;if(t>1)for(let d=t-1;d>=1;d--)r.removeChild(r.childNodes[d]);else t<1&&r.appendChild(r.ownerDocument.createTextNode(""));let i=r.childNodes[0];i.nodeValue=r.sheet.cssRules.map(d=>d.cssText).join(`
`)}o(iu,"updateStyleTextNode");function ou(r,t){if(typeof t!="string"||t===""||!/^[a-z0-9-_:]+$/i.test(t))throw new Error(`The tag name provided (${t}) is not a valid name.`);switch(t=t.toLowerCase(),t){case"a":return new c1(r);case"base":return new p1(r);case"button":return new lu(r);case"canvas":return new T1(r);case"form":return new fp(r);case"img":return new pp(r);case"input":return new mp(r);case"link":return new gp(r);case"meta":return new Ep(r);case"script":return new Tp(r);case"slot":return new E1(r);case"slot-fb":return new St(r,t);case"style":return new u1(r);case"template":return new m1(r);case"title":return new f1(r);case"ul":return new g1(r)}if(r!=null&&t.includes("-")){let i=r.defaultView;if(i!=null&&i.customElements!=null)return Ad(i.customElements,r,t)}return new St(r,t)}o(ou,"createElement");function l1(r,t,i){if(t==="http://www.w3.org/1999/xhtml")return ou(r,i);if(t==="http://www.w3.org/2000/svg")switch(i.toLowerCase()){case"text":case"tspan":case"tref":case"altglyph":case"textpath":return new d2(r,i);case"circle":case"ellipse":case"image":case"line":case"path":case"polygon":case"polyline":case"rect":case"use":return new yp(r,i);case"svg":return new u2(r,i);default:return new d1(r,i)}else return new Lc(r,i,t)}o(l1,"createElementNS");var c1=(_i=class extends St{constructor(t){super(t,"a")}get href(){return Zn(this,"href")}set href(t){this.setAttribute("href",t)}get pathname(){return this.href?new URL(this.href).pathname:""}},o(_i,"MockAnchorElement"),_i),lu=(Ai=class extends St{constructor(t){super(t,"button")}},o(Ai,"MockButtonElement"),Ai);Is(lu.prototype,{type:String},{type:"submit"}),Object.defineProperty(lu.prototype,"form",{get(){return this.hasAttribute("form")?this.getAttribute("form"):null}});var pp=(vi=class extends St{constructor(t){super(t,"img")}get draggable(){return this.getAttributeNS(null,"draggable")!=="false"}set draggable(t){this.setAttributeNS(null,"draggable",t)}get src(){return Zn(this,"src")}set src(t){this.setAttribute("src",t)}},o(vi,"MockImageElement"),vi);Is(pp.prototype,{height:Number,width:Number});var mp=(Si=class extends St{constructor(t){super(t,"input")}get list(){let t=this.getAttribute("list");return t?this.ownerDocument.getElementById(t):null}},o(Si,"MockInputElement"),Si);Is(mp.prototype,{accept:String,autocomplete:String,autofocus:Boolean,capture:String,checked:Boolean,disabled:Boolean,form:String,formaction:String,formenctype:String,formmethod:String,formnovalidate:String,formtarget:String,height:Number,inputmode:String,max:String,maxLength:Number,min:String,minLength:Number,multiple:Boolean,name:String,pattern:String,placeholder:String,required:Boolean,readOnly:Boolean,size:Number,spellCheck:Boolean,src:String,step:String,type:String,value:String,width:Number},{type:"text"});var fp=(Ci=class extends St{constructor(t){super(t,"form")}},o(Ci,"MockFormElement"),Ci);Is(fp.prototype,{name:String});var gp=(ki=class extends St{constructor(t){super(t,"link")}get href(){return Zn(this,"href")}set href(t){this.setAttribute("href",t)}},o(ki,"MockLinkElement"),ki);Is(gp.prototype,{crossorigin:String,media:String,rel:String,type:String});var Ep=(wi=class extends St{constructor(t){super(t,"meta")}},o(wi,"MockMetaElement"),wi);Is(Ep.prototype,{charset:String,content:String,name:String});var Tp=(Ii=class extends St{constructor(t){super(t,"script")}get src(){return Zn(this,"src")}set src(t){this.setAttribute("src",t)}},o(Ii,"MockScriptElement"),Ii);Is(Tp.prototype,{type:String});var bp=(Wt=class{constructor(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,this.is2D=!0,this.isIdentity=!0}static fromMatrix(){return new Wt}inverse(){return new Wt}flipX(){return new Wt}flipY(){return new Wt}multiply(){return new Wt}rotate(){return new Wt}rotateAxisAngle(){return new Wt}rotateFromVector(){return new Wt}scale(){return new Wt}scaleNonUniform(){return new Wt}skewX(){return new Wt}skewY(){return new Wt}toJSON(){}toString(){}transformPoint(){return new h1}translate(){return new Wt}},o(Wt,"_MockDOMMatrix"),Wt),h1=(Ni=class{constructor(){this.w=1,this.x=0,this.y=0,this.z=0}toJSON(){}matrixTransform(){return new bp}},o(Ni,"MockDOMPoint"),Ni),h2=(Li=class{constructor(){this.height=10,this.width=10,this.x=0,this.y=0}},o(Li,"MockSVGRect"),Li),u1=(xi=class extends St{constructor(t){super(t,"style"),this.sheet=new c2(this)}get innerHTML(){return au(this)}set innerHTML(t){nu(this,t)}get innerText(){return au(this)}set innerText(t){nu(this,t)}get textContent(){return au(this)}set textContent(t){nu(this,t)}},o(xi,"MockStyleElement"),xi),d1=(Ri=class extends Lc{constructor(){super(...arguments),this.__namespaceURI="http://www.w3.org/2000/svg"}get ownerSVGElement(){return null}get viewportElement(){return null}onunload(){}get pathLength(){return 0}isPointInFill(t){return!1}isPointInStroke(t){return!1}getTotalLength(){return 0}},o(Ri,"MockSVGElement"),Ri),yp=(Oi=class extends d1{getBBox(t){return new h2}getCTM(){return new bp}getScreenCTM(){return new bp}},o(Oi,"MockSVGGraphicsElement"),Oi),u2=(Mi=class extends yp{createSVGPoint(){return new h1}},o(Mi,"MockSVGSVGElement"),Mi),d2=(Di=class extends yp{getComputedTextLength(){return 0}},o(Di,"MockSVGTextContentElement"),Di),p1=(Pi=class extends St{constructor(t){super(t,"base")}get href(){return Zn(this,"href")}set href(t){this.setAttribute("href",t)}},o(Pi,"MockBaseElement"),Pi),m1=(Ya=class extends St{constructor(t){super(t,"template"),this.content=new Vn(t)}get innerHTML(){return this.content.innerHTML}set innerHTML(t){this.content.innerHTML=t}cloneNode(t){let i=new Ya(null);i.attributes=Dh(this.attributes);let d=this.getAttribute("style");if(d!=null&&d.length>0&&i.setAttribute("style",d),i.content=this.content.cloneNode(t),t)for(let E=0,y=this.childNodes.length;E<y;E++){let O=this.childNodes[E].cloneNode(!0);i.appendChild(O)}return i}},o(Ya,"_MockTemplateElement"),Ya),f1=($i=class extends St{constructor(t){super(t,"title")}get text(){return this.textContent}set text(t){this.textContent=t}},o($i,"MockTitleElement"),$i),g1=(Hi=class extends St{constructor(t){super(t,"ul")}},o(Hi,"MockUListElement"),Hi),E1=(hs=class extends St{constructor(t){super(t,"slot")}assignedNodes(t){let i=[],d=this.getRootNode().host;return!d||d.childNodes.length&&(this.name?i=d.childNodes.filter(E=>E.nodeType===1&&E.getAttribute("slot")===this.name):i=d.childNodes.filter(E=>E.nodeType===1&&!E.getAttribute("slot")||E.nodeType!==1),i.length)?i:t?.flatten?this.childNodes.reduce((E,y)=>(y instanceof hs?E.push(...y.assignedNodes(t)):E.push(y),E),[]):this.childNodes.filter(E=>!(E instanceof hs))}assignedElements(t){let i=[],d=this.getRootNode().host;return!d||d.children.length&&(this.name?i=d.children.filter(E=>E.getAttribute("slot")==this.name):i=d.children.filter(E=>!E.getAttribute("slot")),i.length)?i:t?.flatten?this.children.reduce((E,y)=>(y instanceof hs?E.push(...y.assignedElements(t)):E.push(y),E),[]):this.children.filter(E=>!(E instanceof hs))}},o(hs,"_MockSlotElement"),hs);Is(E1.prototype,{name:String});var p2=(Bi=class{constructor(t,i){this.context=t,this.contextAttributes=i}fillRect(){}clearRect(){}getImageData(t,i,d,E){return{data:new Array(d*E*4)}}toDataURL(){return"data:,"}putImageData(){}createImageData(){return{}}setTransform(){}drawImage(){}save(){}fillText(){}restore(){}beginPath(){}moveTo(){}lineTo(){}closePath(){}stroke(){}translate(){}scale(){}rotate(){}arc(){}fill(){}measureText(){return{width:0}}transform(){}rect(){}clip(){}},o(Bi,"CanvasRenderingContext"),Bi),T1=(Ui=class extends St{constructor(t){super(t,"canvas")}getContext(t,i){return new p2(t,i)}},o(Ui,"MockCanvasElement"),Ui);function Zn(r,t){let i=r.getAttribute(t)||"";if(r.ownerDocument!=null){let d=r.ownerDocument.defaultView;if(d!=null){let E=d.location;if(E!=null)try{return new URL(i,E.href).href}catch{}}}return i.replace(/\'|\"/g,"").trim()}o(Zn,"fullUrl");function Is(r,t,i={}){Object.keys(t).forEach(d=>{let E=t[d],y=i[d];E===Boolean?Object.defineProperty(r,d,{get(){return this.hasAttribute(d)},set(O){O?this.setAttribute(d,""):this.removeAttribute(d)}}):E===Number?Object.defineProperty(r,d,{get(){let O=this.getAttribute(d);return O?parseInt(O,10):y===void 0?0:y},set(O){this.setAttribute(d,O)}}):Object.defineProperty(r,d,{get(){return this.hasAttribute(d)?this.getAttribute(d):y||""},set(O){this.setAttribute(d,O)}})})}o(Is,"patchPropAttributes"),Lc.prototype.cloneNode=function(r){let t=ou(this.ownerDocument,this.nodeName);t.attributes=Dh(this.attributes);let i=this.getAttribute("style");if(i!=null&&i.length>0&&t.setAttribute("style",i),r)for(let d=0,E=this.childNodes.length;d<E;d++){let y=this.childNodes[d].cloneNode(!0);t.appendChild(y)}return t};var _p;function b1(r,t=null){return t==null&&(_p==null&&(_p=new xc),t=_p),ip(t,r)}o(b1,"parseHtmlToDocument");var Pt=o(()=>{},"consoleNoop");function y1(){return{debug:Pt,error:Pt,info:Pt,log:Pt,warn:Pt,dir:Pt,dirxml:Pt,table:Pt,trace:Pt,group:Pt,groupCollapsed:Pt,groupEnd:Pt,clear:Pt,count:Pt,countReset:Pt,assert:Pt,profile:Pt,profileEnd:Pt,time:Pt,timeLog:Pt,timeEnd:Pt,timeStamp:Pt,context:Pt,memory:Pt}}o(y1,"createConsole");var ja=(Fi=class{constructor(t){if(this._values=[],typeof t=="object")if(typeof t[Symbol.iterator]=="function"){let i=[];for(let d of t)typeof d[Symbol.iterator]=="function"&&i.push([...d]);for(let d of i)this.append(d[0],d[1])}else for(let i in t)this.append(i,t[i])}append(t,i){this._values.push([t,i+""])}delete(t){t=t.toLowerCase();for(let i=this._values.length-1;i>=0;i--)this._values[i][0].toLowerCase()===t&&this._values.splice(i,1)}entries(){let t=[];for(let d of this.keys())t.push([d,this.get(d)]);let i=-1;return{next(){return i++,{value:t[i],done:!t[i]}},[Symbol.iterator](){return this}}}forEach(t){for(let i of this.entries())t(i[1],i[0])}get(t){let i=[];t=t.toLowerCase();for(let d of this._values)d[0].toLowerCase()===t&&i.push(d[1]);return i.length>0?i.join(", "):null}has(t){t=t.toLowerCase();for(let i of this._values)if(i[0].toLowerCase()===t)return!0;return!1}keys(){let t=[];for(let d of this._values){let E=d[0].toLowerCase();t.includes(E)||t.push(E)}let i=-1;return{next(){return i++,{value:t[i],done:!t[i]}},[Symbol.iterator](){return this}}}set(t,i){for(let d of this._values)if(d[0].toLowerCase()===t.toLowerCase()){d[1]=i+"";return}this.append(t,i)}values(){let t=this._values,i=-1;return{next(){i++;let d=!t[i];return{value:d?void 0:t[i][1],done:d}},[Symbol.iterator](){return this}}}[Symbol.iterator](){return this.entries()}},o(Fi,"MockHeaders"),Fi),m2=(zi=class{parseFromString(t,i){return i!=="text/html"&&console.error("XML parsing not implemented yet, continuing as html"),b1(t)}},o(zi,"MockDOMParser"),zi),f2=(qa=class{constructor(t,i={}){this._method="GET",this._url="/",this.bodyUsed=!1,this.cache="default",this.credentials="same-origin",this.integrity="",this.keepalive=!1,this.mode="cors",this.redirect="follow",this.referrer="about:client",this.referrerPolicy="",typeof t=="string"?this.url=t:t&&(Object.assign(this,t),this.headers=new ja(t.headers)),Object.assign(this,i),i.headers&&(this.headers=new ja(i.headers)),this.headers||(this.headers=new ja)}get url(){return typeof this._url=="string"?new URL(this._url,location.href).href:new URL("/",location.href).href}set url(t){this._url=t}get method(){return typeof this._method=="string"?this._method.toUpperCase():"GET"}set method(t){this._method=t}clone(){let t={...this};return t.headers=new ja(this.headers),new qa(t)}},o(qa,"_MockRequest"),qa),g2=(Ka=class{constructor(t,i={}){this.ok=!0,this.status=200,this.statusText="",this.type="default",this.url="",this._body=t,i&&Object.assign(this,i),this.headers=new ja(i.headers)}async json(){return JSON.parse(this._body)}async text(){return this._body}clone(){let t={...this};return t.headers=new ja(this.headers),new Ka(this._body,t)}},o(Ka,"_MockResponse"),Ka);function _1(r){let t=new Yn(!1);E2.forEach(i=>{typeof r[i]!="function"&&(r[i]=t[i].bind(t))}),T2.forEach(i=>{r===void 0&&Object.defineProperty(r,i,{get(){return t[i]},set(d){t[i]=d},configurable:!0,enumerable:!0})})}o(_1,"patchWindow");function A1(r){b2.forEach(([t,i])=>{Object.defineProperty(r,t,{get(){return this["__"+t]||i},set(d){this["__"+t]=d},configurable:!0,enumerable:!0})})}o(A1,"addGlobalsToWindowPrototype");var E2=["addEventListener","alert","blur","cancelAnimationFrame","cancelIdleCallback","clearInterval","clearTimeout","close","confirm","dispatchEvent","focus","getComputedStyle","matchMedia","open","prompt","removeEventListener","requestAnimationFrame","requestIdleCallback","URL"],T2=["customElements","devicePixelRatio","document","history","innerHeight","innerWidth","localStorage","location","navigator","pageXOffset","pageYOffset","performance","screenLeft","screenTop","screenX","screenY","scrollX","scrollY","sessionStorage","CSS","CustomEvent","Event","Element","HTMLElement","Node","NodeList","FocusEvent","KeyboardEvent","MouseEvent"],b2=[["CustomEvent",nA],["DocumentFragment",Vn],["DOMParser",m2],["Event",Ln],["FocusEvent",Cd],["Headers",ja],["KeyboardEvent",iA],["MouseEvent",oA],["Request",f2],["Response",g2],["ShadowRoot",Vn],["HTMLAnchorElement",c1],["HTMLBaseElement",p1],["HTMLButtonElement",lu],["HTMLCanvasElement",T1],["HTMLFormElement",fp],["HTMLImageElement",pp],["HTMLInputElement",mp],["HTMLLinkElement",gp],["HTMLMetaElement",Ep],["HTMLScriptElement",Tp],["HTMLStyleElement",u1],["HTMLTemplateElement",m1],["HTMLTitleElement",f1],["HTMLUListElement",g1]],y2=(Gi=class{constructor(){this.items=[]}get length(){return this.items.length}back(){this.go(-1)}forward(){this.go(1)}go(t){}pushState(t,i,d){}replaceState(t,i,d){}},o(Gi,"MockHistory"),Gi),_2=(ji=class{constructor(){}disconnect(){}observe(){}takeRecords(){return[]}unobserve(){}},o(ji,"MockIntersectionObserver"),ji),v1=(Vi=class{constructor(){this.ancestorOrigins=null,this.protocol="",this.host="",this.hostname="",this.port="",this.pathname="",this.search="",this.hash="",this.username="",this.password="",this.origin="",this._href=""}get href(){return this._href}set href(t){let i=new URL(t,"http://mockdoc.stenciljs.com");this._href=i.href,this.protocol=i.protocol,this.host=i.host,this.hostname=i.hostname,this.port=i.port,this.pathname=i.pathname,this.search=i.search,this.hash=i.hash,this.username=i.username,this.password=i.password,this.origin=i.origin}assign(t){}reload(t){}replace(t){}toString(){return this.href}},o(Vi,"MockLocation"),Vi),A2=(Zi=class{constructor(){this.appCodeName="MockNavigator",this.appName="MockNavigator",this.appVersion="MockNavigator",this.platform="MockNavigator",this.userAgent="MockNavigator"}},o(Zi,"MockNavigator"),Zi),v2=(Wi=class{constructor(){this.timeOrigin=Date.now(),this.eventCounts=new Map}addEventListener(){}clearMarks(){}clearMeasures(){}clearResourceTimings(){}dispatchEvent(){return!0}getEntries(){return[]}getEntriesByName(){return[]}getEntriesByType(){return[]}mark(){}measure(){}get navigation(){return{}}now(){return Date.now()-this.timeOrigin}get onresourcetimingbufferfull(){return null}removeEventListener(){}setResourceTimingBufferSize(){}get timing(){return{}}toJSON(){}},o(Wi,"MockPerformance"),Wi);function S1(r){if(r!=null)try{r.timeOrigin=Date.now()}catch{}}o(S1,"resetPerformance");var S2=(Yi=class{constructor(){}disconnect(){}observe(){}takeRecords(){return[]}unobserve(){}},o(Yi,"MockResizeObserver"),Yi),C2=(qi=class extends Vn{get activeElement(){return null}set adoptedStyleSheets(t){throw new Error("Unimplemented")}get adoptedStyleSheets(){return[]}get cloneable(){return!1}get delegatesFocus(){return!1}get fullscreenElement(){return null}get host(){let t=this.parentElement();for(;t;){if(t.nodeType===11)return t;t=t.parentElement()}return null}get mode(){return"open"}get pictureInPictureElement(){return null}get pointerLockElement(){return null}get serializable(){return!1}get slotAssignment(){return"named"}get styleSheets(){return[]}},o(qi,"MockShadowRoot"),qi),C1=(Ki=class{constructor(){this.items=new Map}key(t){}getItem(t){return t=String(t),this.items.has(t)?this.items.get(t):null}setItem(t,i){i==null&&(i="null"),this.items.set(String(t),String(i))}removeItem(t){this.items.delete(String(t))}clear(){this.items.clear()}},o(Ki,"MockStorage"),Ki),k1=globalThis.clearInterval,w1=globalThis.clearTimeout,k2=globalThis.setInterval,w2=globalThis.setTimeout,I2=globalThis.URL,Wn=globalThis.window,Yn=(Qi=class{constructor(t=null){t!==!1?this.document=new xc(t,this):this.document=null,this.performance=new v2,this.customElements=new aA(this),this.console=y1(),Ap(this),vp(this)}addEventListener(t,i){kd(this,t,i)}alert(t){this.console?this.console.debug(t):console.debug(t)}blur(){}cancelAnimationFrame(t){this.__clearTimeout.call(Wn||this,t)}cancelIdleCallback(t){this.__clearTimeout.call(Wn||this,t)}get CharacterData(){if(this.__charDataCstr==null){let t=this.document;this.__charDataCstr=class extends Or{constructor(){throw super(t,0,"test",""),new Error("Illegal constructor: cannot construct CharacterData")}}}return this.__charDataCstr}set CharacterData(t){this.__charDataCstr=t}clearInterval(t){this.__clearInterval.call(Wn||this,t)}clearTimeout(t){this.__clearTimeout.call(Wn||this,t)}close(){L1(this)}confirm(){return!1}get CSS(){return{supports:o(()=>!0,"supports")}}get Document(){if(this.__docCstr==null){let t=this;this.__docCstr=class extends xc{constructor(){throw super(!1,t),new Error("Illegal constructor: cannot construct Document")}}}return this.__docCstr}set Document(t){this.__docCstr=t}get DocumentFragment(){if(this.__docFragCstr==null){let t=this.document;this.__docFragCstr=class extends Vn{constructor(){throw super(t),new Error("Illegal constructor: cannot construct DocumentFragment")}}}return this.__docFragCstr}set DocumentFragment(t){this.__docFragCstr=t}get ShadowRoot(){return C2}get DocumentType(){if(this.__docTypeCstr==null){let t=this.document;this.__docTypeCstr=class extends Or{constructor(){throw super(t,0,"test",""),new Error("Illegal constructor: cannot construct DocumentType")}}}return this.__docTypeCstr}set DocumentType(t){this.__docTypeCstr=t}get DOMTokenList(){var t;return this.__domTokenListCstr==null&&(this.__domTokenListCstr=(t=class{},o(t,"MockDOMTokenList"),t)),this.__domTokenListCstr}set DOMTokenList(t){this.__domTokenListCstr=t}dispatchEvent(t){return xn(this,t)}get Element(){if(this.__elementCstr==null){let t=this.document;this.__elementCstr=class extends Lc{constructor(){throw super(t,""),new Error("Illegal constructor: cannot construct Element")}}}return this.__elementCstr}fetch(t,i){if(typeof fetch=="function")return fetch(t,i);throw new Error("fetch() not implemented")}focus(){}getComputedStyle(t){return{cssText:"",length:0,parentRule:null,getPropertyPriority(){return null},getPropertyValue(){return""},item(){return null},removeProperty(){return null},setProperty(){return null}}}get globalThis(){return this}get history(){return this.__history==null&&(this.__history=new y2),this.__history}set history(t){this.__history=t}get JSON(){return JSON}get HTMLElement(){if(this.__htmlElementCstr==null){let t=this.document;this.__htmlElementCstr=class extends St{constructor(){super(t,"");let i=this.constructor.observedAttributes;Array.isArray(i)&&typeof this.attributeChangedCallback=="function"&&i.forEach(d=>{let E=this.getAttribute(d);E!=null&&this.attributeChangedCallback(d,null,E)})}}}return this.__htmlElementCstr}set HTMLElement(t){this.__htmlElementCstr=t}get IntersectionObserver(){return _2}get ResizeObserver(){return S2}get localStorage(){return this.__localStorage==null&&(this.__localStorage=new C1),this.__localStorage}set localStorage(t){this.__localStorage=t}get location(){return this.__location==null&&(this.__location=new v1),this.__location}set location(t){typeof t=="string"?(this.__location==null&&(this.__location=new v1),this.__location.href=t):this.__location=t}matchMedia(t){return{media:t,matches:!1,addListener:o(i=>{},"addListener"),removeListener:o(i=>{},"removeListener"),addEventListener:o((i,d)=>{},"addEventListener"),removeEventListener:o((i,d)=>{},"removeEventListener"),dispatchEvent:o(i=>{},"dispatchEvent"),onchange:null}}get Node(){if(this.__nodeCstr==null){let t=this.document;this.__nodeCstr=class extends Or{constructor(){throw super(t,0,"test",""),new Error("Illegal constructor: cannot construct Node")}}}return this.__nodeCstr}get NodeList(){if(this.__nodeListCstr==null){let t=this.document;this.__nodeListCstr=class extends n2{constructor(){throw super(t,[],0),new Error("Illegal constructor: cannot construct NodeList")}}}return this.__nodeListCstr}get navigator(){return this.__navigator==null&&(this.__navigator=new A2),this.__navigator}set navigator(t){this.__navigator=t}get parent(){return null}prompt(){return""}open(){return null}get origin(){return this.location.origin}removeEventListener(t,i){wd(this,t,i)}requestAnimationFrame(t){return this.setTimeout(()=>{t(Date.now())},0)}requestIdleCallback(t){return this.setTimeout(()=>{t({didTimeout:!1,timeRemaining:o(()=>0,"timeRemaining")})},0)}scroll(t,i){}scrollBy(t,i){}scrollTo(t,i){}get self(){return this}get sessionStorage(){return this.__sessionStorage==null&&(this.__sessionStorage=new C1),this.__sessionStorage}set sessionStorage(t){this.__sessionStorage=t}setInterval(t,i,...d){if(this.__timeouts==null&&(this.__timeouts=new Set),i=Math.min(i,this.__maxTimeout),this.__allowInterval){let y=this.__setInterval(()=>{if(this.__timeouts){this.__timeouts.delete(y);try{t(...d)}catch(O){this.console?this.console.error(O):console.error(O)}}},i);return this.__timeouts&&this.__timeouts.add(y),y}let E=this.__setTimeout.call(Wn||this,()=>{if(this.__timeouts){this.__timeouts.delete(E);try{t(...d)}catch(y){this.console?this.console.error(y):console.error(y)}}},i);return this.__timeouts&&this.__timeouts.add(E),E}setTimeout(t,i,...d){this.__timeouts==null&&(this.__timeouts=new Set),i=Math.min(i,this.__maxTimeout);let E=this.__setTimeout.call(Wn||this,()=>{if(this.__timeouts){this.__timeouts.delete(E);try{t(...d)}catch(y){this.console?this.console.error(y):console.error(y)}}},i);return this.__timeouts&&this.__timeouts.add(E),E}get top(){return this}get window(){return this}onanimationstart(){}onanimationend(){}onanimationiteration(){}onabort(){}onauxclick(){}onbeforecopy(){}onbeforecut(){}onbeforepaste(){}onblur(){}oncancel(){}oncanplay(){}oncanplaythrough(){}onchange(){}onclick(){}onclose(){}oncontextmenu(){}oncopy(){}oncuechange(){}oncut(){}ondblclick(){}ondrag(){}ondragend(){}ondragenter(){}ondragleave(){}ondragover(){}ondragstart(){}ondrop(){}ondurationchange(){}onemptied(){}onended(){}onerror(){}onfocus(){}onfocusin(){}onfocusout(){}onformdata(){}onfullscreenchange(){}onfullscreenerror(){}ongotpointercapture(){}oninput(){}oninvalid(){}onkeydown(){}onkeypress(){}onkeyup(){}onload(){}onloadeddata(){}onloadedmetadata(){}onloadstart(){}onlostpointercapture(){}onmousedown(){}onmouseenter(){}onmouseleave(){}onmousemove(){}onmouseout(){}onmouseover(){}onmouseup(){}onmousewheel(){}onpaste(){}onpause(){}onplay(){}onplaying(){}onpointercancel(){}onpointerdown(){}onpointerenter(){}onpointerleave(){}onpointermove(){}onpointerout(){}onpointerover(){}onpointerup(){}onprogress(){}onratechange(){}onreset(){}onresize(){}onscroll(){}onsearch(){}onseeked(){}onseeking(){}onselect(){}onselectstart(){}onstalled(){}onsubmit(){}onsuspend(){}ontimeupdate(){}ontoggle(){}onvolumechange(){}onwaiting(){}onwebkitfullscreenchange(){}onwebkitfullscreenerror(){}onwheel(){}},o(Qi,"MockWindow"),Qi);A1(Yn.prototype);function Ap(r){r.__clearInterval=k1,r.__clearTimeout=w1,r.__setInterval=k2,r.__setTimeout=w2,r.__maxTimeout=6e4,r.__allowInterval=!0,r.URL=I2}o(Ap,"resetWindowDefaults");function I1(r,t={}){if(r==null)return null;let i=new Yn(!1);if(t.customElementProxy||(r.customElements=null),r.document!=null){let d=new xc(!1,i);i.document=d,d.documentElement=r.document.documentElement.cloneNode(!0)}else i.document=new xc(null,i);return i}o(I1,"cloneWindow");function N1(r){r.__allowInterval=!1,r.__maxTimeout=0}o(N1,"constrainTimeouts");function L1(r){if(r!=null){r.__timeouts&&(r.__timeouts.forEach(t=>{k1(t),w1(t)}),r.__timeouts.clear()),r.customElements&&r.customElements.clear&&r.customElements.clear(),x1(r.document),S1(r.performance);for(let t in r)r.hasOwnProperty(t)&&t!=="document"&&t!=="performance"&&t!=="customElements"&&delete r[t];if(Ap(r),vp(r),$h(r),r.document!=null)try{r.document.defaultView=r}catch{}r.fetch=null,r.Headers=null,r.Request=null,r.Response=null,r.FetchError=null}}o(L1,"resetWindow");function vp(r){try{r.devicePixelRatio=1,r.innerHeight=768,r.innerWidth=1366,r.pageXOffset=0,r.pageYOffset=0,r.screenLeft=0,r.screenTop=0,r.screenX=0,r.screenY=0,r.scrollX=0,r.scrollY=0,r.screen={availHeight:r.innerHeight,availLeft:0,availTop:0,availWidth:r.innerWidth,colorDepth:24,height:r.innerHeight,keepAwake:!1,orientation:{angle:0,type:"portrait-primary"},pixelDepth:24,width:r.innerWidth}}catch{}}o(vp,"resetWindowDimensions");var xc=(Qa=class extends St{constructor(t=null,i=null){if(super(null,null),this.nodeName="#document",this.nodeType=9,this.defaultView=i,this.cookie="",this.referrer="",this.appendChild(this.createDocumentTypeNode()),typeof t=="string"){let d=ip(this,t).children.find(E=>E.nodeName==="HTML");d!=null&&(this.appendChild(d),qn(d,this))}else if(t!==!1){let d=new St(this,"html");this.appendChild(d),d.appendChild(new St(this,"head")),d.appendChild(new St(this,"body"))}}get dir(){return this.documentElement.dir}set dir(t){this.documentElement.dir=t}get localName(){throw new Error("Unimplemented")}get location(){return this.defaultView!=null?this.defaultView.location:null}set location(t){this.defaultView!=null&&(this.defaultView.location=t)}get baseURI(){let t=this.head.childNodes.find(i=>i.nodeName==="BASE");return t?t.href:this.URL}get URL(){return this.location.href}get styleSheets(){return this.querySelectorAll("style")}get scripts(){return this.querySelectorAll("script")}get forms(){return this.querySelectorAll("form")}get images(){return this.querySelectorAll("img")}get scrollingElement(){return this.documentElement}get documentElement(){for(let i=this.childNodes.length-1;i>=0;i--)if(this.childNodes[i].nodeName==="HTML")return this.childNodes[i];let t=new St(this,"html");return this.appendChild(t),t}set documentElement(t){for(let i=this.childNodes.length-1;i>=0;i--)this.childNodes[i].nodeType!==10&&this.childNodes[i].remove();t!=null&&(this.appendChild(t),qn(t,this))}get head(){let t=this.documentElement;for(let d=0;d<t.childNodes.length;d++)if(t.childNodes[d].nodeName==="HEAD")return t.childNodes[d];let i=new St(this,"head");return t.insertBefore(i,t.firstChild),i}set head(t){let i=this.documentElement;for(let d=i.childNodes.length-1;d>=0;d--)i.childNodes[d].nodeName==="HEAD"&&i.childNodes[d].remove();t!=null&&(i.insertBefore(t,i.firstChild),qn(t,this))}get body(){let t=this.documentElement;for(let d=t.childNodes.length-1;d>=0;d--)if(t.childNodes[d].nodeName==="BODY")return t.childNodes[d];let i=new St(this,"body");return t.appendChild(i),i}set body(t){let i=this.documentElement;for(let d=i.childNodes.length-1;d>=0;d--)i.childNodes[d].nodeName==="BODY"&&i.childNodes[d].remove();t!=null&&(i.appendChild(t),qn(t,this))}appendChild(t){return t.remove(),t.parentNode=this,this.childNodes.push(t),t}createComment(t){return new i2(this,t)}createAttribute(t){return new Ba(t.toLowerCase(),"")}createAttributeNS(t,i){return new Ba(i,"",t)}createElement(t){if(t==="#document"){let i=new Qa(!1);return i.nodeName=t,i.parentNode=null,i}return ou(this,t)}createElementNS(t,i){return l1(this,t,i)}createTextNode(t){return new o1(this,t)}createDocumentFragment(){return new Vn(this)}createDocumentTypeNode(){return new o2(this)}getElementById(t){return cu(this,t)}getElementsByName(t){return Sp(this,t.toLowerCase())}get title(){let t=this.head.childNodes.find(i=>i.nodeName==="TITLE");return t!=null&&typeof t.textContent=="string"?t.textContent.trim():""}set title(t){let i=this.head,d=i.childNodes.find(E=>E.nodeName==="TITLE");d==null&&(d=this.createElement("title"),i.appendChild(d)),d.textContent=t}},o(Qa,"_MockDocument"),Qa);function x1(r){if(r!=null){$h(r);let t=r.documentElement;if(t!=null){dp(t);for(let i=0,d=t.childNodes.length;i<d;i++){let E=t.childNodes[i];dp(E),E.childNodes.length=0}}for(let i in r)r.hasOwnProperty(i)&&!N2.has(i)&&delete r[i];try{r.nodeName="#document"}catch{}try{r.nodeType=9}catch{}try{r.cookie=""}catch{}try{r.referrer=""}catch{}}}o(x1,"resetDocument");var N2=new Set(["nodeName","nodeType","nodeValue","ownerDocument","parentNode","childNodes","_shadowRoot"]);function cu(r,t){let i=r.children;for(let d=0,E=i.length;d<E;d++){let y=i[d];if(y.id===t)return y;let O=cu(y,t);if(O!=null)return O}return null}o(cu,"getElementById");function Sp(r,t,i=[]){let d=r.children;for(let E=0,y=d.length;E<y;E++){let O=d[E];O.name&&O.name.toLowerCase()===t&&i.push(O),Sp(O,t,i)}return i}o(Sp,"getElementsByName");function qn(r,t){for(let i=0,d=r.childNodes.length;i<d;i++)r.childNodes[i].ownerDocument=t,r.childNodes[i].nodeType===1&&qn(r.childNodes[i],t)}o(qn,"setOwnerDocument");var R1=new Map;function O1(r,t){let i=R1.get(t);return i==null&&(i=new Yn(r),R1.set(t,i)),I1(i)}o(O1,"createWindowFromHtml"),(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})();var L2=o(r=>typeof r=="string","isString"),x2=o((r,t,i)=>{let d={level:"error",type:"build",header:"Build Error",messageText:"build error",lines:[]};return L2(i)?d.messageText=i.length?i:"UNKNOWN ERROR":t!=null&&(t.stack!=null?d.messageText=t.stack.toString():t.message!=null?d.messageText=t.message.length?t.message:"UNKNOWN ERROR":d.messageText=t.toString()),r!=null&&!R2(d.messageText)&&r.push(d),d},"catchError"),Cp=o(r=>r==null||r.length===0?!1:r.some(t=>t.level==="error"&&t.type!=="runtime"),"hasError"),R2=o(r=>r===O2,"shouldIgnoreError"),O2="task canceled",M2={};Mh(M2,{err:o(()=>M1,"err"),map:o(()=>D1,"map"),ok:o(()=>kp,"ok"),unwrap:o(()=>D2,"unwrap"),unwrapErr:o(()=>P2,"unwrapErr")});var kp=o(r=>({isOk:!0,isErr:!1,value:r}),"ok"),M1=o(r=>({isOk:!1,isErr:!0,value:r}),"err");function D1(r,t){if(r.isOk){let i=t(r.value);return i instanceof Promise?i.then(d=>kp(d)):kp(i)}if(r.isErr){let i=r.value;return M1(i)}throw"should never get here"}o(D1,"map");var D2=o(r=>{if(r.isOk)return r.value;throw r.value},"unwrap"),P2=o(r=>{if(r.isErr)return r.value;throw r.value},"unwrapErr"),wp=o(r=>new RegExp(`((?<!(^@supports(.*)))|(?<={.*))(${r}\\b)`,"gim"),"createSupportsRuleRe");wp("::slotted"),wp(":host"),wp(":host-context");var $2=o(r=>Rr.push(r),"setMode"),H2=o((r,t)=>{var i;let d=r.head.querySelector('link[rel="canonical"]');typeof t=="string"?(d==null&&(d=r.createElement("link"),d.setAttribute("rel","canonical"),r.head.appendChild(d)),d.setAttribute("href",t)):d!=null&&(d.getAttribute("href")||(i=d.parentNode)==null||i.removeChild(d))},"updateCanonicalLink"),B2=o(r=>{let t=r.head,i=t.querySelector("meta[charset]");i==null?(i=r.createElement("meta"),i.setAttribute("charset","utf-8")):i.remove(),t.insertBefore(i,t.firstChild)},"relocateMetaCharset"),U2=o((r,t)=>{var er;let i=1,d=1,E=[],y=o(ke=>{let he=ke.match(/\n/g);he&&(i+=he.length);let Je=ke.lastIndexOf(`
`);d=~Je?ke.length-Je:d+ke.length},"updatePosition"),O=o(()=>{let ke={line:i,column:d};return he=>(he.position=new Xi(ke),$t(),he)},"position"),Y=o(ke=>{let he=r.split(`
`),Je={level:"error",type:"css",language:"css",header:"CSS Parse",messageText:ke,absFilePath:t,lines:[{lineIndex:i-1,lineNumber:i,errorCharStart:d,text:r[i-1]}]};if(i>1){let Ht={lineIndex:i-1,lineNumber:i-1,text:r[i-2],errorCharStart:-1,errorLength:-1};Je.lines.unshift(Ht)}if(i+2<he.length){let Ht={lineIndex:i,lineNumber:i+1,text:he[i],errorCharStart:-1,errorLength:-1};Je.lines.push(Ht)}return E.push(Je),null},"error"),be=o(()=>{let ke=pt();return{type:14,stylesheet:{source:t,rules:ke}}},"stylesheet"),He=o(()=>Fe(/^{\s*/),"open"),Be=o(()=>Fe(/^}/),"close"),Fe=o(ke=>{let he=ke.exec(r);if(!he)return;let Je=he[0];return y(Je),r=r.slice(Je.length),he},"match"),pt=o(()=>{let ke,he=[];for($t(),Bt(he);r.length&&r.charAt(0)!=="}"&&(ke=Rt()||Nt());)he.push(ke),Bt(he);return he},"rules"),$t=o(()=>Fe(/^\s*/),"whitespace"),Bt=o(ke=>{let he;for(ke=ke||[];he=xs();)ke.push(he);return ke},"comments"),xs=o(()=>{let ke=O();if(r.charAt(0)!=="/"||r.charAt(1)!=="*")return null;let he=2;for(;r.charAt(he)!==""&&(r.charAt(he)!=="*"||r.charAt(he+1)!=="/");)++he;if(he+=2,r.charAt(he-1)==="")return Y("End of comment missing");let Je=r.slice(2,he-2);return d+=2,y(Je),r=r.slice(he),d+=2,ke({type:1,comment:Je})},"comment"),yr=o(()=>{let ke=Fe(/^([^{]+)/);return ke?Ns(ke[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(he){return he.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(he){return he.replace(/\u200C/g,",")}):null},"selector"),yt=o(()=>{let ke=O(),he=Fe(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!he)return null;if(he=Ns(he[0]),!Fe(/^:\s*/))return Y("property missing ':'");let Je=Fe(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),Ht=ke({type:4,property:he.replace(P1,""),value:Je?Ns(Je[0]).replace(P1,""):""});return Fe(/^[;\s]*/),Ht},"declaration"),je=o(()=>{let ke=[];if(!He())return Y("missing '{'");Bt(ke);let he;for(;he=yt();)ke.push(he),Bt(ke);return Be()?ke:Y("missing '}'")},"declarations"),Kr=o(()=>{let ke,he=[],Je=O();for(;ke=Fe(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)he.push(ke[1]),Fe(/^,\s*/);return he.length?Je({type:9,values:he,declarations:je()}):null},"keyframe"),K=o(()=>{let ke=O(),he=Fe(/^@([-\w]+)?keyframes\s*/);if(!he)return null;let Je=he[1];if(he=Fe(/^([-\w]+)\s*/),!he)return Y("@keyframes missing name");let Ht=he[1];if(!He())return Y("@keyframes missing '{'");let Qr,Dr=Bt();for(;Qr=Kr();)Dr.push(Qr),Dr=Dr.concat(Bt());return Be()?ke({type:8,name:Ht,vendor:Je,keyframes:Dr}):Y("@keyframes missing '}'")},"atkeyframes"),Jt=o(()=>{let ke=O(),he=Fe(/^@supports *([^{]+)/);if(!he)return null;let Je=Ns(he[1]);if(!He())return Y("@supports missing '{'");let Ht=Bt().concat(pt());return Be()?ke({type:15,supports:Je,rules:Ht}):Y("@supports missing '}'")},"atsupports"),Ct=o(()=>{let ke=O();if(!Fe(/^@host\s*/))return null;if(!He())return Y("@host missing '{'");let he=Bt().concat(pt());return Be()?ke({type:6,rules:he}):Y("@host missing '}'")},"athost"),We=o(()=>{let ke=O(),he=Fe(/^@media *([^{]+)/);if(!he)return null;let Je=Ns(he[1]);if(!He())return Y("@media missing '{'");let Ht=Bt().concat(pt());return Be()?ke({type:10,media:Je,rules:Ht}):Y("@media missing '}'")},"atmedia"),mt=o(()=>{let ke=O(),he=Fe(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);return he?ke({type:2,name:Ns(he[1]),media:Ns(he[2])}):null},"atcustommedia"),rt=o(()=>{let ke=O();if(!Fe(/^@page */))return null;let he=yr()||[];if(!He())return Y("@page missing '{'");let Je=Bt(),Ht;for(;Ht=yt();)Je.push(Ht),Je=Je.concat(Bt());return Be()?ke({type:12,selectors:he,declarations:Je}):Y("@page missing '}'")},"atpage"),kt=o(()=>{let ke=O(),he=Fe(/^@([-\w]+)?document *([^{]+)/);if(!he)return null;let Je=Ns(he[1]),Ht=Ns(he[2]);if(!He())return Y("@document missing '{'");let Qr=Bt().concat(pt());return Be()?ke({type:3,document:Ht,vendor:Je,rules:Qr}):Y("@document missing '}'")},"atdocument"),At=o(()=>{let ke=O();if(!Fe(/^@font-face\s*/))return null;if(!He())return Y("@font-face missing '{'");let he=Bt(),Je;for(;Je=yt();)he.push(Je),he=he.concat(Bt());return Be()?ke({type:5,declarations:he}):Y("@font-face missing '}'")},"atfontface"),at=o((ke,he)=>{let Je=new RegExp("^@"+ke+"\\s*([^;]+);");return()=>{let Ht=O(),Qr=Fe(Je);if(!Qr)return null;let Dr={type:he};return Dr[ke]=Qr[1].trim(),Ht(Dr)}},"compileAtrule"),It=at("import",7),ur=at("charset",0),ua=at("namespace",11),Rt=o(()=>r[0]!=="@"?null:K()||We()||mt()||Jt()||It()||ur()||ua()||kt()||rt()||Ct()||At(),"atrule"),Nt=o(()=>{let ke=O(),he=yr();return he?(Bt(),ke({type:13,selectors:he,declarations:je()})):Y("selector missing")},"rule"),Xi=(er=class{constructor(he){this.start=he,this.end={line:i,column:d},this.source=t}},o(er,"ParsePosition"),er);return Xi.prototype.content=r,{diagnostics:E,...Ip(be())}},"parseCss"),Ns=o(r=>r?r.trim():"","trim"),Ip=o((r,t)=>{let i=r&&typeof r.type=="string",d=i?r:t;for(let E in r){let y=r[E];Array.isArray(y)?y.forEach(function(O){Ip(O,d)}):y&&typeof y=="object"&&Ip(y,d)}return i&&Object.defineProperty(r,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),r},"addParent"),P1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,F2=o(r=>{zr.all.length=zr.tags.length=zr.classNames.length=zr.ids.length=zr.attrs.length=0,r=r.replace(/\./g," .").replace(/\#/g," #").replace(/\[/g," [").replace(/\>/g," > ").replace(/\+/g," + ").replace(/\~/g," ~ ").replace(/\*/g," * ").replace(/\:not\((.*?)\)/g," ");let t=r.split(" ");for(let i=0,d=t.length;i<d;i++)t[i]=t[i].split(":")[0],t[i].length!==0&&(t[i].charAt(0)==="."?zr.classNames.push(t[i].slice(1)):t[i].charAt(0)==="#"?zr.ids.push(t[i].slice(1)):t[i].charAt(0)==="["?(t[i]=t[i].slice(1).split("=")[0].split("]")[0].trim(),zr.attrs.push(t[i].toLowerCase())):/[a-z]/g.test(t[i].charAt(0))&&zr.tags.push(t[i].toLowerCase()));return zr.classNames=zr.classNames.sort((i,d)=>i.length<d.length?-1:i.length>d.length?1:0),zr},"getCssSelectors"),zr={all:[],tags:[],classNames:[],ids:[],attrs:[]},z2=o((r,t)=>{let i=t.usedSelectors||null,d={usedSelectors:i||null,hasUsedAttrs:!!i&&i.attrs.size>0,hasUsedClassNames:!!i&&i.classNames.size>0,hasUsedIds:!!i&&i.ids.size>0,hasUsedTags:!!i&&i.tags.size>0},E=r.rules;if(!E)return"";let y=E.length,O=[];for(let Y=0;Y<y;Y++)O.push($1(d,E[Y],Y,y));return O.join("")},"serializeCss"),$1=o((r,t,i,d)=>{var E;let y=t.type;return y===4?j2(t,i,d):y===13?G2(r,t):y===1?((E=t.comment)==null?void 0:E[0])==="!"?`/*${t.comment}*/`:"":y===10?V2(r,t):y===8?Z2(r,t):y===9?W2(r,t):y===5?Y2(r,t):y===15?q2(r,t):y===7?"@import "+t.import+";":y===0?"@charset "+t.charset+";":y===12?K2(r,t):y===6?"@host{"+Ls(r,t.rules)+"}":y===2?"@custom-media "+t.name+" "+t.media+";":y===3?Q2(r,t):y===11?"@namespace "+t.namespace+";":""},"serializeCssVisitNode"),G2=o((r,t)=>{var i,d;let E=t.declarations,y=r.usedSelectors,O=(d=(i=t.selectors)==null?void 0:i.slice())!=null?d:[];if(E==null||E.length===0)return"";if(y){let He,Be,Fe=!0;for(He=O.length-1;He>=0;He--){let pt=F2(O[He]);Fe=!0;let $t=pt.classNames.length;if($t>0&&r.hasUsedClassNames){for(Be=0;Be<$t;Be++)if(!y.classNames.has(pt.classNames[Be])){Fe=!1;break}}if(Fe&&r.hasUsedTags&&($t=pt.tags.length,$t>0)){for(Be=0;Be<$t;Be++)if(!y.tags.has(pt.tags[Be])){Fe=!1;break}}if(Fe&&r.hasUsedAttrs&&($t=pt.attrs.length,$t>0)){for(Be=0;Be<$t;Be++)if(!y.attrs.has(pt.attrs[Be])){Fe=!1;break}}if(Fe&&r.hasUsedIds&&($t=pt.ids.length,$t>0)){for(Be=0;Be<$t;Be++)if(!y.ids.has(pt.ids[Be])){Fe=!1;break}}Fe||O.splice(He,1)}}if(O.length===0)return"";let Y=[],be="";if(t.selectors)for(let He of t.selectors)be=X2(He),Y.includes(be)||Y.push(be);return`${Y}{${Ls(r,E)}}`},"serializeCssRule"),j2=o((r,t,i)=>r.value===""?"":i-1===t?r.property+":"+r.value:r.property+":"+r.value+";","serializeCssDeclaration"),V2=o((r,t)=>{let i=Ls(r,t.rules);return i===""?"":"@media "+J2(t.media)+"{"+i+"}"},"serializeCssMedia"),Z2=o((r,t)=>{let i=Ls(r,t.keyframes);return i===""?"":"@"+(t.vendor||"")+"keyframes "+t.name+"{"+i+"}"},"serializeCssKeyframes"),W2=o((r,t)=>{var i,d;return((d=(i=t.values)==null?void 0:i.join(","))!=null?d:"")+"{"+Ls(r,t.declarations)+"}"},"serializeCssKeyframe"),Y2=o((r,t)=>{let i=Ls(r,t.declarations);return i===""?"":"@font-face{"+i+"}"},"serializeCssFontFace"),q2=o((r,t)=>{let i=Ls(r,t.rules);return i===""?"":"@supports "+t.supports+"{"+i+"}"},"serializeCssSupports"),K2=o((r,t)=>{var i,d;return"@page "+((d=(i=t.selectors)==null?void 0:i.join(", "))!=null?d:"")+"{"+Ls(r,t.declarations)+"}"},"serializeCssPage"),Q2=o((r,t)=>{let i=Ls(r,t.rules),d="@"+(t.vendor||"")+"document "+t.document;return i===""?"":d+"{"+i+"}"},"serializeCssDocument"),Ls=o((r,t)=>{let i="";if(t)for(let d=0,E=t.length;d<E;d++)i+=$1(r,t[d],d,E);return i},"serializeCssMapVisit"),X2=o(r=>{let t="",i="",d=!1;r=r.trim();for(let E=0,y=r.length;E<y;E++)if(i=r[E],i==="["&&t[t.length-1]!=="\\"?d=!0:i==="]"&&t[t.length-1]!=="\\"&&(d=!1),!d&&Np.test(i)){if(ev.test(r[E+1])||tv.test(t[t.length-1]))continue;t+=" "}else t+=i;return t},"removeSelectorWhitespace"),J2=o(r=>{var t;let i="",d="";r=(t=r?.trim())!=null?t:"";for(let E=0,y=r.length;E<y;E++)if(d=r[E],Np.test(d)){if(Np.test(i[i.length-1]))continue;i+=" "}else i+=d;return i},"removeMediaWhitespace"),Np=/\s/,ev=/[>\(\)\~\,\+\s]/,tv=/[>\(\~\,\+]/,rv=o(r=>{let t={attrs:new Set,classNames:new Set,ids:new Set,tags:new Set};return H1(t,r),t},"getUsedSelectors"),H1=o((r,t)=>{if(t!=null&&t.nodeType===1){let i=t.children,d=t.nodeName.toLowerCase();r.tags.add(d);let E=t.attributes;for(let y=0,O=E.length;y<O;y++){let Y=E.item(y),be=Y.name.toLowerCase();if(r.attrs.add(be),be==="class"){let He=t.classList;for(let Be=0,Fe=He.length;Be<Fe;Be++)r.classNames.add(He.item(Be))}else be==="id"&&r.ids.add(Y.value)}if(i)for(let y=0,O=i.length;y<O;y++)H1(r,i[y])}},"collectUsedSelectors"),sv=o((r,t)=>{try{let i=r.head.querySelectorAll("style[data-styles]"),d=i.length;if(d>0){let E=rv(r.documentElement);for(let y=0;y<d;y++)av(E,t,i[y])}}catch(i){x2(t,i)}},"removeUnusedStyles"),av=o((r,t,i)=>{try{let d=U2(i.innerHTML);if(t.push(...d.diagnostics),Cp(t))return;try{i.innerHTML=z2(d.stylesheet,{usedSelectors:r})}catch(E){t.push({level:"warn",type:"css",header:"CSS Stringify",messageText:E,lines:[]})}}catch(d){t.push({level:"warn",type:"css",header:"CSS Parse",messageText:d,lines:[]})}},"removeUnusedStyleText");function Lp(r,t,i){let d=[...Array.from(t.children),...Array.from(t.shadowRoot?t.shadowRoot.children:[])];for(let E=0,y=d.length;E<y;E++){let O=d[E],Y=O.nodeName.toLowerCase();if(Y.includes("-")){let be=r.components.find(He=>He.tag===Y);be!=null&&(be.count++,i>be.depth&&(be.depth=i))}else switch(Y){case"a":let be=Rc(O);be.href=O.href,typeof be.href=="string"&&(r.anchors.some(pt=>pt.href===be.href)||r.anchors.push(be));break;case"img":let He=Rc(O);He.src=O.src,typeof He.src=="string"&&(r.imgs.some(pt=>pt.src===He.src)||r.imgs.push(He));break;case"link":let Be=Rc(O);Be.href=O.href,typeof Be.rel=="string"&&Be.rel.toLowerCase()==="stylesheet"&&typeof Be.href=="string"&&(r.styles.some(pt=>pt.link===Be.href)||(delete Be.rel,delete Be.type,r.styles.push(Be)));break;case"script":let Fe=Rc(O);if(O.hasAttribute("src"))Fe.src=O.src,typeof Fe.src=="string"&&(r.scripts.some(pt=>pt.src===Fe.src)||r.scripts.push(Fe));else{let pt=O.getAttribute("data-stencil-static");pt&&r.staticData.push({id:pt,type:O.getAttribute("type"),content:O.textContent})}break}i++,Lp(r,O,i)}}o(Lp,"inspectElement");function Rc(r){let t={},i=r.attributes;for(let d=0,E=i.length;d<E;d++){let y=i.item(d),O=y.nodeName.toLowerCase();if(nv.has(O))continue;let Y=y.nodeValue;O==="class"&&Y===""||(t[O]=Y)}return t}o(Rc,"collectAttributes");var nv=new Set(["s-id","c-id"]);function B1(r,t){let i;if(r.defaultView!=null?(t.destroyWindow=!0,_1(r.defaultView),i=r.defaultView):(t.destroyWindow=!0,t.destroyDocument=!1,i=new Yn(!1)),i.document!==r&&(i.document=r),r.defaultView!==i&&(r.defaultView=i),typeof r.documentElement.constructor.prototype.getRootNode!="function"){let d=r.createElement("unknown-element").constructor.prototype;d.getRootNode=U1}if(typeof r.createEvent=="function"){let d=r.createEvent("CustomEvent").constructor;i.CustomEvent!==d&&(i.CustomEvent=d)}try{i.__stencil_baseURI=r.baseURI}catch{Object.defineProperty(r,"baseURI",{get(){let d=r.querySelector("base[href]");return d?new URL(d.getAttribute("href"),i.location.href).href:i.location.href}})}return i}o(B1,"patchDomImplementation");function U1(r){let t=r!=null&&r.composed===!0,i=this;for(;i.parentNode!=null;)i=i.parentNode,t===!0&&i.parentNode==null&&i.host!=null&&(i=i.host);return i}o(U1,"getRootNode");function xp(r){let t=Object.assign({serializeToHtml:!1,destroyWindow:!1,destroyDocument:!1},r||{});return typeof t.clientHydrateAnnotations!="boolean"&&(t.clientHydrateAnnotations=!0),typeof t.constrainTimeouts!="boolean"&&(t.constrainTimeouts=!0),typeof t.maxHydrateCount!="number"&&(t.maxHydrateCount=300),typeof t.runtimeLogging!="boolean"&&(t.runtimeLogging=!1),typeof t.timeout!="number"&&(t.timeout=15e3),Array.isArray(t.excludeComponents)?t.excludeComponents=t.excludeComponents.filter(Rp).map(Op):t.excludeComponents=[],Array.isArray(t.staticComponents)?t.staticComponents=t.staticComponents.filter(Rp).map(Op):t.staticComponents=[],t}o(xp,"normalizeHydrateOptions");function Rp(r){return typeof r=="string"&&r.includes("-")}o(Rp,"filterValidTags");function Op(r){return r.trim().toLowerCase()}o(Op,"mapValidTags");function F1(r){typeof r.url!="string"&&(r.url="https://hydrate.stenciljs.com/"),typeof r.buildId!="string"&&(r.buildId=iv());let t={buildId:r.buildId,diagnostics:[],url:r.url,host:null,hostname:null,href:null,pathname:null,port:null,search:null,hash:null,html:null,httpStatus:null,hydratedCount:0,anchors:[],components:[],imgs:[],scripts:[],staticData:[],styles:[],title:null};try{let i=new URL(r.url,"https://hydrate.stenciljs.com/");t.url=i.href,t.host=i.host,t.hostname=i.hostname,t.href=i.href,t.port=i.port,t.pathname=i.pathname,t.search=i.search,t.hash=i.hash}catch(i){Mr(t,i)}return t}o(F1,"generateHydrateResults");var iv=o(()=>{let r="abcdefghijklmnopqrstuvwxyz",t="";for(;t.length<8;){let i=r[Math.floor(Math.random()*r.length)];t+=i,t.length===1&&(r+="0123456789")}return t},"createHydrateBuildId");function Mp(r,t,i,d){let E={level:t,type:"build",header:i,messageText:d,relFilePath:void 0,absFilePath:void 0,lines:[]};return r.pathname?r.pathname!=="/"&&(E.header+=": "+r.pathname):r.url&&(E.header+=": "+r.url),r.diagnostics.push(E),E}o(Mp,"renderBuildDiagnostic");function Dp(r,t){return Mp(r,"error","Hydrate Error",t||"")}o(Dp,"renderBuildError");function Mr(r,t){let i=Dp(r);return t!=null&&(t.stack!=null?i.messageText=t.stack.toString():t.message!=null?i.messageText=t.message.toString():i.messageText=t.toString()),i}o(Mr,"renderCatchError");function z1(r,t,i){try{let d=r.location.pathname;r.console.error=(...E)=>{let y=E.reduce((O,Y)=>{if(Y){if(Y.stack!=null)return O+" "+String(Y.stack);if(Y.message!=null)return O+" "+String(Y.message)}return String(Y)},"").trim();y!==""&&(Mr(i,y),t.runtimeLogging&&hu(d,"error",[y]))},r.console.debug=(...E)=>{Mp(i,"debug","Hydrate Debug",[...E].join(", ")),t.runtimeLogging&&hu(d,"debug",E)},t.runtimeLogging&&["log","warn","assert","info","trace"].forEach(E=>{r.console[E]=(...y)=>{hu(d,E,y)}})}catch(d){Mr(i,d)}}o(z1,"runtimeLogging");function hu(r,t,i){global.console[t].apply(global.console,[`[ ${r}  ${t} ] `,...i])}o(hu,"runtimeLog");var ov={hostIds:0,rootLevelIds:0,staticComponents:new Set};function G1(r,t,i,d){if(typeof i.url=="string")try{r.location.href=i.url}catch{}if(typeof i.userAgent=="string")try{r.navigator.userAgent=i.userAgent}catch{}if(typeof i.cookie=="string")try{t.cookie=i.cookie}catch{}if(typeof i.referrer=="string")try{t.referrer=i.referrer}catch{}if(typeof i.direction=="string")try{t.documentElement.setAttribute("dir",i.direction)}catch{}if(typeof i.language=="string")try{t.documentElement.setAttribute("lang",i.language)}catch{}if(typeof i.buildId=="string")try{t.documentElement.setAttribute("data-stencil-build",i.buildId)}catch{}try{r.customElements=null}catch{}return i.constrainTimeouts&&N1(r),z1(r,i,d),t[J_]=ov,r}o(G1,"initializeWindow");var j1=o(()=>{},"NOOP");function V1(r,t){return Pp(r,t,!0)}o(V1,"streamToString");function Pp(r,t,i){let d=xp(t);return d.serializeToHtml=!0,d.fullDocument=typeof d.fullDocument=="boolean"?d.fullDocument:!0,d.serializeShadowRoot=typeof d.serializeShadowRoot>"u"?"declarative-shadow-dom":d.serializeShadowRoot,d.constrainTimeouts=!1,$p(r,d,i)}o(Pp,"renderToString");function $p(r,t,i){let d=xp(t),E=null,y=F1(d);if(Cp(y.diagnostics))return Promise.resolve(y);if(typeof r=="string")try{return d.destroyWindow=!0,d.destroyDocument=!0,E=new Yn(r),i?Hp(E,d,y):uu(E,d,y).then(()=>y)}catch(O){return E&&E.close&&E.close(),E=null,Mr(y,O),Promise.resolve(y)}if(Y1(r))try{return d.destroyDocument=!1,E=B1(r,d),i?Hp(E,d,y):uu(E,d,y).then(()=>y)}catch(O){return E&&E.close&&E.close(),E=null,Mr(y,O),Promise.resolve(y)}return Dp(y,'Invalid html or document. Must be either a valid "html" string, or DOM "document".'),Promise.resolve(y)}o($p,"hydrateDocument");async function uu(r,t,i){"process"in globalThis&&typeof process.on=="function"&&!process.__stencilErrors&&(process.__stencilErrors=!0,process.on("unhandledRejection",E=>{console.log("unhandledRejection",E)})),G1(r,r.document,t,i);let d=typeof t.beforeHydrate=="function"?t.beforeHydrate:j1;try{return await Promise.resolve(d(r.document)),new Promise(E=>(Array.isArray(t.modes)&&(Rr.length=0,t.modes.forEach(y=>$2(y))),Pf(r,t,i,Z1,E)))}catch(E){return Mr(i,E),du(r,r.document,t,i)}}o(uu,"render");function Hp(r,t,i){async function*d(){yield(await uu(r,t,i)).html}return o(d,"processRender"),Kt.Readable.from(d())}o(Hp,"renderStream");async function Z1(r,t,i,d){let E=typeof t.afterHydrate=="function"?t.afterHydrate:j1;try{return await Promise.resolve(E(r.document)),d(du(r,r.document,t,i))}catch(y){return Mr(i,y),d(du(r,r.document,t,i))}}o(Z1,"afterHydrate");function du(r,t,i,d){try{if(Lp(d,t.documentElement,0),i.removeUnusedStyles!==!1)try{sv(t,d.diagnostics)}catch(E){Mr(d,E)}if(typeof i.title=="string")try{t.title=i.title}catch(E){Mr(d,E)}d.title=t.title,i.removeScripts&&Up(t.documentElement);try{H2(t,i.canonicalUrl)}catch(E){Mr(d,E)}try{B2(t)}catch{}Cp(d.diagnostics)||(d.httpStatus=200);try{let E=t.head.querySelector('meta[http-equiv="status"]');if(E!=null){let y=E.getAttribute("content");y&&y.length>0&&(d.httpStatus=parseInt(y,10))}}catch{}i.clientHydrateAnnotations&&t.documentElement.classList.add("hydrated"),i.serializeToHtml&&(d.html=Bp(t,i))}catch(E){Mr(d,E)}return W1(r,t,i,d),d}o(du,"finalizeHydrate");function W1(r,t,i,d){if(i.destroyWindow)try{i.destroyDocument||(r.document=null,t.defaultView=null),r.close&&r.close()}catch(E){Mr(d,E)}}o(W1,"destroyWindow");function Bp(r,t){return Ic(r,{approximateLineWidth:t.approximateLineWidth,outerHtml:!1,prettyHtml:t.prettyHtml,removeAttributeQuotes:t.removeAttributeQuotes,removeBooleanAttributeQuotes:t.removeBooleanAttributeQuotes,removeEmptyAttributes:t.removeEmptyAttributes,removeHtmlComments:t.removeHtmlComments,serializeShadowRoot:t.serializeShadowRoot,fullDocument:t.fullDocument})}o(Bp,"serializeDocumentToString");function Y1(r){return r!=null&&r.nodeType===9&&r.documentElement!=null&&r.documentElement.nodeType===1&&r.body!=null&&r.body.nodeType===1}o(Y1,"isValidDocument");function Up(r){let t=r.children;for(let i=t.length-1;i>=0;i--){let d=t[i];Up(d),(d.nodeName==="SCRIPT"||d.nodeName==="LINK"&&d.getAttribute("rel")==="modulepreload")&&d.remove()}}o(Up,"removeScripts"),Ut.createWindowFromHtml=O1,Ut.hydrateDocument=$p,Ut.renderToString=Pp,Ut.serializeDocumentToString=Bp,Ut.streamToString=V1});const oI=X8();/**
* @license
* Copyright Google Inc. All Rights Reserved.
*
* Use of this source code is governed by an MIT-style license that can be
* found in the LICENSE file at https://angular.io/license
*
* This file is a port of shadowCSS from `webcomponents.js` to TypeScript.
* https://github.com/webcomponents/webcomponentsjs/blob/4efecd7e0e/src/ShadowCSS/ShadowCSS.js
* https://github.com/angular/angular/blob/master/packages/compiler/src/shadow_css.ts
*//*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *//*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*//**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE *//**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 *
 * This file is a port of shadowCSS from `webcomponents.js` to TypeScript.
 * https://github.com/webcomponents/webcomponentsjs/blob/4efecd7e0e/src/ShadowCSS/ShadowCSS.js
 * https://github.com/angular/angular/blob/master/packages/compiler/src/shadow_css.ts
 */export{oI as default};
